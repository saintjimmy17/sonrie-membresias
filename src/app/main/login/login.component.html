<app-navbar></app-navbar>

<header class="mb-5">
  <div class="container d-flex justify-content-center">
    <img src="../../../assets/img/icon1.svg" alt="" width="60" />
  </div>
  <div class="container d-flex justify-content-center text-center">
    <h2>
      Bienvenido al <br />
      <span class="header-text-club">Club de Beneficios Sonríe</span> <br />
      <span class="header-text-company">para empresas</span>
    </h2>
  </div>
</header>

<div class="main-container" *ngIf="!isLoggedIn">
  <div
    class="container d-flex justify-content-center bg-white rounded shadow form-container"
  >
    <div class="w-100">
      <h2 class="text-start login-title">Ingresar</h2>
      <h4 class="mb-4">a tu membresía</h4>

      <form [formGroup]="loginForm" (ngSubmit)="handleSubmit()">
        <h5 class="text-secondary">Email</h5>
        <input
          type="text"
          placeholder="Email"
          formControlName="email"
          class="d-flex w-100 mb-3 rounded border border-secondary-subtle p-2"
        />
        <h5 class="text-secondary">Contraseña</h5>
        <input
          type="password"
          placeholder="Contraseña"
          formControlName="password"
          class="d-flex w-100 rounded border border-secondary-subtle p-2"
        />
        <p (click)="openModal()" class="pointer">¿Olvidaste tu contraseña?</p>
        <div class="d-flex justify-content-center">
          <button type="submit" class="submit-button">Ingresar</button>
        </div>
      </form>
    </div>
  </div>
  <div class="d-flex justify-content-center text-center text-white mt-5">
    <h4>
      ¿Querés que <span class="company-text">tu empresa</span> forme parte
      <br />del Club de Beneficios?
    </h4>
  </div>
  <div class="d-flex justify-content-center">
    <button class="register-button" routerLink="/registrarse">
      Registrar empresa
    </button>
  </div>
</div>

<div
  class="container mt-5 mb-5 bg-white rounded shadow credential-container"
  *ngIf="isLoggedIn"
  id="credential-container"
>
  <div class="d-flex justify-content-between">
    <img
      src="../../../assets/img/sonrie-membresiaRecurso 4.png"
      alt=""
      width="100"
      class="m-5 credential-img"
    />
    <div class="">
      <h3 class="text-end mb-0 mt-4 text-member">MIEMBRO</h3>
      <h3 class="text-end mb-0 fw-bold">Club de beneficios</h3>
      <h3 class="text-end mb-0">
        {{ user.company || "Empresa no encontrada" }}
      </h3>
    </div>
  </div>

  <div class="d-flex justify-content-end">
    <img
      src="../../../assets/img/sonrie-membresiaRecurso 5.png"
      alt=""
      width="200"
      class="crendential-logo mb-4"
    />
  </div>

  <div class="d-flex justify-content-end">
    <div>
      <h3 class="text-end fw-bold">
        {{ user.displayName || "Nombre no encontrado" }}
      </h3>
      <h3 class="text-end fw-semibold text-member">
        N°: {{ user.membershipNumber || "Numero no encontrado" }}
      </h3>
      <h3>QR Y CODIGO DE BARRAS AQUÍ</h3>
    </div>
  </div>
</div>

<div class="d-flex justify-content-center" *ngIf="isLoggedIn">
  <button (click)="downloadCredentialAsPDF()" class="download-button">Descargar Credencial como PDF</button>
</div>

<div class="d-flex justify-content-center" *ngIf="isLoggedIn">
  <button (click)="signOut()" class="logout-button">Cerrar sesión</button>
</div>

<app-footer></app-footer>

<app-modal-password></app-modal-password>
