<div class="modal rounded" [ngClass]="{ show: showModal }">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header d-flex justify-content-end">
        <img
          src="../../../../assets/img/icon-x.svg"
          alt=""
          (click)="closeModal()"
          width="20"
          class="close-button"
        />
      </div>

      <ng-container *ngIf="!formSubmitted; else submittedTemplate">
        <div class="modal-body d-flex justify-content-center text-center">
          <h5 class="modal-title">¿Olvidaste tu contraseña?</h5>
        </div>
        <div class="modal-body d-flex justify-content-center text-center">
          <p>
            Ingresa tu email y te enviaremos <br />
            un correo para recuperarla.
          </p>
        </div>
        <form [formGroup]="sendForm" (ngSubmit)="onSubmit()">
          <div class="modal-body d-flex justify-content-center text-center">
            <input
              type="email"
              placeholder="usuario@gmail.com"
              class="rounded"
              formControlName="email"
            />
          </div>
          <div class="modal-footer d-flex justify-content-center text-center">
            <button
              type="submit"
              class="submit-button"
              [disabled]="!sendForm.valid || sendForm.pristine"
            >
              Recuperar contraseña
            </button>
          </div>
        </form>
      </ng-container>

      <!-- Loader -->
      <div
        *ngIf="loading"
        class="modal-body d-flex justify-content-center text-center"
      >
        <div class="spinner d-flex justify-content-center text-center"></div>
        <p>Cargando...</p>
      </div>

      <ng-template #submittedTemplate>
        <div class="container d-flex justify-content-center">
          <img src="../../../../assets/img/icon-avion.svg" alt="" width="40" />
        </div>
        <div class="modal-body d-flex justify-content-center text-center">
          <h5 class="modal-title">Enviado</h5>
        </div>
        <div class="modal-body d-flex justify-content-center text-center">
          <p>Revisa tu email.</p>
        </div>
      </ng-template>
    </div>
  </div>
</div>
