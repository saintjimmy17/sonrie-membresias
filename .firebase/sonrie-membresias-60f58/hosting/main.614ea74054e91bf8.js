"use strict";(self.webpackChunksonrie_membresias=self.webpackChunksonrie_membresias||[]).push([[179],{9058:(dt,De,P)=>{P.d(De,{BH:()=>fe,DV:()=>it,Dv:()=>Pi,G6:()=>ct,GJ:()=>sn,L:()=>ye,LL:()=>Me,Pz:()=>O,Sg:()=>Le,UG:()=>gt,UI:()=>zn,US:()=>ie,Wj:()=>Kt,Wl:()=>Rt,Yr:()=>ut,ZB:()=>le,ZR:()=>Re,aH:()=>he,b$:()=>Dt,cI:()=>Dn,dS:()=>Bt,eu:()=>oe,g5:()=>W,gK:()=>_t,gQ:()=>At,h$:()=>Ie,hl:()=>ee,hu:()=>X,jU:()=>Se,lb:()=>mr,m9:()=>Sr,ne:()=>En,p$:()=>q,pd:()=>Ht,r3:()=>Yt,ru:()=>at,tV:()=>Z,uI:()=>Ze,ug:()=>kn,vZ:()=>xn,w1:()=>hn,w9:()=>mn,xO:()=>Tn,xb:()=>nn,z$:()=>Ne,zd:()=>St});const _={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},X=function(te,j){if(!te)throw W(j)},W=function(te){return new Error("Firebase Database ("+_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+te)},z=function(te){const j=[];let H=0;for(let U=0;U<te.length;U++){let V=te.charCodeAt(U);V<128?j[H++]=V:V<2048?(j[H++]=V>>6|192,j[H++]=63&V|128):55296==(64512&V)&&U+1<te.length&&56320==(64512&te.charCodeAt(U+1))?(V=65536+((1023&V)<<10)+(1023&te.charCodeAt(++U)),j[H++]=V>>18|240,j[H++]=V>>12&63|128,j[H++]=V>>6&63|128,j[H++]=63&V|128):(j[H++]=V>>12|224,j[H++]=V>>6&63|128,j[H++]=63&V|128)}return j},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,j){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let V=0;V<te.length;V+=3){const ce=te[V],Oe=V+1<te.length,st=Oe?te[V+1]:0,mt=V+2<te.length,xt=mt?te[V+2]:0;let pn=(15&st)<<2|xt>>6,ge=63&xt;mt||(ge=64,Oe||(pn=64)),U.push(H[ce>>2],H[(3&ce)<<4|st>>4],H[pn],H[ge])}return U.join("")},encodeString(te,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(te):this.encodeByteArray(z(te),j)},decodeString(te,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(te):function(te){const j=[];let H=0,U=0;for(;H<te.length;){const V=te[H++];if(V<128)j[U++]=String.fromCharCode(V);else if(V>191&&V<224){const ce=te[H++];j[U++]=String.fromCharCode((31&V)<<6|63&ce)}else if(V>239&&V<365){const mt=((7&V)<<18|(63&te[H++])<<12|(63&te[H++])<<6|63&te[H++])-65536;j[U++]=String.fromCharCode(55296+(mt>>10)),j[U++]=String.fromCharCode(56320+(1023&mt))}else{const ce=te[H++],Oe=te[H++];j[U++]=String.fromCharCode((15&V)<<12|(63&ce)<<6|63&Oe)}}return j.join("")}(this.decodeStringToByteArray(te,j))},decodeStringToByteArray(te,j){this.init_();const H=j?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let V=0;V<te.length;){const ce=H[te.charAt(V++)],st=V<te.length?H[te.charAt(V)]:0;++V;const xt=V<te.length?H[te.charAt(V)]:64;++V;const yt=V<te.length?H[te.charAt(V)]:64;if(++V,null==ce||null==st||null==xt||null==yt)throw new ae;U.push(ce<<2|st>>4),64!==xt&&(U.push(st<<4&240|xt>>2),64!==yt&&U.push(xt<<6&192|yt))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}};class ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(te){const j=z(te);return ie.encodeByteArray(j,!0)},ye=function(te){return Ie(te).replace(/\./g,"")},Z=function(te){try{return ie.decodeString(te,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function q(te){return le(void 0,te)}function le(te,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===te&&(te={});break;case Array:te=[];break;default:return j}for(const H in j)!j.hasOwnProperty(H)||!xe(H)||(te[H]=le(te[H],j[H]));return te}function xe(te){return"__proto__"!==te}const Ve=()=>{try{return function Fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const te=process.env.__FIREBASE_DEFAULTS__;return te?JSON.parse(te):void 0})()||(()=>{if(typeof document>"u")return;let te;try{te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=te&&Z(te[1]);return j&&JSON.parse(j)})()}catch(te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${te}`)}},he=()=>{var te;return null===(te=Ve())||void 0===te?void 0:te.config},O=te=>{var j;return null===(j=Ve())||void 0===j?void 0:j[`_${te}`]};class fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,H)=>{this.resolve=j,this.reject=H})}wrapCallback(j){return(H,U)=>{H?this.reject(H):this.resolve(U),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(H):j(H,U))}}}function Le(te,j){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=j||"demo-project",V=te.iat||0,ce=te.sub||te.user_id;if(!ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Oe=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:V,exp:V+3600,auth_time:V,sub:ce,user_id:ce,firebase:{sign_in_provider:"custom",identities:{}}},te);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(Oe)),""].join(".")}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function gt(){var te;const j=null===(te=Ve())||void 0===te?void 0:te.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Se(){return"object"==typeof self&&self.self===self}function at(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function Dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function hn(){const te=Ne();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function ut(){return!0===_.NODE_CLIENT||!0===_.NODE_ADMIN}function ct(){return!gt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ee(){try{return"object"==typeof indexedDB}catch{return!1}}function oe(){return new Promise((te,j)=>{try{let H=!0;const U="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open(U);V.onsuccess=()=>{V.result.close(),H||self.indexedDB.deleteDatabase(U),te(!0)},V.onupgradeneeded=()=>{H=!1},V.onerror=()=>{var ce;j((null===(ce=V.error)||void 0===ce?void 0:ce.message)||"")}}catch(H){j(H)}})}class Re extends Error{constructor(j,H,U){super(H),this.code=j,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(j,H,U){this.service=j,this.serviceName=H,this.errors=U}create(j,...H){const U=H[0]||{},V=`${this.service}/${j}`,ce=this.errors[j],Oe=ce?function $e(te,j){return te.replace(qe,(H,U)=>{const V=j[U];return null!=V?String(V):`<${U}?>`})}(ce,U):"Error";return new Re(V,`${this.serviceName}: ${Oe} (${V}).`,U)}}const qe=/\{\$([^}]+)}/g;function Dn(te){return JSON.parse(te)}function Rt(te){return JSON.stringify(te)}const $t=function(te){let j={},H={},U={},V="";try{const ce=te.split(".");j=Dn(Z(ce[0])||""),H=Dn(Z(ce[1])||""),V=ce[2],U=H.d||{},delete H.d}catch{}return{header:j,claims:H,data:U,signature:V}},mn=function(te){const H=$t(te).claims;return!!H&&"object"==typeof H&&H.hasOwnProperty("iat")},sn=function(te){const j=$t(te).claims;return"object"==typeof j&&!0===j.admin};function Yt(te,j){return Object.prototype.hasOwnProperty.call(te,j)}function it(te,j){if(Object.prototype.hasOwnProperty.call(te,j))return te[j]}function nn(te){for(const j in te)if(Object.prototype.hasOwnProperty.call(te,j))return!1;return!0}function zn(te,j,H){const U={};for(const V in te)Object.prototype.hasOwnProperty.call(te,V)&&(U[V]=j.call(H,te[V],V,te));return U}function xn(te,j){if(te===j)return!0;const H=Object.keys(te),U=Object.keys(j);for(const V of H){if(!U.includes(V))return!1;const ce=te[V],Oe=j[V];if(br(ce)&&br(Oe)){if(!xn(ce,Oe))return!1}else if(ce!==Oe)return!1}for(const V of U)if(!H.includes(V))return!1;return!0}function br(te){return null!==te&&"object"==typeof te}function Tn(te){const j=[];for(const[H,U]of Object.entries(te))Array.isArray(U)?U.forEach(V=>{j.push(encodeURIComponent(H)+"="+encodeURIComponent(V))}):j.push(encodeURIComponent(H)+"="+encodeURIComponent(U));return j.length?"&"+j.join("&"):""}function St(te){const j={};return te.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[V,ce]=U.split("=");j[decodeURIComponent(V)]=decodeURIComponent(ce)}}),j}function Ht(te){const j=te.indexOf("?");if(!j)return"";const H=te.indexOf("#",j);return te.substring(j,H>0?H:void 0)}class At{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(j,H){H||(H=0);const U=this.W_;if("string"==typeof j)for(let yt=0;yt<16;yt++)U[yt]=j.charCodeAt(H)<<24|j.charCodeAt(H+1)<<16|j.charCodeAt(H+2)<<8|j.charCodeAt(H+3),H+=4;else for(let yt=0;yt<16;yt++)U[yt]=j[H]<<24|j[H+1]<<16|j[H+2]<<8|j[H+3],H+=4;for(let yt=16;yt<80;yt++){const pn=U[yt-3]^U[yt-8]^U[yt-14]^U[yt-16];U[yt]=4294967295&(pn<<1|pn>>>31)}let xt,wt,V=this.chain_[0],ce=this.chain_[1],Oe=this.chain_[2],st=this.chain_[3],mt=this.chain_[4];for(let yt=0;yt<80;yt++){yt<40?yt<20?(xt=st^ce&(Oe^st),wt=1518500249):(xt=ce^Oe^st,wt=1859775393):yt<60?(xt=ce&Oe|st&(ce|Oe),wt=2400959708):(xt=ce^Oe^st,wt=3395469782);const pn=(V<<5|V>>>27)+xt+mt+wt+U[yt]&4294967295;mt=st,st=Oe,Oe=4294967295&(ce<<30|ce>>>2),ce=V,V=pn}this.chain_[0]=this.chain_[0]+V&4294967295,this.chain_[1]=this.chain_[1]+ce&4294967295,this.chain_[2]=this.chain_[2]+Oe&4294967295,this.chain_[3]=this.chain_[3]+st&4294967295,this.chain_[4]=this.chain_[4]+mt&4294967295}update(j,H){if(null==j)return;void 0===H&&(H=j.length);const U=H-this.blockSize;let V=0;const ce=this.buf_;let Oe=this.inbuf_;for(;V<H;){if(0===Oe)for(;V<=U;)this.compress_(j,V),V+=this.blockSize;if("string"==typeof j){for(;V<H;)if(ce[Oe]=j.charCodeAt(V),++Oe,++V,Oe===this.blockSize){this.compress_(ce),Oe=0;break}}else for(;V<H;)if(ce[Oe]=j[V],++Oe,++V,Oe===this.blockSize){this.compress_(ce),Oe=0;break}}this.inbuf_=Oe,this.total_+=H}digest(){const j=[];let H=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let V=this.blockSize-1;V>=56;V--)this.buf_[V]=255&H,H/=256;this.compress_(this.buf_);let U=0;for(let V=0;V<5;V++)for(let ce=24;ce>=0;ce-=8)j[U]=this.chain_[V]>>ce&255,++U;return j}}function En(te,j){const H=new Sn(te,j);return H.subscribe.bind(H)}class Sn{constructor(j,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{j(this)}).catch(U=>{this.error(U)})}next(j){this.forEachObserver(H=>{H.next(j)})}error(j){this.forEachObserver(H=>{H.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,H,U){let V;if(void 0===j&&void 0===H&&void 0===U)throw new Error("Missing Observer.");V=function Xt(te,j){if("object"!=typeof te||null===te)return!1;for(const H of j)if(H in te&&"function"==typeof te[H])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:H,complete:U},void 0===V.next&&(V.next=Pn),void 0===V.error&&(V.error=Pn),void 0===V.complete&&(V.complete=Pn);const ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?V.error(this.finalError):V.complete()}catch{}}),this.observers.push(V),ce}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,j)}sendOne(j,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{H(this.observers[j])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pn(){}const Pi=function(te,j,H,U){let V;if(U<j?V="at least "+j:U>H&&(V=0===H?"none":"no more than "+H),V)throw new Error(te+" failed: Was called with "+U+(1===U?" argument.":" arguments.")+" Expects "+V+".")};function _t(te,j){return`${te} failed: ${j} argument `}function Kt(te,j,H,U){if((!U||H)&&"function"!=typeof H)throw new Error(_t(te,j)+"must be a valid function.")}function mr(te,j,H,U){if((!U||H)&&("object"!=typeof H||null===H))throw new Error(_t(te,j)+"must be a valid context object.")}const Bt=function(te){const j=[];let H=0;for(let U=0;U<te.length;U++){let V=te.charCodeAt(U);if(V>=55296&&V<=56319){const ce=V-55296;U++,X(U<te.length,"Surrogate pair missing trail surrogate."),V=65536+(ce<<10)+(te.charCodeAt(U)-56320)}V<128?j[H++]=V:V<2048?(j[H++]=V>>6|192,j[H++]=63&V|128):V<65536?(j[H++]=V>>12|224,j[H++]=V>>6&63|128,j[H++]=63&V|128):(j[H++]=V>>18|240,j[H++]=V>>12&63|128,j[H++]=V>>6&63|128,j[H++]=63&V|128)}return j},kn=function(te){let j=0;for(let H=0;H<te.length;H++){const U=te.charCodeAt(H);U<128?j++:U<2048?j+=2:U>=55296&&U<=56319?(j+=4,H++):j+=3}return j};function Sr(te){return te&&te._delegate?te._delegate:te}},9235:(dt,De,P)=>{P.d(De,{Y:()=>z});var _=P(9862),X=P(9413),W=P(5879);let z=(()=>{class re{constructor(ae){this.http=ae}sendMessage(ae){let Ie={headers:new _.WM({"Content-Type":"application/json"})};return this.http.post("http://localhost:3000/email",ae,Ie)}sendRegisterMail(ae,Ie,ye,Z){return this.http.post(`${X.N.api}/sendRegisterMail`,{name:ae,email:Ie,company:ye,phoneNumber:Z})}sendRecoverPassword(ae){return this.http.post(`${X.N.api}/sendRecoverPassword`,{email:ae})}static#e=this.\u0275fac=function(Ie){return new(Ie||re)(W.LFG(_.eN))};static#t=this.\u0275prov=W.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})()},9413:(dt,De,P)=>{P.d(De,{N:()=>_});const _={firebaseConfig:{apiKey:"AIzaSyBg1NQo-D7PuBfbLL6LHubCDLPuMmbSpXs",authDomain:"sonrie-membresias-60f58.firebaseapp.com",projectId:"sonrie-membresias-60f58",storageBucket:"sonrie-membresias-60f58.appspot.com",messagingSenderId:"538542720323",appId:"1:538542720323:web:805a2195e433656761dbf6",measurementId:"G-M3KFTD3DV6"},production:!0,api:"https://us-central1-sonrie-membresias-60f58.cloudfunctions.net/api"}},351:(dt,De,P)=>{var _=P(6593),X=P(3781),W=P(5879);const z=[{path:"",loadChildren:()=>P.e(831).then(P.bind(P,2831)).then(o=>o.MainModule)}];let re=(()=>{class o{static#e=this.\u0275fac=function(l){return new(l||o)};static#t=this.\u0275mod=W.oAB({type:o});static#n=this.\u0275inj=W.cJS({imports:[X.Bz.forRoot(z),X.Bz]})}return o})(),ie=(()=>{class o{constructor(){this.title="sonrie-membresias"}static#e=this.\u0275fac=function(l){return new(l||o)};static#t=this.\u0275cmp=W.Xpm({type:o,selectors:[["app-root"]],decls:1,vars:0,template:function(l,h){1&l&&W._UZ(0,"router-outlet")},dependencies:[X.lC]})}return o})();var ae=P(7213),Ie=P(8326),ye=P(5592),Z=P(2096),q=P(2459),le=P(6321),xe=P(9360),Fe=P(8251),Be=P(7398),Je=P(4664),Ve=P(7217),Ct=P(3106),ft=P(5861),he=P(534),O=P(9058),fe=P(4537);const Le="firebasestorage.googleapis.com",Ne="storageBucket";class at extends O.ZR{constructor(r,s,l=0){super(Ut(r),`Firebase Storage: ${s} (${Ut(r)})`),this.status_=l,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,at.prototype)}get status(){return this.status_}set status(r){this.status_=r}_codeEquals(r){return Ut(r)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(r){this.customData.serverResponse=r,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Dt=function(o){return o.UNKNOWN="unknown",o.OBJECT_NOT_FOUND="object-not-found",o.BUCKET_NOT_FOUND="bucket-not-found",o.PROJECT_NOT_FOUND="project-not-found",o.QUOTA_EXCEEDED="quota-exceeded",o.UNAUTHENTICATED="unauthenticated",o.UNAUTHORIZED="unauthorized",o.UNAUTHORIZED_APP="unauthorized-app",o.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",o.INVALID_CHECKSUM="invalid-checksum",o.CANCELED="canceled",o.INVALID_EVENT_NAME="invalid-event-name",o.INVALID_URL="invalid-url",o.INVALID_DEFAULT_BUCKET="invalid-default-bucket",o.NO_DEFAULT_BUCKET="no-default-bucket",o.CANNOT_SLICE_BLOB="cannot-slice-blob",o.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",o.NO_DOWNLOAD_URL="no-download-url",o.INVALID_ARGUMENT="invalid-argument",o.INVALID_ARGUMENT_COUNT="invalid-argument-count",o.APP_DELETED="app-deleted",o.INVALID_ROOT_OPERATION="invalid-root-operation",o.INVALID_FORMAT="invalid-format",o.INTERNAL_ERROR="internal-error",o.UNSUPPORTED_ENVIRONMENT="unsupported-environment",o}(Dt||{});function Ut(o){return"storage/"+o}function hn(){return new at(Dt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ee(){return new at(Dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function me(){return new at(Dt.CANCELED,"User canceled the upload/download.")}function qe(){return new at(Dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Mt(o){return new at(Dt.INVALID_ARGUMENT,o)}function un(){return new at(Dt.APP_DELETED,"The Firebase app was deleted.")}function mn(o){return new at(Dt.INVALID_ROOT_OPERATION,"The operation '"+o+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sn(o,r){return new at(Dt.INVALID_FORMAT,"String does not match format '"+o+"': "+r)}function Yt(o){throw new at(Dt.INTERNAL_ERROR,"Internal error: "+o)}class it{constructor(r,s){this.bucket=r,this.path_=s}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const r=encodeURIComponent;return"/b/"+r(this.bucket)+"/o/"+r(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(r,s){let l;try{l=it.makeFromUrl(r,s)}catch{return new it(r,"")}if(""===l.path)return l;throw function Me(o){return new at(Dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+o+"'.")}(r)}static makeFromUrl(r,s){let l=null;const h="([A-Za-z0-9.\\-_]+)",N=new RegExp("^gs://"+h+"(/(.*))?$","i");function $(Or){Or.path_=decodeURIComponent(Or.path)}const be=s.replace(/[.]/g,"\\."),gr=[{regex:N,indices:{bucket:1,path:3},postModify:function E(Or){"/"===Or.path.charAt(Or.path.length-1)&&(Or.path_=Or.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${be}/v[A-Za-z0-9_]+/b/${h}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:$},{regex:new RegExp(`^https?://${s===Le?"(?:storage.googleapis.com|storage.cloud.google.com)":s}/${h}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:$}];for(let Or=0;Or<gr.length;Or++){const gl=gr[Or],Iu=gl.regex.exec(r);if(Iu){let Cu=Iu[gl.indices.path];Cu||(Cu=""),l=new it(Iu[gl.indices.bucket],Cu),gl.postModify(l);break}}if(null==l)throw function Re(o){return new at(Dt.INVALID_URL,"Invalid URL '"+o+"'.")}(r);return l}}class nn{constructor(r){this.promise_=Promise.reject(r)}getPromise(){return this.promise_}cancel(r=!1){}}function St(o){return"string"==typeof o||o instanceof String}function Ht(o){return At()&&o instanceof Blob}function At(){return typeof Blob<"u"}function En(o,r,s,l){if(l<r)throw Mt(`Invalid value for '${o}'. Expected ${r} or greater.`);if(l>s)throw Mt(`Invalid value for '${o}'. Expected ${s} or less.`)}function Sn(o,r,s){let l=r;return null==s&&(l=`https://${r}`),`${s}://${l}/v0${o}`}function qn(o){const r=encodeURIComponent;let s="?";for(const l in o)o.hasOwnProperty(l)&&(s=s+(r(l)+"=")+r(o[l])+"&");return s=s.slice(0,-1),s}var Xt=function(o){return o[o.NO_ERROR=0]="NO_ERROR",o[o.NETWORK_ERROR=1]="NETWORK_ERROR",o[o.ABORT=2]="ABORT",o}(Xt||{});function Pn(o,r){const s=o>=500&&o<600,h=-1!==[408,429].indexOf(o),E=-1!==r.indexOf(o);return s||h||E}class Pi{constructor(r,s,l,h,E,b,N,B,$,_e,be,Ae=!0){this.url_=r,this.method_=s,this.headers_=l,this.body_=h,this.successCodes_=E,this.additionalRetryCodes_=b,this.callback_=N,this.errorCallback_=B,this.timeout_=$,this.progressCallback_=_e,this.connectionFactory_=be,this.retry=Ae,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((et,ht)=>{this.resolve_=et,this.reject_=ht,this.start_()})}start_(){const s=(l,h)=>{const E=this.resolve_,b=this.reject_,N=h.connection;if(h.wasSuccessCode)try{const B=this.callback_(N,N.getResponse());!function br(o){return void 0!==o}(B)?E():E(B)}catch(B){b(B)}else if(null!==N){const B=hn();B.serverResponse=N.getErrorText(),b(this.errorCallback_?this.errorCallback_(N,B):B)}else b(h.canceled?this.appDelete_?un():me():Ee())};this.canceled_?s(0,new _t(!1,null,!0)):this.backoffId_=function zn(o,r,s){let l=1,h=null,E=null,b=!1,N=0;function B(){return 2===N}let $=!1;function _e(...Qt){$||($=!0,r.apply(null,Qt))}function be(Qt){h=setTimeout(()=>{h=null,o(et,B())},Qt)}function Ae(){E&&clearTimeout(E)}function et(Qt,...nr){if($)return void Ae();if(Qt)return Ae(),void _e.call(null,Qt,...nr);if(B()||b)return Ae(),void _e.call(null,Qt,...nr);let gr;l<64&&(l*=2),1===N?(N=2,gr=0):gr=1e3*(l+Math.random()),be(gr)}let ht=!1;function Vt(Qt){ht||(ht=!0,Ae(),!$&&(null!==h?(Qt||(N=2),clearTimeout(h),be(0)):Qt||(N=1)))}return be(0),E=setTimeout(()=>{b=!0,Vt(!0)},s),Vt}((l,h)=>{if(h)return void l(!1,new _t(!1,null,!0));const E=this.connectionFactory_();this.pendingConnection_=E;const b=N=>{null!==this.progressCallback_&&this.progressCallback_(N.loaded,N.lengthComputable?N.total:-1)};null!==this.progressCallback_&&E.addUploadProgressListener(b),E.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&E.removeUploadProgressListener(b),this.pendingConnection_=null;const N=E.getErrorCode()===Xt.NO_ERROR,B=E.getStatus();if(!N||Pn(B,this.additionalRetryCodes_)&&this.retry){const _e=E.getErrorCode()===Xt.ABORT;return void l(!1,new _t(!1,null,_e))}const $=-1!==this.successCodes_.indexOf(B);l(!0,new _t($,E))})},s,this.timeout_)}getPromise(){return this.promise_}cancel(r){this.canceled_=!0,this.appDelete_=r||!1,null!==this.backoffId_&&function xn(o){o(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class _t{constructor(r,s,l){this.wasSuccessCode=r,this.connection=s,this.canceled=!!l}}function Gn(...o){const r=function $r(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==r){const s=new r;for(let l=0;l<o.length;l++)s.append(o[l]);return s.getBlob()}if(At())return new Blob(o);throw new at(Dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ln={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qr{constructor(r,s){this.data=r,this.contentType=s||null}}function sr(o,r){switch(o){case Ln.RAW:return new Qr(_r(r));case Ln.BASE64:case Ln.BASE64URL:return new Qr(te(o,r));case Ln.DATA_URL:return new Qr(function H(o){const r=new j(o);return r.base64?te(Ln.BASE64,r.rest):function Sr(o){let r;try{r=decodeURIComponent(o)}catch{throw sn(Ln.DATA_URL,"Malformed data URL.")}return _r(r)}(r.rest)}(r),function U(o){return new j(o).contentType}(r))}throw hn()}function _r(o){const r=[];for(let s=0;s<o.length;s++){let l=o.charCodeAt(s);l<=127?r.push(l):l<=2047?r.push(192|l>>6,128|63&l):55296==(64512&l)?s<o.length-1&&56320==(64512&o.charCodeAt(s+1))?(l=65536|(1023&l)<<10|1023&o.charCodeAt(++s),r.push(240|l>>18,128|l>>12&63,128|l>>6&63,128|63&l)):r.push(239,191,189):56320==(64512&l)?r.push(239,191,189):r.push(224|l>>12,128|l>>6&63,128|63&l)}return new Uint8Array(r)}function te(o,r){switch(o){case Ln.BASE64:{const h=-1!==r.indexOf("-"),E=-1!==r.indexOf("_");if(h||E)throw sn(o,"Invalid character '"+(h?"-":"_")+"' found: is it base64url encoded?");break}case Ln.BASE64URL:{const h=-1!==r.indexOf("+"),E=-1!==r.indexOf("/");if(h||E)throw sn(o,"Invalid character '"+(h?"+":"/")+"' found: is it base64 encoded?");r=r.replace(/-/g,"+").replace(/_/g,"/");break}}let s;try{s=function ir(o){if(typeof atob>"u")throw function $t(o){return new at(Dt.UNSUPPORTED_ENVIRONMENT,`${o} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(o)}(r)}catch(h){throw h.message.includes("polyfill")?h:sn(o,"Invalid character found")}const l=new Uint8Array(s.length);for(let h=0;h<s.length;h++)l[h]=s.charCodeAt(h);return l}class j{constructor(r){this.base64=!1,this.contentType=null;const s=r.match(/^data:([^,]+)?,/);if(null===s)throw sn(Ln.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const l=s[1]||null;null!=l&&(this.base64=function V(o,r){return o.length>=r.length&&o.substring(o.length-r.length)===r}(l,";base64"),this.contentType=this.base64?l.substring(0,l.length-7):l),this.rest=r.substring(r.indexOf(",")+1)}}class ce{constructor(r,s){let l=0,h="";Ht(r)?(this.data_=r,l=r.size,h=r.type):r instanceof ArrayBuffer?(s?this.data_=new Uint8Array(r):(this.data_=new Uint8Array(r.byteLength),this.data_.set(new Uint8Array(r))),l=this.data_.length):r instanceof Uint8Array&&(s?this.data_=r:(this.data_=new Uint8Array(r.length),this.data_.set(r)),l=r.length),this.size_=l,this.type_=h}size(){return this.size_}type(){return this.type_}slice(r,s){if(Ht(this.data_)){const h=function rr(o,r,s){return o.webkitSlice?o.webkitSlice(r,s):o.mozSlice?o.mozSlice(r,s):o.slice?o.slice(r,s):null}(this.data_,r,s);return null===h?null:new ce(h)}{const l=new Uint8Array(this.data_.buffer,r,s-r);return new ce(l,!0)}}static getBlob(...r){if(At()){const s=r.map(l=>l instanceof ce?l.data_:l);return new ce(Gn.apply(null,s))}{const s=r.map(b=>St(b)?sr(Ln.RAW,b).data:b.data_);let l=0;s.forEach(b=>{l+=b.byteLength});const h=new Uint8Array(l);let E=0;return s.forEach(b=>{for(let N=0;N<b.length;N++)h[E++]=b[N]}),new ce(h,!0)}}uploadData(){return this.data_}}function Oe(o){let r;try{r=JSON.parse(o)}catch{return null}return function Tn(o){return"object"==typeof o&&!Array.isArray(o)}(r)?r:null}function xt(o){const r=o.lastIndexOf("/",o.length-2);return-1===r?o:o.slice(r+1)}function wt(o,r){return r}class yt{constructor(r,s,l,h){this.server=r,this.local=s||r,this.writable=!!l,this.xform=h||wt}}let pn=null;function J(){if(pn)return pn;const o=[];o.push(new yt("bucket")),o.push(new yt("generation")),o.push(new yt("metageneration")),o.push(new yt("name","fullPath",!0));const s=new yt("name");s.xform=function r(E,b){return function ge(o){return!St(o)||o.length<2?o:xt(o)}(b)},o.push(s);const h=new yt("size");return h.xform=function l(E,b){return void 0!==b?Number(b):b},o.push(h),o.push(new yt("timeCreated")),o.push(new yt("updated")),o.push(new yt("md5Hash",null,!0)),o.push(new yt("cacheControl",null,!0)),o.push(new yt("contentDisposition",null,!0)),o.push(new yt("contentEncoding",null,!0)),o.push(new yt("contentLanguage",null,!0)),o.push(new yt("contentType",null,!0)),o.push(new yt("metadata","customMetadata",!0)),pn=o,pn}function Ke(o,r,s){const l=Oe(r);return null===l?null:function He(o,r,s){const l={type:"file"},h=s.length;for(let E=0;E<h;E++){const b=s[E];l[b.local]=b.xform(l,r[b.server])}return function se(o,r){Object.defineProperty(o,"ref",{get:function s(){const E=new it(o.bucket,o.fullPath);return r._makeStorageReference(E)}})}(l,o),l}(o,l,s)}function tt(o,r){const s={},l=r.length;for(let h=0;h<l;h++){const E=r[h];E.writable&&(s[E.server]=o[E.local])}return JSON.stringify(s)}const zt="prefixes",ne="items";class Ge{constructor(r,s,l,h){this.url=r,this.method=s,this.handler=l,this.timeout=h,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function pt(o){if(!o)throw hn()}function Tt(o,r){return function s(l,h){const E=Ke(o,h,r);return pt(null!==E),E}}function Nt(o){return function r(s,l){let h;return h=401===s.getStatus()?s.getErrorText().includes("Firebase App Check token is invalid")?function ee(){return new at(Dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ct(){return new at(Dt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===s.getStatus()?function ut(o){return new at(Dt.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(o.bucket):403===s.getStatus()?function oe(o){return new at(Dt.UNAUTHORIZED,"User does not have permission to access '"+o+"'.")}(o.path):l,h.status=s.getStatus(),h.serverResponse=l.serverResponse,h}}function _n(o){const r=Nt(o);return function s(l,h){let E=r(l,h);return 404===l.getStatus()&&(E=function an(o){return new at(Dt.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")}(o.path)),E.serverResponse=h.serverResponse,E}}function Ar(o,r,s){const h=Sn(r.fullServerUrl(),o.host,o._protocol),b=o.maxOperationRetryTime,N=new Ge(h,"GET",Tt(o,s),b);return N.errorHandler=_n(r),N}function Qn(o,r,s,l,h){const E={};E.prefix=r.isRoot?"":r.path+"/",s&&s.length>0&&(E.delimiter=s),l&&(E.pageToken=l),h&&(E.maxResults=h);const N=Sn(r.bucketOnlyServerUrl(),o.host,o._protocol),$=o.maxOperationRetryTime,_e=new Ge(N,"GET",function Pt(o,r){return function s(l,h){const E=function Pe(o,r,s){const l=Oe(s);return null===l?null:function de(o,r,s){const l={prefixes:[],items:[],nextPageToken:s.nextPageToken};if(s[zt])for(const h of s[zt]){const E=h.replace(/\/$/,""),b=o._makeStorageReference(new it(r,E));l.prefixes.push(b)}if(s[ne])for(const h of s[ne]){const E=o._makeStorageReference(new it(r,h.name));l.items.push(E)}return l}(o,r,l)}(o,r,h);return pt(null!==E),E}}(o,r.bucket),$);return _e.urlParams=E,_e.errorHandler=Nt(r),_e}function Ps(o,r,s){const l=Object.assign({},s);return l.fullPath=o.path,l.size=r.size(),l.contentType||(l.contentType=function Ms(o,r){return o&&o.contentType||r&&r.type()||"application/octet-stream"}(null,r)),l}class lr{constructor(r,s,l,h){this.current=r,this.total=s,this.finalized=!!l,this.metadata=h||null}}function Zi(o,r){let s=null;try{s=o.getResponseHeader("X-Goog-Upload-Status")}catch{pt(!1)}return pt(!!s&&-1!==(r||["active"]).indexOf(s)),s}const ds={STATE_CHANGED:"state_changed"},Xn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ki(o){switch(o){case"running":case"pausing":case"canceling":return Xn.RUNNING;case"paused":return Xn.PAUSED;case"success":return Xn.SUCCESS;case"canceled":return Xn.CANCELED;default:return Xn.ERROR}}class kr{constructor(r,s,l){if(function Tr(o){return"function"==typeof o}(r)||null!=s||null!=l)this.next=r,this.error=s??void 0,this.complete=l??void 0;else{const E=r;this.next=E.next,this.error=E.error,this.complete=E.complete}}}function hs(o){return(...r)=>{Promise.resolve().then(()=>o(...r))}}let xs=null;class Su{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xt.NO_ERROR,this.sendPromise_=new Promise(r=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xt.ABORT,r()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xt.NETWORK_ERROR,r()}),this.xhr_.addEventListener("load",()=>{r()})})}send(r,s,l,h){if(this.sent_)throw Yt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(s,r,!0),void 0!==h)for(const E in h)h.hasOwnProperty(E)&&this.xhr_.setRequestHeader(E,h[E].toString());return void 0!==l?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(r){return this.xhr_.getResponseHeader(r)}addUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",r)}removeUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",r)}}class Au extends Su{initXhr(){this.xhr_.responseType="text"}}function zr(){return xs?xs():new Au}class Di{constructor(r,s,l=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=r,this._blob=s,this._metadata=l,this._mappings=J(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=h=>{if(this._request=void 0,this._chunkMultiplier=1,h._codeEquals(Dt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const E=this.isExponentialBackoffExpired();if(Pn(h.status,[])){if(!E)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();h=Ee()}this._error=h,this._transition("error")}},this._metadataErrorHandler=h=>{this._request=void 0,h._codeEquals(Dt.CANCELED)?this.completeTransitions_():(this._error=h,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((h,E)=>{this._resolve=h,this._reject=E,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const r=this._transferred;return s=>this._updateProgress(r+s)}_shouldDoResumable(r){return r.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(r){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([s,l])=>{switch(this._state){case"running":r(s,l);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((r,s)=>{const l=function Wr(o,r,s,l,h){const E=r.bucketOnlyServerUrl(),b=Ps(r,l,h),N={name:b.fullPath},B=Sn(E,o.host,o._protocol),_e={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l.size()}`,"X-Goog-Upload-Header-Content-Type":b.contentType,"Content-Type":"application/json; charset=utf-8"},be=tt(b,s),ht=new Ge(B,"POST",function et(Vt){let Qt;Zi(Vt);try{Qt=Vt.getResponseHeader("X-Goog-Upload-URL")}catch{pt(!1)}return pt(St(Qt)),Qt},o.maxUploadRetryTime);return ht.urlParams=N,ht.headers=_e,ht.body=be,ht.errorHandler=Nt(r),ht}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),h=this._ref.storage._makeRequest(l,zr,r,s);this._request=h,h.getPromise().then(E=>{this._request=void 0,this._uploadUrl=E,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const r=this._uploadUrl;this._resolveToken((s,l)=>{const h=function ko(o,r,s,l){const B=new Ge(s,"POST",function E($){const _e=Zi($,["active","final"]);let be=null;try{be=$.getResponseHeader("X-Goog-Upload-Size-Received")}catch{pt(!1)}be||pt(!1);const Ae=Number(be);return pt(!isNaN(Ae)),new lr(Ae,l.size(),"final"===_e)},o.maxUploadRetryTime);return B.headers={"X-Goog-Upload-Command":"query"},B.errorHandler=Nt(r),B}(this._ref.storage,this._ref._location,r,this._blob),E=this._ref.storage._makeRequest(h,zr,s,l);this._request=E,E.getPromise().then(b=>{this._request=void 0,this._updateProgress(b.current),this._needToFetchStatus=!1,b.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const r=262144*this._chunkMultiplier,s=new lr(this._transferred,this._blob.size()),l=this._uploadUrl;this._resolveToken((h,E)=>{let b;try{b=function Os(o,r,s,l,h,E,b,N){const B=new lr(0,0);if(b?(B.current=b.current,B.total=b.total):(B.current=0,B.total=l.size()),l.size()!==B.total)throw function Dn(){return new at(Dt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const $=B.total-B.current;let _e=$;h>0&&(_e=Math.min(_e,h));const be=B.current;let et="";et=0===_e?"finalize":$===_e?"upload, finalize":"upload";const ht={"X-Goog-Upload-Command":et,"X-Goog-Upload-Offset":`${B.current}`},Vt=l.slice(be,be+_e);if(null===Vt)throw qe();const gr=new Ge(s,"POST",function Qt(Or,gl){const Iu=Zi(Or,["active","final"]),ml=B.current+_e,Cu=l.size();let zd;return zd="final"===Iu?Tt(r,E)(Or,gl):null,new lr(ml,Cu,"final"===Iu,zd)},r.maxUploadRetryTime);return gr.headers=ht,gr.body=Vt.uploadData(),gr.progressCallback=N||null,gr.errorHandler=Nt(o),gr}(this._ref._location,this._ref.storage,l,this._blob,r,this._mappings,s,this._makeProgressCallback())}catch(B){return this._error=B,void this._transition("error")}const N=this._ref.storage._makeRequest(b,zr,h,E,!1);this._request=N,N.getPromise().then(B=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(B.current),B.finalized?(this._metadata=B.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((r,s)=>{const l=Ar(this._ref.storage,this._ref._location,this._mappings),h=this._ref.storage._makeRequest(l,zr,r,s);this._request=h,h.getPromise().then(E=>{this._request=void 0,this._metadata=E,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((r,s)=>{const l=function Ns(o,r,s,l,h){const E=r.bucketOnlyServerUrl(),b={"X-Goog-Upload-Protocol":"multipart"},B=function N(){let gr="";for(let Or=0;Or<2;Or++)gr+=Math.random().toString().slice(2);return gr}();b["Content-Type"]="multipart/related; boundary="+B;const $=Ps(r,l,h),_e=tt($,s),et=ce.getBlob("--"+B+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_e+"\r\n--"+B+"\r\nContent-Type: "+$.contentType+"\r\n\r\n",l,"\r\n--"+B+"--");if(null===et)throw qe();const ht={name:$.fullPath},Vt=Sn(E,o.host,o._protocol),nr=o.maxUploadRetryTime,Vr=new Ge(Vt,"POST",Tt(o,s),nr);return Vr.urlParams=ht,Vr.headers=b,Vr.body=et.uploadData(),Vr.errorHandler=Nt(r),Vr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),h=this._ref.storage._makeRequest(l,zr,r,s);this._request=h,h.getPromise().then(E=>{this._request=void 0,this._metadata=E,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(r){const s=this._transferred;this._transferred=r,this._transferred!==s&&this._notifyObservers()}_transition(r){if(this._state!==r)switch(r){case"canceling":case"pausing":this._state=r,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const s="paused"===this._state;this._state=r,s&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=r,this._notifyObservers();break;case"canceled":this._error=me(),this._state=r,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const r=Ki(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:r,metadata:this._metadata,task:this,ref:this._ref}}on(r,s,l,h){const E=new kr(s||void 0,l||void 0,h||void 0);return this._addObserver(E),()=>{this._removeObserver(E)}}then(r,s){return this._promise.then(r,s)}catch(r){return this.then(null,r)}_addObserver(r){this._observers.push(r),this._notifyObserver(r)}_removeObserver(r){const s=this._observers.indexOf(r);-1!==s&&this._observers.splice(s,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(s=>{this._notifyObserver(s)})}_finishPromise(){if(void 0!==this._resolve){let r=!0;switch(Ki(this._state)){case Xn.SUCCESS:hs(this._resolve.bind(null,this.snapshot))();break;case Xn.CANCELED:case Xn.ERROR:hs(this._reject.bind(null,this._error))();break;default:r=!1}r&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(r){switch(Ki(this._state)){case Xn.RUNNING:case Xn.PAUSED:r.next&&hs(r.next.bind(r,this.snapshot))();break;case Xn.SUCCESS:r.complete&&hs(r.complete.bind(r))();break;default:r.error&&hs(r.error.bind(r,this._error))()}}resume(){const r="paused"===this._state||"pausing"===this._state;return r&&this._transition("running"),r}pause(){const r="running"===this._state;return r&&this._transition("pausing"),r}cancel(){const r="running"===this._state||"pausing"===this._state;return r&&this._transition("canceling"),r}}class Gt{constructor(r,s){this._service=r,this._location=s instanceof it?s:it.makeFromUrl(s,r.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(r,s){return new Gt(r,s)}get root(){const r=new it(this._location.bucket,"");return this._newRef(this._service,r)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xt(this._location.path)}get storage(){return this._service}get parent(){const r=function st(o){if(0===o.length)return null;const r=o.lastIndexOf("/");return-1===r?"":o.slice(0,r)}(this._location.path);if(null===r)return null;const s=new it(this._location.bucket,r);return new Gt(this._service,s)}_throwIfRoot(r){if(""===this._location.path)throw mn(r)}}function bi(o,r,s){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,ft.Z)(function*(o,r,s){const h=yield fi(o,{pageToken:s});r.prefixes.push(...h.prefixes),r.items.push(...h.items),null!=h.nextPageToken&&(yield bi(o,r,h.nextPageToken))})).apply(this,arguments)}function fi(o,r){null!=r&&"number"==typeof r.maxResults&&En("options.maxResults",1,1e3,r.maxResults);const s=r||{},l=Qn(o.storage,o._location,"/",s.pageToken,s.maxResults);return o.storage.makeRequestWithTokens(l,zr)}function Zt(o){o._throwIfRoot("getDownloadURL");const r=function In(o,r,s){const h=Sn(r.fullServerUrl(),o.host,o._protocol),b=o.maxOperationRetryTime,N=new Ge(h,"GET",function kt(o,r){return function s(l,h){const E=Ke(o,h,r);return pt(null!==E),function rt(o,r,s,l){const h=Oe(r);if(null===h||!St(h.downloadTokens))return null;const E=h.downloadTokens;if(0===E.length)return null;const b=encodeURIComponent;return E.split(",").map($=>{const be=o.fullPath;return Sn("/b/"+b(o.bucket)+"/o/"+b(be),s,l)+qn({alt:"media",token:$})})[0]}(E,h,o.host,o._protocol)}}(o,s),b);return N.errorHandler=_n(r),N}(o.storage,o._location,J());return o.storage.makeRequestWithTokens(r,zr).then(s=>{if(null===s)throw function Rt(){return new at(Dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return s})}function Cr(o,r){const s=function mt(o,r){const s=r.split("/").filter(l=>l.length>0).join("/");return 0===o.length?s:o+"/"+s}(o._location.path,r),l=new it(o._location.bucket,s);return new Gt(o.storage,l)}function pi(o,r){if(o instanceof Lt){const s=o;if(null==s._bucket)throw function $e(){return new at(Dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ne+"' property when initializing the app?")}();const l=new Gt(s,s._bucket);return null!=r?pi(l,r):l}return void 0!==r?Cr(o,r):o}function Un(o,r){if(r&&function fs(o){return/^[A-Za-z]+:\/\//.test(o)}(r)){if(o instanceof Lt)return function or(o,r){return new Gt(o,r)}(o,r);throw Mt("To use ref(service, url), the first argument must be a Storage instance.")}return pi(o,r)}function Gr(o,r){const s=r?.[Ne];return null==s?null:it.makeFromBucketSpec(s,o)}class Lt{constructor(r,s,l,h,E){this.app=r,this._authProvider=s,this._appCheckProvider=l,this._url=h,this._firebaseVersion=E,this._bucket=null,this._host=Le,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=h?it.makeFromBucketSpec(h,this._host):Gr(this._host,this.app.options)}get host(){return this._host}set host(r){this._host=r,this._bucket=null!=this._url?it.makeFromBucketSpec(this._url,r):Gr(r,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(r){En("time",0,Number.POSITIVE_INFINITY,r),this._maxUploadRetryTime=r}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(r){En("time",0,Number.POSITIVE_INFINITY,r),this._maxOperationRetryTime=r}_getAuthToken(){var r=this;return(0,ft.Z)(function*(){if(r._overrideAuthToken)return r._overrideAuthToken;const s=r._authProvider.getImmediate({optional:!0});if(s){const l=yield s.getToken();if(null!==l)return l.accessToken}return null})()}_getAppCheckToken(){var r=this;return(0,ft.Z)(function*(){const s=r._appCheckProvider.getImmediate({optional:!0});return s?(yield s.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(r=>r.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(r){return new Gt(this,r)}_makeRequest(r,s,l,h,E=!0){if(this._deleted)return new nn(un());{const b=function kn(o,r,s,l,h,E,b=!0){const N=qn(o.urlParams),B=o.url+N,$=Object.assign({},o.headers);return function mr(o,r){r&&(o["X-Firebase-GMPID"]=r)}($,r),function xr(o,r){null!==r&&r.length>0&&(o.Authorization="Firebase "+r)}($,s),function Kt(o,r){o["X-Firebase-Storage-Version"]="webjs/"+(r??"AppManager")}($,E),function Bt(o,r){null!==r&&(o["X-Firebase-AppCheck"]=r)}($,l),new Pi(B,o.method,$,o.body,o.successCodes,o.additionalRetryCodes,o.handler,o.errorHandler,o.timeout,o.progressCallback,h,b)}(r,this._appId,l,h,s,this._firebaseVersion,E);return this._requests.add(b),b.getPromise().then(()=>this._requests.delete(b),()=>this._requests.delete(b)),b}}makeRequestWithTokens(r,s){var l=this;return(0,ft.Z)(function*(){const[h,E]=yield Promise.all([l._getAuthToken(),l._getAppCheckToken()]);return l._makeRequest(r,s,h,E).getPromise()})()}}const Yi="@firebase/storage";function en(o,r){return Un(o=(0,O.m9)(o),r)}function gi(o,{instanceIdentifier:r}){const s=o.getProvider("app").getImmediate(),l=o.getProvider("auth-internal"),h=o.getProvider("app-check-internal");return new Lt(s,l,h,r,he.SDK_VERSION)}!function Uo(){(0,he._registerComponent)(new fe.wA("storage",gi,"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(Yi,"0.12.4",""),(0,he.registerVersion)(Yi,"0.12.4","esm2017")}();class Kn{constructor(r,s,l){this._delegate=r,this.task=s,this.ref=l}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class xi{constructor(r,s){this._delegate=r,this._ref=s,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Kn(this._delegate.snapshot,this,this._ref)}then(r,s){return this._delegate.then(l=>{if(r)return r(new Kn(l,this,this._ref))},s)}on(r,s,l,h){let E;return s&&(E="function"==typeof s?b=>s(new Kn(b,this,this._ref)):{next:s.next?b=>s.next(new Kn(b,this,this._ref)):void 0,complete:s.complete||void 0,error:s.error||void 0}),this._delegate.on(r,E,l||void 0,h||void 0)}}class Vn{constructor(r,s){this._delegate=r,this._service=s}get prefixes(){return this._delegate.prefixes.map(r=>new rn(r,this._service))}get items(){return this._delegate.items.map(r=>new rn(r,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class rn{constructor(r,s){this._delegate=r,this.storage=s}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(r){const s=function yl(o,r){return Cr(o,r)}(this._delegate,r);return new rn(s,this.storage)}get root(){return new rn(this._delegate.root,this.storage)}get parent(){const r=this._delegate.parent;return null==r?null:new rn(r,this.storage)}put(r,s){return this._throwIfRoot("put"),new xi(function er(o,r,s){return function cr(o,r,s){return o._throwIfRoot("uploadBytesResumable"),new Di(o,new ce(r),s)}(o=(0,O.m9)(o),r,s)}(this._delegate,r,s),this)}putString(r,s=Ln.RAW,l){this._throwIfRoot("putString");const h=sr(s,r),E=Object.assign({},l);return null==E.contentType&&null!=h.contentType&&(E.contentType=h.contentType),new xi(new Di(this._delegate,new ce(h.data,!0),E),this)}listAll(){return function ei(o){return function co(o){const r={prefixes:[],items:[]};return bi(o,r).then(()=>r)}(o=(0,O.m9)(o))}(this._delegate).then(r=>new Vn(r,this.storage))}list(r){return function Si(o,r){return fi(o=(0,O.m9)(o),r)}(this._delegate,r||void 0).then(s=>new Vn(s,this.storage))}getMetadata(){return function Us(o){return function Nn(o){o._throwIfRoot("getMetadata");const r=Ar(o.storage,o._location,J());return o.storage.makeRequestWithTokens(r,zr)}(o=(0,O.m9)(o))}(this._delegate)}updateMetadata(r){return function Bs(o,r){return function lt(o,r){o._throwIfRoot("updateMetadata");const s=function di(o,r,s,l){const E=Sn(r.fullServerUrl(),o.host,o._protocol),N=tt(s,l),$=o.maxOperationRetryTime,_e=new Ge(E,"PATCH",Tt(o,l),$);return _e.headers={"Content-Type":"application/json; charset=utf-8"},_e.body=N,_e.errorHandler=_n(r),_e}(o.storage,o._location,r,J());return o.storage.makeRequestWithTokens(s,zr)}(o=(0,O.m9)(o),r)}(this._delegate,r)}getDownloadURL(){return function qi(o){return Zt(o=(0,O.m9)(o))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Qi(o){return function gn(o){o._throwIfRoot("deleteObject");const r=function Gi(o,r){const l=Sn(r.fullServerUrl(),o.host,o._protocol),N=new Ge(l,"DELETE",function b(B,$){},o.maxOperationRetryTime);return N.successCodes=[200,204],N.errorHandler=_n(r),N}(o.storage,o._location);return o.storage.makeRequestWithTokens(r,zr)}(o=(0,O.m9)(o))}(this._delegate)}_throwIfRoot(r){if(""===this._delegate._location.path)throw mn(r)}}class js{constructor(r,s){this.app=r,this._delegate=s}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(r){if(Zr(r))throw Mt("ref() expected a child path but got a URL, use refFromURL instead.");return new rn(en(this._delegate,r),this)}refFromURL(r){if(!Zr(r))throw Mt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{it.makeFromUrl(r,this._delegate.host)}catch{throw Mt("refFromUrl() expected a valid full URL but got an invalid one.")}return new rn(en(this._delegate,r),this)}setMaxUploadRetryTime(r){this._delegate.maxUploadRetryTime=r}setMaxOperationRetryTime(r){this._delegate.maxOperationRetryTime=r}useEmulator(r,s,l={}){!function ti(o,r,s,l={}){!function Ni(o,r,s,l={}){o.host=`${r}:${s}`,o._protocol="http";const{mockUserToken:h}=l;h&&(o._overrideAuthToken="string"==typeof h?h:(0,O.Sg)(h,o.app.options.projectId))}(o,r,s,l)}(this._delegate,r,s,l)}}function Zr(o){return/^[A-Za-z]+:\/\//.test(o)}function Ta(o,{instanceIdentifier:r}){const s=o.getProvider("app-compat").getImmediate(),l=o.getProvider("storage").getImmediate({identifier:r});return new js(s,l)}!function ps(o){const r={TaskState:Xn,TaskEvent:ds,StringFormat:Ln,Storage:js,Reference:rn};o.INTERNAL.registerComponent(new fe.wA("storage-compat",Ta,"PUBLIC").setServiceProps(r).setMultipleInstances(!0)),o.registerVersion("@firebase/storage-compat","0.3.7")}(Ct.Z);var Pu=P(7142);function Ai(o){const r=function Sa(o){return new ye.y(r=>{const s=b=>r.next(b);s(o.snapshot);const E=o.on("state_changed",s);return o.then(b=>{s(b),r.complete()},b=>{s(o.snapshot),(b=>{r.error(b)})(b)}),function(){E()}}).pipe(function Xe(o,r=le.z){return(0,xe.e)((s,l)=>{let h=null,E=null,b=null;const N=()=>{if(h){h.unsubscribe(),h=null;const $=E;E=null,l.next($)}};function B(){const $=b+o,_e=r.now();if(_e<$)return h=this.schedule(void 0,$-_e),void l.add(h);N()}s.subscribe((0,Fe.x)(l,$=>{E=$,b=r.now(),h||(h=r.schedule(B,o),l.add(h))},()=>{N(),l.complete()},void 0,()=>{E=h=null}))})}(0))}(o);return{task:o,then:o.then.bind(o),catch:o.catch.bind(o),pause:o.pause.bind(o),cancel:o.cancel.bind(o),resume:o.resume.bind(o),snapshotChanges:()=>r,percentageChanges:()=>r.pipe((0,Be.U)(s=>s.bytesTransferred/s.totalBytes*100))}}function ar(o){return{getDownloadURL:()=>(0,Z.of)(void 0).pipe(Ie.fc,(0,Je.w)(()=>o.getDownloadURL()),Ie.iC),getMetadata:()=>(0,Z.of)(void 0).pipe(Ie.fc,(0,Je.w)(()=>o.getMetadata()),Ie.iC),delete:()=>(0,q.D)(o.delete()),child:r=>ar(o.child(r)),updateMetadata:r=>(0,q.D)(o.updateMetadata(r)),put:(r,s)=>Ai(o.put(r,s)),putString:(r,s,l)=>Ai(o.putString(r,s,l)),list:r=>(0,q.D)(o.list(r)),listAll:()=>(0,q.D)(o.listAll())}}const El=new W.OlP("angularfire2.storageBucket"),Ql=new W.OlP("angularfire2.storage.maxUploadRetryTime"),An=new W.OlP("angularfire2.storage.maxOperationRetryTime"),gs=new W.OlP("angularfire2.storage.use-emulator");let Il=(()=>{class o{storage;constructor(s,l,h,E,b,N,B,$,_e,be){const Ae=(0,Ve.on)(s,b,l);this.storage=(0,Ve.cc)(`${Ae.name}.storage.${h}`,"AngularFireStorage",Ae.name,()=>{const et=b.runOutsideAngular(()=>Ae.storage(h||void 0)),ht=_e;return ht&&et.useEmulator(...ht),B&&et.setMaxUploadRetryTime(B),$&&et.setMaxOperationRetryTime($),et},[B,$])}ref(s){return ar(this.storage.ref(s))}refFromURL(s){return ar(this.storage.refFromURL(s))}upload(s,l,h){return ar(this.storage.ref(s)).put(l,h)}static \u0275fac=function(l){return new(l||o)(W.LFG(Ve.Dh),W.LFG(Ve.xv,8),W.LFG(El,8),W.LFG(W.Lbi),W.LFG(W.R0b),W.LFG(Ie.HU),W.LFG(Ql,8),W.LFG(An,8),W.LFG(gs,8),W.LFG(Ie.Rf,8))};static \u0275prov=W.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"})}return o})(),Jl=(()=>{class o{static \u0275fac=function(l){return new(l||o)};static \u0275mod=W.oAB({type:o});static \u0275inj=W.cJS({})}return o})(),Nu=(()=>{class o{constructor(){Pu.Z.registerVersion("angularfire",Ie.q4.full,"gcs-compat")}static \u0275fac=function(l){return new(l||o)};static \u0275mod=W.oAB({type:o});static \u0275inj=W.cJS({providers:[Il],imports:[Jl]})}return o})();var Ou=P(3020),Aa=P(6699),Ra=P(4829),jo=P(2737),Ho=P(2420),ho=P(4564),mi=P(3997),Fr=P(3019),Vo=(P(340),P(7879));const ur="@firebase/database";let Dr="";function Hs(o){Dr=o}class Pa{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,s){null==s?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,O.Wl)(s))}get(r){const s=this.domStorage_.getItem(this.prefixedName_(r));return null==s?null:(0,O.cI)(s)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class po{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,s){null==s?delete this.cache_[r]:this.cache_[r]=s}get(r){return(0,O.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const ri=function(o){try{if(typeof window<"u"&&typeof window[o]<"u"){const r=window[o];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new Pa(r)}}catch{}return new po},ii=ri("localStorage"),_i=ri("sessionStorage"),si=new Vo.Yd("@firebase/database"),Vs=function(){let o=1;return function(){return o++}}(),go=function(o){const r=(0,O.dS)(o),s=new O.gQ;s.update(r);const l=s.digest();return O.US.encodeByteArray(l)},$s=function(...o){let r="";for(let s=0;s<o.length;s++){const l=o[s];Array.isArray(l)||l&&"object"==typeof l&&"number"==typeof l.length?r+=$s.apply(null,l):r+="object"==typeof l?(0,O.Wl)(l):l,r+=" "}return r};let oi=null,mo=!0;const vi=function(o,r){(0,O.hu)(!r||!0===o||!1===o,"Can't turn on custom loggers persistently."),!0===o?(si.logLevel=Vo.in.VERBOSE,oi=si.log.bind(si),r&&_i.set("logging_enabled",!0)):"function"==typeof o?oi=o:(oi=null,_i.remove("logging_enabled"))},Hn=function(...o){if(!0===mo&&(mo=!1,null===oi&&!0===_i.get("logging_enabled")&&vi(!0)),oi){const r=$s.apply(null,o);oi(r)}},Fi=function(o){return function(...r){Hn(o,...r)}},$o=function(...o){const r="FIREBASE INTERNAL ERROR: "+$s(...o);si.error(r)},yi=function(...o){const r=`FIREBASE FATAL ERROR: ${$s(...o)}`;throw si.error(r),new Error(r)},Mr=function(...o){const r="FIREBASE WARNING: "+$s(...o);si.warn(r)},Wo=function(o){return"number"==typeof o&&(o!=o||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)},Ui="[MIN_NAME]",Ei="[MAX_NAME]",Bi=function(o,r){if(o===r)return 0;if(o===Ui||r===Ei)return-1;if(r===Ui||o===Ei)return 1;{const s=vn(o),l=vn(r);return null!==s?null!==l?s-l==0?o.length-r.length:s-l:-1:null!==l?1:o<r?-1:1}},Na=function(o,r){return o===r?0:o<r?-1:1},_o=function(o,r){if(r&&o in r)return r[o];throw new Error("Missing required key ("+o+") in object: "+(0,O.Wl)(r))},ms=function(o){if("object"!=typeof o||null===o)return(0,O.Wl)(o);const r=[];for(const l in o)r.push(l);r.sort();let s="{";for(let l=0;l<r.length;l++)0!==l&&(s+=","),s+=(0,O.Wl)(r[l]),s+=":",s+=ms(o[r[l]]);return s+="}",s},Oa=function(o,r){const s=o.length;if(s<=r)return[o];const l=[];for(let h=0;h<s;h+=r)l.push(o.substring(h,h+r>s?s:h+r));return l};function I(o,r){for(const s in o)o.hasOwnProperty(s)&&r(s,o[s])}const x=function(o){(0,O.hu)(!Wo(o),"Invalid JSON number");const l=1023;let h,E,b,N,B;0===o?(E=0,b=0,h=1/o==-1/0?1:0):(h=o<0,(o=Math.abs(o))>=Math.pow(2,1-l)?(N=Math.min(Math.floor(Math.log(o)/Math.LN2),l),E=N+l,b=Math.round(o*Math.pow(2,52-N)-Math.pow(2,52))):(E=0,b=Math.round(o/Math.pow(2,-1074))));const $=[];for(B=52;B;B-=1)$.push(b%2?1:0),b=Math.floor(b/2);for(B=11;B;B-=1)$.push(E%2?1:0),E=Math.floor(E/2);$.push(h?1:0),$.reverse();const _e=$.join("");let be="";for(B=0;B<64;B+=8){let Ae=parseInt(_e.substr(B,8),2).toString(16);1===Ae.length&&(Ae="0"+Ae),be+=Ae}return be.toLowerCase()},Te=new RegExp("^-?(0*)\\d{1,10}$"),vn=function(o){if(Te.test(o)){const r=Number(o);if(r>=-2147483648&&r<=2147483647)return r}return null},ln=function(o){try{o()}catch(r){setTimeout(()=>{throw Mr("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},Wt=function(o,r){const s=setTimeout(o,r);return"number"==typeof s&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):"object"==typeof s&&s.unref&&s.unref(),s};class $n{constructor(r,s){this.appName_=r,this.appCheckProvider=s,this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(l=>this.appCheck=l)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((s,l)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(s,l):s(null)},0)})}addTokenChangeListener(r){var s;null===(s=this.appCheckProvider)||void 0===s||s.get().then(l=>l.addTokenListener(r))}notifyForInvalidToken(){Mr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class bn{constructor(r,s,l){this.appName_=r,this.firebaseOptions_=s,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(h=>this.auth_=h)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(s=>s&&"auth/token-not-initialized"===s.code?(Hn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,l)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(s,l):s(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(s=>s.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(s=>s.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mr(r)}}let Rn=(()=>{class o{constructor(s){this.accessToken=s}getToken(s){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(s){s(this.accessToken)}removeTokenChangeListener(s){}notifyForInvalidToken(){}}return o.OWNER="owner",o})();const hr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zs="websocket",zo="long_polling";class vr{constructor(r,s,l,h,E=!1,b="",N=!1,B=!1){this.secure=s,this.namespace=l,this.webSocketOnly=h,this.nodeAdmin=E,this.persistenceKey=b,this.includeNamespaceInQueryParams=N,this.isUsingEmulator=B,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ii.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&ii.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Lu(o,r,s){let l;if((0,O.hu)("string"==typeof r,"typeof type must == string"),(0,O.hu)("object"==typeof s,"typeof params must == object"),r===zs)l=(o.secure?"wss://":"ws://")+o.internalHost+"/.ws?";else{if(r!==zo)throw new Error("Unknown connection type: "+r);l=(o.secure?"https://":"http://")+o.internalHost+"/.lp?"}(function ec(o){return o.host!==o.internalHost||o.isCustomHost()||o.includeNamespaceInQueryParams})(o)&&(s.ns=o.namespace);const h=[];return I(s,(E,b)=>{h.push(E+"="+b)}),l+h.join("&")}class Go{constructor(){this.counters_={}}incrementCounter(r,s=1){(0,O.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=s}get(){return(0,O.p$)(this.counters_)}}const Bn={},Cl={};function Fu(o){const r=o.toString();return Bn[r]||(Bn[r]=new Go),Bn[r]}class Gs{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,s){this.closeAfterResponse=r,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,s){for(this.pendingResponses[r]=s;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let h=0;h<l.length;++h)l[h]&&ln(()=>{this.onMessage_(l[h])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ks{constructor(r,s,l,h,E,b,N){this.connId=r,this.repoInfo=s,this.applicationId=l,this.appCheckToken=h,this.authToken=E,this.transportSessionId=b,this.lastSessionId=N,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fi(r),this.stats_=Fu(s),this.urlFn=B=>(this.appCheckToken&&(B.ac=this.appCheckToken),Lu(s,zo,B))}open(r,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new Gs(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(o){if((0,O.Yr)()||"complete"===document.readyState)o();else{let r=!1;const s=function(){document.body?r||(r=!0,o()):setTimeout(s,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&s()}),window.attachEvent("onload",s))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vo((...E)=>{const[b,N,B,$,_e]=E;if(this.incrementIncomingBytes_(E),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===b)this.id=N,this.password=B;else{if("close"!==b)throw new Error("Unrecognized command received: "+b);N?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(N,()=>{this.onClosed_()})):this.onClosed_()}},(...E)=>{const[b,N]=E;this.incrementIncomingBytes_(E),this.myPacketOrderer.handleResponse(b,N)},()=>{this.onClosed_()},this.urlFn);const l={start:"t"};l.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(l.cb=this.scriptTagHolder.uniqueCallbackIdentifier),l.v="5",this.transportSessionId&&(l.s=this.transportSessionId),this.lastSessionId&&(l.ls=this.lastSessionId),this.applicationId&&(l.p=this.applicationId),this.appCheckToken&&(l.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&hr.test(location.hostname)&&(l.r="f");const h=this.urlFn(l);this.log_("Connecting via long-poll to "+h),this.scriptTagHolder.addTag(h,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ks.forceAllow_=!0}static forceDisallow(){Ks.forceDisallow_=!0}static isAvailable(){return!((0,O.Yr)()||!Ks.forceAllow_&&(Ks.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const s=(0,O.Wl)(r);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const l=(0,O.h$)(s),h=Oa(l,1840);for(let E=0;E<h.length;E++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,h.length,h[E]),this.curSegmentNum++}addDisconnectPingFrame(r,s){if((0,O.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const l={dframe:"t"};l.id=r,l.pw=s,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const s=(0,O.Wl)(r).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class vo{constructor(r,s,l,h){if(this.onDisconnect=l,this.urlFn=h,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,O.Yr)())this.commandCB=r,this.onMessageCB=s;else{this.uniqueCallbackIdentifier=Vs(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=s,this.myIFrame=vo.createIFrame_();let E="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(E='<script>document.domain="'+document.domain+'";<\/script>');const b="<html><body>"+E+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(b),this.myIFrame.doc.close()}catch(N){Hn("frame writing exception"),N.stack&&Hn(N.stack),Hn(N)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||Hn("No IE domain setting required")}catch{const l=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,s){for(this.myID=r,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let s=this.urlFn(r),l="",h=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+l.length<=1870;){const b=this.pendingSegs.shift();l=l+"&seg"+h+"="+b.seg+"&ts"+h+"="+b.ts+"&d"+h+"="+b.d,h++}return s+=l,this.addLongPollTag_(s,this.currentSerial),!0}return!1}enqueueSegment(r,s,l){this.pendingSegs.push({seg:r,ts:s,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(r,s){this.outstandingRequests.add(s);const l=()=>{this.outstandingRequests.delete(s),this.newRequest_()},h=setTimeout(l,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(h),l()})}addTag(r,s){(0,O.Yr)()?this.doNodeLongPoll(r,s):setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=r,l.onload=l.onreadystatechange=function(){const h=l.readyState;(!h||"loaded"===h||"complete"===h)&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),s())},l.onerror=()=>{Hn("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}let Yo=null;typeof MozWebSocket<"u"?Yo=MozWebSocket:typeof WebSocket<"u"&&(Yo=WebSocket);let yo=(()=>{class o{constructor(s,l,h,E,b,N,B){this.connId=s,this.applicationId=h,this.appCheckToken=E,this.authToken=b,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fi(this.connId),this.stats_=Fu(l),this.connURL=o.connectionURL_(l,N,B,E,h),this.nodeAdmin=l.nodeAdmin}static connectionURL_(s,l,h,E,b){const N={v:"5"};return!(0,O.Yr)()&&typeof location<"u"&&location.hostname&&hr.test(location.hostname)&&(N.r="f"),l&&(N.s=l),h&&(N.ls=h),E&&(N.ac=E),b&&(N.p=b),Lu(s,zs,N)}open(s,l){this.onDisconnect=l,this.onMessage=s,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ii.set("previous_websocket_failure",!0);try{let h;if((0,O.Yr)()){h={headers:{"User-Agent":`Firebase/5/${Dr}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(h.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(h.headers["X-Firebase-AppCheck"]=this.appCheckToken);const b=process.env,N=0===this.connURL.indexOf("wss://")?b.HTTPS_PROXY||b.https_proxy:b.HTTP_PROXY||b.http_proxy;N&&(h.proxy={origin:N})}this.mySock=new Yo(this.connURL,[],h)}catch(h){this.log_("Error instantiating WebSocket.");const E=h.message||h.data;return E&&this.log_(E),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=h=>{this.handleIncomingFrame(h)},this.mySock.onerror=h=>{this.log_("WebSocket error.  Closing connection.");const E=h.message||h.data;E&&this.log_(E),this.onClosed_()}}start(){}static forceDisallow(){o.forceDisallow_=!0}static isAvailable(){let s=!1;if(typeof navigator<"u"&&navigator.userAgent){const h=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);h&&h.length>1&&parseFloat(h[1])<4.4&&(s=!0)}return!s&&null!==Yo&&!o.forceDisallow_}static previouslyFailed(){return ii.isInMemoryStorage||!0===ii.get("previous_websocket_failure")}markConnectionHealthy(){ii.remove("previous_websocket_failure")}appendFrame_(s){if(this.frames.push(s),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const h=(0,O.cI)(l);this.onMessage(h)}}handleNewFrameCount_(s){this.totalFrames=s,this.frames=[]}extractFrameCount_(s){if((0,O.hu)(null===this.frames,"We already have a frame buffer"),s.length<=6){const l=Number(s);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),s}handleIncomingFrame(s){if(null===this.mySock)return;const l=s.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(l);else{const h=this.extractFrameCount_(l);null!==h&&this.appendFrame_(h)}}send(s){this.resetKeepAlive();const l=(0,O.Wl)(s);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const h=Oa(l,16384);h.length>1&&this.sendString_(String(h.length));for(let E=0;E<h.length;E++)this.sendString_(h[E])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(s){try{this.mySock.send(s)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return o.responsesRequiredToBeHealthy=2,o.healthyTimeout=3e4,o})(),tr=(()=>{class o{constructor(s){this.initTransports_(s)}static get ALL_TRANSPORTS(){return[Ks,yo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(s){const l=yo&&yo.isAvailable();let h=l&&!yo.previouslyFailed();if(s.webSocketOnly&&(l||Mr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),h=!0),h)this.transports_=[yo];else{const E=this.transports_=[];for(const b of o.ALL_TRANSPORTS)b&&b.isAvailable()&&E.push(b);o.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return o.globalTransportInitialized_=!1,o})();class bl{constructor(r,s,l,h,E,b,N,B,$,_e){this.id=r,this.repoInfo_=s,this.applicationId_=l,this.appCheckToken_=h,this.authToken_=E,this.onMessage_=b,this.onReady_=N,this.onDisconnect_=B,this.onKill_=$,this.lastSessionId=_e,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fi("c:"+this.id+":"),this.transportManager_=new tr(s),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,l)},Math.floor(0));const h=r.healthyTimeout||0;h>0&&(this.healthyTimeout_=Wt(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(h)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return s=>{r===this.conn_?this.onConnectionLost_(s):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return s=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(s):r===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const s=r.t;"a"===s?this.upgradeIfSecondaryHealthy_():"r"===s?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===s&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const s=_o("t",r),l=_o("d",r);if("c"===s)this.onSecondaryControl_(l);else{if("d"!==s)throw new Error("Unknown protocol layer: "+s);this.pendingDataMessages.push(l)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const s=_o("t",r),l=_o("d",r);"c"===s?this.onControl_(l):"d"===s&&this.onDataMessage_(l)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const s=_o("t",r);if("d"in r){const l=r.d;if("h"===s){const h=Object.assign({},l);this.repoInfo_.isUsingEmulator&&(h.h=this.repoInfo_.host),this.onHandshake_(h)}else if("n"===s){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let h=0;h<this.pendingDataMessages.length;++h)this.onDataMessage_(this.pendingDataMessages[h]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===s?this.onConnectionShutdown_(l):"r"===s?this.onReset_(l):"e"===s?$o("Server Error: "+l):"o"===s?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$o("Unknown control packet command: "+s)}}onHandshake_(r){const s=r.ts,l=r.v,h=r.h;this.sessionId=r.s,this.repoInfo_.host=h,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),"5"!==l&&Mr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,l),Wt(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,s){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wt(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ii.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Wu{put(r,s,l,h){}merge(r,s,l,h){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,s,l){}onDisconnectMerge(r,s,l){}onDisconnectCancel(r,s){}reportStats(r){}}class Tl{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,O.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...s){if(Array.isArray(this.listeners_[r])){const l=[...this.listeners_[r]];for(let h=0;h<l.length;h++)l[h].callback.apply(l[h].context,s)}}on(r,s,l){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:s,context:l});const h=this.getInitialEvent(r);h&&s.apply(l,h)}off(r,s,l){this.validateEventType_(r);const h=this.listeners_[r]||[];for(let E=0;E<h.length;E++)if(h[E].callback===s&&(!l||l===h[E].context))return void h.splice(E,1)}validateEventType_(r){(0,O.hu)(this.allowedEvents_.find(s=>s===r),"Unknown event: "+r)}}class Ys extends Tl{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,O.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ys}getInitialEvent(r){return(0,O.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class v{constructor(r,s){if(void 0===s){this.pieces_=r.split("/");let l=0;for(let h=0;h<this.pieces_.length;h++)this.pieces_[h].length>0&&(this.pieces_[l]=this.pieces_[h],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=s}toString(){let r="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)""!==this.pieces_[s]&&(r+="/"+this.pieces_[s]);return r||"/"}}function C(){return new v("")}function m(o){return o.pieceNum_>=o.pieces_.length?null:o.pieces_[o.pieceNum_]}function w(o){return o.pieces_.length-o.pieceNum_}function S(o){let r=o.pieceNum_;return r<o.pieces_.length&&r++,new v(o.pieces_,r)}function F(o){return o.pieceNum_<o.pieces_.length?o.pieces_[o.pieces_.length-1]:null}function we(o,r=0){return o.pieces_.slice(o.pieceNum_+r)}function Ce(o){if(o.pieceNum_>=o.pieces_.length)return null;const r=[];for(let s=o.pieceNum_;s<o.pieces_.length-1;s++)r.push(o.pieces_[s]);return new v(r,0)}function Ye(o,r){const s=[];for(let l=o.pieceNum_;l<o.pieces_.length;l++)s.push(o.pieces_[l]);if(r instanceof v)for(let l=r.pieceNum_;l<r.pieces_.length;l++)s.push(r.pieces_[l]);else{const l=r.split("/");for(let h=0;h<l.length;h++)l[h].length>0&&s.push(l[h])}return new v(s,0)}function nt(o){return o.pieceNum_>=o.pieces_.length}function Ot(o,r){const s=m(o),l=m(r);if(null===s)return r;if(s===l)return Ot(S(o),S(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+o+")")}function on(o,r){const s=we(o,0),l=we(r,0);for(let h=0;h<s.length&&h<l.length;h++){const E=Bi(s[h],l[h]);if(0!==E)return E}return s.length===l.length?0:s.length<l.length?-1:1}function Cn(o,r){if(w(o)!==w(r))return!1;for(let s=o.pieceNum_,l=r.pieceNum_;s<=o.pieces_.length;s++,l++)if(o.pieces_[s]!==r.pieces_[l])return!1;return!0}function yr(o,r){let s=o.pieceNum_,l=r.pieceNum_;if(w(o)>w(r))return!1;for(;s<o.pieces_.length;){if(o.pieces_[s]!==r.pieces_[l])return!1;++s,++l}return!0}class Qo{constructor(r,s){this.errorPrefix_=s,this.parts_=we(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=(0,O.ug)(this.parts_[l]);Zu(this)}}function Zu(o){if(o.byteLength_>768)throw new Error(o.errorPrefix_+"has a key path longer than 768 bytes ("+o.byteLength_+").");if(o.parts_.length>32)throw new Error(o.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+qs(o))}function qs(o){return 0===o.parts_.length?"":"in property '"+o.parts_.join(".")+"'"}class Ua extends Tl{constructor(){let r,s;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const l=!document[r];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}static getInstance(){return new Ua}getInitialEvent(r){return(0,O.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const $i=1e3;let ys,Do=(()=>{class o extends Wu{constructor(s,l,h,E,b,N,B,$){if(super(),this.repoInfo_=s,this.applicationId_=l,this.onDataUpdate_=h,this.onConnectStatus_=E,this.onServerInfoUpdate_=b,this.authTokenProvider_=N,this.appCheckTokenProvider_=B,this.authOverride_=$,this.id=o.nextPersistentConnectionId_++,this.log_=Fi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$i,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,$&&!(0,O.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ua.getInstance().on("visible",this.onVisible_,this),-1===s.host.indexOf("fblocal")&&Ys.getInstance().on("online",this.onOnline_,this)}sendRequest(s,l,h){const E=++this.requestNumber_,b={r:E,a:s,b:l};this.log_((0,O.Wl)(b)),(0,O.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(b),h&&(this.requestCBHash_[E]=h)}get(s){this.initConnection_();const l=new O.BH,E={action:"g",request:{p:s._path.toString(),q:s._queryObject},onComplete:N=>{const B=N.d;"ok"===N.s?l.resolve(B):l.reject(B)}};return this.outstandingGets_.push(E),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),l.promise}listen(s,l,h,E){this.initConnection_();const b=s._queryIdentifier,N=s._path.toString();this.log_("Listen called for "+N+" "+b),this.listens.has(N)||this.listens.set(N,new Map),(0,O.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,O.hu)(!this.listens.get(N).has(b),"listen() called twice for same path/queryId.");const B={onComplete:E,hashFn:l,query:s,tag:h};this.listens.get(N).set(b,B),this.connected_&&this.sendListen_(B)}sendGet_(s){const l=this.outstandingGets_[s];this.sendRequest("g",l.request,h=>{delete this.outstandingGets_[s],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(h)})}sendListen_(s){const l=s.query,h=l._path.toString(),E=l._queryIdentifier;this.log_("Listen on "+h+" for "+E);const b={p:h};s.tag&&(b.q=l._queryObject,b.t=s.tag),b.h=s.hashFn(),this.sendRequest("q",b,B=>{const $=B.d,_e=B.s;o.warnOnListenWarnings_($,l),(this.listens.get(h)&&this.listens.get(h).get(E))===s&&(this.log_("listen response",B),"ok"!==_e&&this.removeListen_(h,E),s.onComplete&&s.onComplete(_e,$))})}static warnOnListenWarnings_(s,l){if(s&&"object"==typeof s&&(0,O.r3)(s,"w")){const h=(0,O.DV)(s,"w");if(Array.isArray(h)&&~h.indexOf("no_index")){const E='".indexOn": "'+l._queryParams.getIndex().toString()+'"',b=l._path.toString();Mr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${E} at ${b} to your security rules for better performance.`)}}}refreshAuthToken(s){this.authToken_=s,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(s)}reduceReconnectDelayIfAdminCredential_(s){(s&&40===s.length||(0,O.GJ)(s))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(s){this.appCheckToken_=s,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const s=this.authToken_,l=(0,O.w9)(s)?"auth":"gauth",h={cred:s};null===this.authOverride_?h.noauth=!0:"object"==typeof this.authOverride_&&(h.authvar=this.authOverride_),this.sendRequest(l,h,E=>{const b=E.s,N=E.d||"error";this.authToken_===s&&("ok"===b?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(b,N))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},s=>{const l=s.s,h=s.d||"error";"ok"===l?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,h)})}unlisten(s,l){const h=s._path.toString(),E=s._queryIdentifier;this.log_("Unlisten called for "+h+" "+E),(0,O.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(h,E)&&this.connected_&&this.sendUnlisten_(h,E,s._queryObject,l)}sendUnlisten_(s,l,h,E){this.log_("Unlisten on "+s+" for "+l);const b={p:s};E&&(b.q=h,b.t=E),this.sendRequest("n",b)}onDisconnectPut(s,l,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",s,l,h):this.onDisconnectRequestQueue_.push({pathString:s,action:"o",data:l,onComplete:h})}onDisconnectMerge(s,l,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",s,l,h):this.onDisconnectRequestQueue_.push({pathString:s,action:"om",data:l,onComplete:h})}onDisconnectCancel(s,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",s,null,l):this.onDisconnectRequestQueue_.push({pathString:s,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(s,l,h,E){const b={p:l,d:h};this.log_("onDisconnect "+s,b),this.sendRequest(s,b,N=>{E&&setTimeout(()=>{E(N.s,N.d)},Math.floor(0))})}put(s,l,h,E){this.putInternal("p",s,l,h,E)}merge(s,l,h,E){this.putInternal("m",s,l,h,E)}putInternal(s,l,h,E,b){this.initConnection_();const N={p:l,d:h};void 0!==b&&(N.h=b),this.outstandingPuts_.push({action:s,request:N,onComplete:E}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+l)}sendPut_(s){const l=this.outstandingPuts_[s].action,h=this.outstandingPuts_[s].request,E=this.outstandingPuts_[s].onComplete;this.outstandingPuts_[s].queued=this.connected_,this.sendRequest(l,h,b=>{this.log_(l+" response",b),delete this.outstandingPuts_[s],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),E&&E(b.s,b.d)})}reportStats(s){if(this.connected_){const l={c:s};this.log_("reportStats",l),this.sendRequest("s",l,h=>{"ok"!==h.s&&this.log_("reportStats","Error sending stats: "+h.d)})}}onDataMessage_(s){if("r"in s){this.log_("from server: "+(0,O.Wl)(s));const l=s.r,h=this.requestCBHash_[l];h&&(delete this.requestCBHash_[l],h(s.b))}else{if("error"in s)throw"A server-side error has occurred: "+s.error;"a"in s&&this.onDataPush_(s.a,s.b)}}onDataPush_(s,l){this.log_("handleServerMessage",s,l),"d"===s?this.onDataUpdate_(l.p,l.d,!1,l.t):"m"===s?this.onDataUpdate_(l.p,l.d,!0,l.t):"c"===s?this.onListenRevoked_(l.p,l.q):"ac"===s?this.onAuthRevoked_(l.s,l.d):"apc"===s?this.onAppCheckRevoked_(l.s,l.d):"sd"===s?this.onSecurityDebugPacket_(l):$o("Unrecognized action received from server: "+(0,O.Wl)(s)+"\nAre you using the latest client?")}onReady_(s,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(s),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(s){(0,O.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(s))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(s){s&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$i,this.realtime_||this.scheduleConnect_(0)),this.visible_=s}onOnline_(s){s?(this.log_("Browser went online."),this.reconnectDelay_=$i,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=$i),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const s=(new Date).getTime()-this.lastConnectionAttemptTime_;let l=Math.max(0,this.reconnectDelay_-s);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var s=this;return(0,ft.Z)(function*(){if(s.shouldReconnect_()){s.log_("Making a connection attempt"),s.lastConnectionAttemptTime_=(new Date).getTime(),s.lastConnectionEstablishedTime_=null;const l=s.onDataMessage_.bind(s),h=s.onReady_.bind(s),E=s.onRealtimeDisconnect_.bind(s),b=s.id+":"+o.nextConnectionId_++,N=s.lastSessionId;let B=!1,$=null;const _e=function(){$?$.close():(B=!0,E())};s.realtime_={close:_e,sendRequest:function(et){(0,O.hu)($,"sendRequest call when we're not connected not allowed."),$.sendRequest(et)}};const Ae=s.forceTokenRefresh_;s.forceTokenRefresh_=!1;try{const[et,ht]=yield Promise.all([s.authTokenProvider_.getToken(Ae),s.appCheckTokenProvider_.getToken(Ae)]);B?Hn("getToken() completed but was canceled"):(Hn("getToken() completed. Creating connection."),s.authToken_=et&&et.accessToken,s.appCheckToken_=ht&&ht.token,$=new bl(b,s.repoInfo_,s.applicationId_,s.appCheckToken_,s.authToken_,l,h,E,Vt=>{Mr(Vt+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},N))}catch(et){s.log_("Failed to get token: "+et),B||(s.repoInfo_.nodeAdmin&&Mr(et),_e())}}})()}interrupt(s){Hn("Interrupting connection for reason: "+s),this.interruptReasons_[s]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(s){Hn("Resuming connection for reason: "+s),delete this.interruptReasons_[s],(0,O.xb)(this.interruptReasons_)&&(this.reconnectDelay_=$i,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(s){const l=s-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let s=0;s<this.outstandingPuts_.length;s++){const l=this.outstandingPuts_[s];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[s],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(s,l){let h;h=l?l.map(b=>ms(b)).join("$"):"default";const E=this.removeListen_(s,h);E&&E.onComplete&&E.onComplete("permission_denied")}removeListen_(s,l){const h=new v(s).toString();let E;if(this.listens.has(h)){const b=this.listens.get(h);E=b.get(l),b.delete(l),0===b.size&&this.listens.delete(h)}else E=void 0;return E}onAuthRevoked_(s,l){Hn("Auth token revoked: "+s+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===s||"permission_denied"===s)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(s,l){Hn("App check token revoked: "+s+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===s||"permission_denied"===s)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(s){this.securityDebugCallback_?this.securityDebugCallback_(s):"msg"in s&&console.log("FIREBASE: "+s.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const s of this.listens.values())for(const l of s.values())this.sendListen_(l);for(let s=0;s<this.outstandingPuts_.length;s++)this.outstandingPuts_[s]&&this.sendPut_(s);for(;this.onDisconnectRequestQueue_.length;){const s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(let s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}sendConnectStats_(){const s={};let l="js";(0,O.Yr)()&&(l=this.repoInfo_.nodeAdmin?"admin_node":"node"),s["sdk."+l+"."+Dr.replace(/\./g,"-")]=1,(0,O.uI)()?s["framework.cordova"]=1:(0,O.b$)()&&(s["framework.reactnative"]=1),this.reportStats(s)}shouldReconnect_(){const s=Ys.getInstance().currentlyOnline();return(0,O.xb)(this.interruptReasons_)&&s}}return o.nextPersistentConnectionId_=0,o.nextConnectionId_=0,o})();class cn{constructor(r,s){this.name=r,this.node=s}static Wrap(r,s){return new cn(r,s)}}class Wi{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,s){const l=new cn(Ui,r),h=new cn(Ui,s);return 0!==this.compare(l,h)}minPost(){return cn.MIN}}class rd extends Wi{static get __EMPTY_NODE(){return ys}static set __EMPTY_NODE(r){ys=r}compare(r,s){return Bi(r.name,s.name)}isDefinedOn(r){throw(0,O.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,s){return!1}minPost(){return cn.MIN}maxPost(){return new cn(Ei,ys)}makePost(r,s){return(0,O.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new cn(r,ys)}toString(){return".key"}}const es=new rd;class Es{constructor(r,s,l,h,E=null){this.isReverse_=h,this.resultGenerator_=E,this.nodeStack_=[];let b=1;for(;!r.isEmpty();)if(b=s?l(r.key,s):1,h&&(b*=-1),b<0)r=this.isReverse_?r.left:r.right;else{if(0===b){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let s,r=this.nodeStack_.pop();if(s=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let Jo,Kr=(()=>{class o{constructor(s,l,h,E,b){this.key=s,this.value=l,this.color=h??o.RED,this.left=E??Ii.EMPTY_NODE,this.right=b??Ii.EMPTY_NODE}copy(s,l,h,E,b){return new o(s??this.key,l??this.value,h??this.color,E??this.left,b??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||!!s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,l,h){let E=this;const b=h(s,E.key);return E=b<0?E.copy(null,null,null,E.left.insert(s,l,h),null):0===b?E.copy(null,l,null,null,null):E.copy(null,null,null,null,E.right.insert(s,l,h)),E.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ii.EMPTY_NODE;let s=this;return!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.removeMin_(),null),s.fixUp_()}remove(s,l){let h,E;if(h=this,l(s,h.key)<0)!h.left.isEmpty()&&!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.remove(s,l),null);else{if(h.left.isRed_()&&(h=h.rotateRight_()),!h.right.isEmpty()&&!h.right.isRed_()&&!h.right.left.isRed_()&&(h=h.moveRedRight_()),0===l(s,h.key)){if(h.right.isEmpty())return Ii.EMPTY_NODE;E=h.right.min_(),h=h.copy(E.key,E.value,null,null,h.right.removeMin_())}h=h.copy(null,null,null,null,h.right.remove(s,l))}return h.fixUp_()}isRed_(){return this.color}fixUp_(){let s=this;return s.right.isRed_()&&!s.left.isRed_()&&(s=s.rotateLeft_()),s.left.isRed_()&&s.left.left.isRed_()&&(s=s.rotateRight_()),s.left.isRed_()&&s.right.isRed_()&&(s=s.colorFlip_()),s}moveRedLeft_(){let s=this.colorFlip_();return s.right.left.isRed_()&&(s=s.copy(null,null,null,null,s.right.rotateRight_()),s=s.rotateLeft_(),s=s.colorFlip_()),s}moveRedRight_(){let s=this.colorFlip_();return s.left.left.isRed_()&&(s=s.rotateRight_(),s=s.colorFlip_()),s}rotateLeft_(){const s=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight_(){const s=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip_(){const s=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,l)}checkMaxDepth_(){const s=this.check_();return Math.pow(2,s)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const s=this.left.check_();if(s!==this.right.check_())throw new Error("Black depths differ");return s+(this.isRed_()?0:1)}}return o.RED=!0,o.BLACK=!1,o})();class Ii{constructor(r,s=Ii.EMPTY_NODE){this.comparator_=r,this.root_=s}insert(r,s){return new Ii(this.comparator_,this.root_.insert(r,s,this.comparator_).copy(null,null,Kr.BLACK,null,null))}remove(r){return new Ii(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,Kr.BLACK,null,null))}get(r){let s,l=this.root_;for(;!l.isEmpty();){if(s=this.comparator_(r,l.key),0===s)return l.value;s<0?l=l.left:s>0&&(l=l.right)}return null}getPredecessorKey(r){let s,l=this.root_,h=null;for(;!l.isEmpty();){if(s=this.comparator_(r,l.key),0===s){if(l.left.isEmpty())return h?h.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}s<0?l=l.left:s>0&&(h=l,l=l.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new Es(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,s){return new Es(this.root_,r,this.comparator_,!1,s)}getReverseIteratorFrom(r,s){return new Es(this.root_,r,this.comparator_,!0,s)}getReverseIterator(r){return new Es(this.root_,null,this.comparator_,!0,r)}}function bf(o,r){return Bi(o.name,r.name)}function id(o,r){return Bi(o,r)}Ii.EMPTY_NODE=new class oc{copy(r,s,l,h,E){return this}insert(r,s,l){return new Kr(r,s,null)}remove(r,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const sd=function(o){return"number"==typeof o?"number:"+x(o):"string:"+o},Ha=function(o){if(o.isLeafNode()){const r=o.val();(0,O.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,O.r3)(r,".sv"),"Priority must be a string or number.")}else(0,O.hu)(o===Jo||o.isEmpty(),"priority of unexpected type.");(0,O.hu)(o===Jo||o.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Va,ac,uc,Qs=(()=>{class o{constructor(s,l=o.__childrenNodeConstructor.EMPTY_NODE){this.value_=s,this.priorityNode_=l,this.lazyHash_=null,(0,O.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ha(this.priorityNode_)}static set __childrenNodeConstructor(s){Va=s}static get __childrenNodeConstructor(){return Va}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(s){return new o(this.value_,s)}getImmediateChild(s){return".priority"===s?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}getChild(s){return nt(s)?this:".priority"===m(s)?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(s,l){return null}updateImmediateChild(s,l){return".priority"===s?this.updatePriority(l):l.isEmpty()&&".priority"!==s?this:o.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(s,l).updatePriority(this.priorityNode_)}updateChild(s,l){const h=m(s);return null===h?l:l.isEmpty()&&".priority"!==h?this:((0,O.hu)(".priority"!==h||1===w(s),".priority must be the last token in a path"),this.updateImmediateChild(h,o.__childrenNodeConstructor.EMPTY_NODE.updateChild(S(s),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(s,l){return!1}val(s){return s&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let s="";this.priorityNode_.isEmpty()||(s+="priority:"+sd(this.priorityNode_.val())+":");const l=typeof this.value_;s+=l+":",s+="number"===l?x(this.value_):this.value_,this.lazyHash_=go(s)}return this.lazyHash_}getValue(){return this.value_}compareTo(s){return s===o.__childrenNodeConstructor.EMPTY_NODE?1:s instanceof o.__childrenNodeConstructor?-1:((0,O.hu)(s.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(s))}compareToLeafNode_(s){const l=typeof s.value_,h=typeof this.value_,E=o.VALUE_TYPE_ORDER.indexOf(l),b=o.VALUE_TYPE_ORDER.indexOf(h);return(0,O.hu)(E>=0,"Unknown leaf type: "+l),(0,O.hu)(b>=0,"Unknown leaf type: "+h),E===b?"object"===h?0:this.value_<s.value_?-1:this.value_===s.value_?0:1:b-E}withIndex(){return this}isIndexed(){return!0}equals(s){return s===this||!!s.isLeafNode()&&(this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_))}}return o.VALUE_TYPE_ORDER=["object","boolean","number","string"],o})();const On=new class Is extends Wi{compare(r,s){const l=r.node.getPriority(),h=s.node.getPriority(),E=l.compareTo(h);return 0===E?Bi(r.name,s.name):E}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,s){return!r.getPriority().equals(s.getPriority())}minPost(){return cn.MIN}maxPost(){return new cn(Ei,new Qs("[PRIORITY-POST]",uc))}makePost(r,s){const l=ac(r);return new cn(s,new Qs("[PRIORITY-POST]",l))}toString(){return".priority"}},Rl=Math.log(2);class cc{constructor(r){this.count=parseInt(Math.log(r+1)/Rl,10),this.current_=this.count-1;const h=(E=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&h}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const ea=function(o,r,s,l){o.sort(r);const h=function(B,$){const _e=$-B;let be,Ae;if(0===_e)return null;if(1===_e)return be=o[B],Ae=s?s(be):be,new Kr(Ae,be.node,Kr.BLACK,null,null);{const et=parseInt(_e/2,10)+B,ht=h(B,et),Vt=h(et+1,$);return be=o[et],Ae=s?s(be):be,new Kr(Ae,be.node,Kr.BLACK,ht,Vt)}},N=function(B){let $=null,_e=null,be=o.length;const Ae=function(ht,Vt){const Qt=be-ht,nr=be;be-=ht;const Vr=h(Qt+1,nr),gr=o[Qt],Or=s?s(gr):gr;et(new Kr(Or,gr.node,Vt,null,Vr))},et=function(ht){$?($.left=ht,$=ht):(_e=ht,$=ht)};for(let ht=0;ht<B.count;++ht){const Vt=B.nextBitIsOne(),Qt=Math.pow(2,B.count-(ht+1));Vt?Ae(Qt,Kr.BLACK):(Ae(Qt,Kr.BLACK),Ae(Qt,Kr.RED))}return _e}(new cc(o.length));return new Ii(l||r,N)};let wo;const Cs={};class Xs{constructor(r,s){this.indexes_=r,this.indexSet_=s}static get Default(){return(0,O.hu)(Cs&&On,"ChildrenNode.ts has not been loaded"),wo=wo||new Xs({".priority":Cs},{".priority":On}),wo}get(r){const s=(0,O.DV)(this.indexes_,r);if(!s)throw new Error("No index defined for "+r);return s instanceof Ii?s:null}hasIndex(r){return(0,O.r3)(this.indexSet_,r.toString())}addIndex(r,s){(0,O.hu)(r!==es,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let h=!1;const E=s.getIterator(cn.Wrap);let N,b=E.getNext();for(;b;)h=h||r.isDefinedOn(b.node),l.push(b),b=E.getNext();N=h?ea(l,r.getCompare()):Cs;const B=r.toString(),$=Object.assign({},this.indexSet_);$[B]=r;const _e=Object.assign({},this.indexes_);return _e[B]=N,new Xs(_e,$)}addToIndexes(r,s){const l=(0,O.UI)(this.indexes_,(h,E)=>{const b=(0,O.DV)(this.indexSet_,E);if((0,O.hu)(b,"Missing index implementation for "+E),h===Cs){if(b.isDefinedOn(r.node)){const N=[],B=s.getIterator(cn.Wrap);let $=B.getNext();for(;$;)$.name!==r.name&&N.push($),$=B.getNext();return N.push(r),ea(N,b.getCompare())}return Cs}{const N=s.get(r.name);let B=h;return N&&(B=B.remove(new cn(r.name,N))),B.insert(r,r.node)}});return new Xs(l,this.indexSet_)}removeFromIndexes(r,s){const l=(0,O.UI)(this.indexes_,h=>{if(h===Cs)return h;{const E=s.get(r.name);return E?h.remove(new cn(r.name,E)):h}});return new Xs(l,this.indexSet_)}}let bo,qt=(()=>{class o{constructor(s,l,h){this.children_=s,this.priorityNode_=l,this.indexMap_=h,this.lazyHash_=null,this.priorityNode_&&Ha(this.priorityNode_),this.children_.isEmpty()&&(0,O.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bo||(bo=new o(new Ii(id),null,Xs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bo}updatePriority(s){return this.children_.isEmpty()?this:new o(this.children_,s,this.indexMap_)}getImmediateChild(s){if(".priority"===s)return this.getPriority();{const l=this.children_.get(s);return null===l?bo:l}}getChild(s){const l=m(s);return null===l?this:this.getImmediateChild(l).getChild(S(s))}hasChild(s){return null!==this.children_.get(s)}updateImmediateChild(s,l){if((0,O.hu)(l,"We should always be passing snapshot nodes"),".priority"===s)return this.updatePriority(l);{const h=new cn(s,l);let E,b;l.isEmpty()?(E=this.children_.remove(s),b=this.indexMap_.removeFromIndexes(h,this.children_)):(E=this.children_.insert(s,l),b=this.indexMap_.addToIndexes(h,this.children_));const N=E.isEmpty()?bo:this.priorityNode_;return new o(E,N,b)}}updateChild(s,l){const h=m(s);if(null===h)return l;{(0,O.hu)(".priority"!==m(s)||1===w(s),".priority must be the last token in a path");const E=this.getImmediateChild(h).updateChild(S(s),l);return this.updateImmediateChild(h,E)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(s){if(this.isEmpty())return null;const l={};let h=0,E=0,b=!0;if(this.forEachChild(On,(N,B)=>{l[N]=B.val(s),h++,b&&o.INTEGER_REGEXP_.test(N)?E=Math.max(E,Number(N)):b=!1}),!s&&b&&E<2*h){const N=[];for(const B in l)N[B]=l[B];return N}return s&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(null===this.lazyHash_){let s="";this.getPriority().isEmpty()||(s+="priority:"+sd(this.getPriority().val())+":"),this.forEachChild(On,(l,h)=>{const E=h.hash();""!==E&&(s+=":"+l+":"+E)}),this.lazyHash_=""===s?"":go(s)}return this.lazyHash_}getPredecessorChildName(s,l,h){const E=this.resolveIndex_(h);if(E){const b=E.getPredecessorKey(new cn(s,l));return b?b.name:null}return this.children_.getPredecessorKey(s)}getFirstChildName(s){const l=this.resolveIndex_(s);if(l){const h=l.minKey();return h&&h.name}return this.children_.minKey()}getFirstChild(s){const l=this.getFirstChildName(s);return l?new cn(l,this.children_.get(l)):null}getLastChildName(s){const l=this.resolveIndex_(s);if(l){const h=l.maxKey();return h&&h.name}return this.children_.maxKey()}getLastChild(s){const l=this.getLastChildName(s);return l?new cn(l,this.children_.get(l)):null}forEachChild(s,l){const h=this.resolveIndex_(s);return h?h.inorderTraversal(E=>l(E.name,E.node)):this.children_.inorderTraversal(l)}getIterator(s){return this.getIteratorFrom(s.minPost(),s)}getIteratorFrom(s,l){const h=this.resolveIndex_(l);if(h)return h.getIteratorFrom(s,E=>E);{const E=this.children_.getIteratorFrom(s.name,cn.Wrap);let b=E.peek();for(;null!=b&&l.compare(b,s)<0;)E.getNext(),b=E.peek();return E}}getReverseIterator(s){return this.getReverseIteratorFrom(s.maxPost(),s)}getReverseIteratorFrom(s,l){const h=this.resolveIndex_(l);if(h)return h.getReverseIteratorFrom(s,E=>E);{const E=this.children_.getReverseIteratorFrom(s.name,cn.Wrap);let b=E.peek();for(;null!=b&&l.compare(b,s)>0;)E.getNext(),b=E.peek();return E}}compareTo(s){return this.isEmpty()?s.isEmpty()?0:-1:s.isLeafNode()||s.isEmpty()?1:s===$a?-1:0}withIndex(s){if(s===es||this.indexMap_.hasIndex(s))return this;{const l=this.indexMap_.addIndex(s,this.children_);return new o(this.children_,this.priorityNode_,l)}}isIndexed(s){return s===es||this.indexMap_.hasIndex(s)}equals(s){if(s===this)return!0;if(s.isLeafNode())return!1;{const l=s;if(this.getPriority().equals(l.getPriority())){if(this.children_.count()===l.children_.count()){const h=this.getIterator(On),E=l.getIterator(On);let b=h.getNext(),N=E.getNext();for(;b&&N;){if(b.name!==N.name||!b.node.equals(N.node))return!1;b=h.getNext(),N=E.getNext()}return null===b&&null===N}return!1}return!1}}resolveIndex_(s){return s===es?null:this.indexMap_.get(s.toString())}}return o.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,o})();const $a=new class dc extends qt{constructor(){super(new Ii(id),qt.EMPTY_NODE,Xs.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return qt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(cn,{MIN:{value:new cn(Ui,qt.EMPTY_NODE)},MAX:{value:new cn(Ei,$a)}}),rd.__EMPTY_NODE=qt.EMPTY_NODE,Qs.__childrenNodeConstructor=qt,function ja(o){Jo=o}($a),function lc(o){uc=o}($a);const hh=!0;function jn(o,r=null){if(null===o)return qt.EMPTY_NODE;if("object"==typeof o&&".priority"in o&&(r=o[".priority"]),(0,O.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof o&&".value"in o&&null!==o[".value"]&&(o=o[".value"]),"object"!=typeof o||".sv"in o)return new Qs(o,jn(r));if(o instanceof Array||!hh){let s=qt.EMPTY_NODE;return I(o,(l,h)=>{if((0,O.r3)(o,l)&&"."!==l.substring(0,1)){const E=jn(h);(E.isLeafNode()||!E.isEmpty())&&(s=s.updateImmediateChild(l,E))}}),s.updatePriority(jn(r))}{const s=[];let l=!1;if(I(o,(b,N)=>{if("."!==b.substring(0,1)){const B=jn(N);B.isEmpty()||(l=l||!B.getPriority().isEmpty(),s.push(new cn(b,B)))}}),0===s.length)return qt.EMPTY_NODE;const E=ea(s,bf,b=>b.name,id);if(l){const b=ea(s,On.getCompare());return new qt(E,jn(r),new Xs({".priority":b},{".priority":On}))}return new qt(E,jn(r),Xs.Default)}}!function Al(o){ac=o}(jn);class Js extends Wi{constructor(r){super(),this.indexPath_=r,(0,O.hu)(!nt(r)&&".priority"!==m(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,s){const l=this.extractChild(r.node),h=this.extractChild(s.node),E=l.compareTo(h);return 0===E?Bi(r.name,s.name):E}makePost(r,s){const l=jn(r),h=qt.EMPTY_NODE.updateChild(this.indexPath_,l);return new cn(s,h)}maxPost(){const r=qt.EMPTY_NODE.updateChild(this.indexPath_,$a);return new cn(Ei,r)}toString(){return we(this.indexPath_,0).join("/")}}const Wa=new class fh extends Wi{compare(r,s){const l=r.node.compareTo(s.node);return 0===l?Bi(r.name,s.name):l}isDefinedOn(r){return!0}indexedValueChanged(r,s){return!r.equals(s)}minPost(){return cn.MIN}maxPost(){return cn.MAX}makePost(r,s){const l=jn(r);return new cn(s,l)}toString(){return".value"}};function hc(o){return{type:"value",snapshotNode:o}}function Ds(o,r){return{type:"child_added",snapshotNode:r,childName:o}}function ta(o,r){return{type:"child_removed",snapshotNode:r,childName:o}}function wr(o,r,s){return{type:"child_changed",snapshotNode:r,childName:o,oldSnap:s}}class na{constructor(r){this.index_=r}updateChild(r,s,l,h,E,b){(0,O.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const N=r.getImmediateChild(s);return N.getChild(h).equals(l.getChild(h))&&N.isEmpty()===l.isEmpty()||(null!=b&&(l.isEmpty()?r.hasChild(s)?b.trackChildChange(ta(s,N)):(0,O.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):N.isEmpty()?b.trackChildChange(Ds(s,l)):b.trackChildChange(wr(s,l,N))),r.isLeafNode()&&l.isEmpty())?r:r.updateImmediateChild(s,l).withIndex(this.index_)}updateFullNode(r,s,l){return null!=l&&(r.isLeafNode()||r.forEachChild(On,(h,E)=>{s.hasChild(h)||l.trackChildChange(ta(h,E))}),s.isLeafNode()||s.forEachChild(On,(h,E)=>{if(r.hasChild(h)){const b=r.getImmediateChild(h);b.equals(E)||l.trackChildChange(wr(h,E,b))}else l.trackChildChange(Ds(h,E))})),s.withIndex(this.index_)}updatePriority(r,s){return r.isEmpty()?qt.EMPTY_NODE:r.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class eo{constructor(r){this.indexedFilter_=new na(r.getIndex()),this.index_=r.getIndex(),this.startPost_=eo.getStartPost_(r),this.endPost_=eo.getEndPost_(r),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),r)<=0:this.index_.compare(this.getStartPost(),r)<0,l=this.endIsInclusive_?this.index_.compare(r,this.getEndPost())<=0:this.index_.compare(r,this.getEndPost())<0;return s&&l}updateChild(r,s,l,h,E,b){return this.matches(new cn(s,l))||(l=qt.EMPTY_NODE),this.indexedFilter_.updateChild(r,s,l,h,E,b)}updateFullNode(r,s,l){s.isLeafNode()&&(s=qt.EMPTY_NODE);let h=s.withIndex(this.index_);h=h.updatePriority(qt.EMPTY_NODE);const E=this;return s.forEachChild(On,(b,N)=>{E.matches(new cn(b,N))||(h=h.updateImmediateChild(b,qt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,h,l)}updatePriority(r,s){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const s=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),s)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const s=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),s)}return r.getIndex().maxPost()}}class od{constructor(r){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=s=>{const l=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new eo(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft(),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}updateChild(r,s,l,h,E,b){return this.rangedFilter_.matches(new cn(s,l))||(l=qt.EMPTY_NODE),r.getImmediateChild(s).equals(l)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,s,l,h,E,b):this.fullLimitUpdateChild_(r,s,l,E,b)}updateFullNode(r,s,l){let h;if(s.isLeafNode()||s.isEmpty())h=qt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<s.numChildren()&&s.isIndexed(this.index_)){let E;h=qt.EMPTY_NODE.withIndex(this.index_),E=this.reverse_?s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let b=0;for(;E.hasNext()&&b<this.limit_;){const N=E.getNext();if(this.withinDirectionalStart(N)){if(!this.withinDirectionalEnd(N))break;h=h.updateImmediateChild(N.name,N.node),b++}}}else{let E;h=s.withIndex(this.index_),h=h.updatePriority(qt.EMPTY_NODE),E=this.reverse_?h.getReverseIterator(this.index_):h.getIterator(this.index_);let b=0;for(;E.hasNext();){const N=E.getNext();b<this.limit_&&this.withinDirectionalStart(N)&&this.withinDirectionalEnd(N)?b++:h=h.updateImmediateChild(N.name,qt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,h,l)}updatePriority(r,s){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,s,l,h,E){let b;if(this.reverse_){const be=this.index_.getCompare();b=(Ae,et)=>be(et,Ae)}else b=this.index_.getCompare();const N=r;(0,O.hu)(N.numChildren()===this.limit_,"");const B=new cn(s,l),$=this.reverse_?N.getFirstChild(this.index_):N.getLastChild(this.index_),_e=this.rangedFilter_.matches(B);if(N.hasChild(s)){const be=N.getImmediateChild(s);let Ae=h.getChildAfterChild(this.index_,$,this.reverse_);for(;null!=Ae&&(Ae.name===s||N.hasChild(Ae.name));)Ae=h.getChildAfterChild(this.index_,Ae,this.reverse_);const et=null==Ae?1:b(Ae,B);if(_e&&!l.isEmpty()&&et>=0)return E?.trackChildChange(wr(s,l,be)),N.updateImmediateChild(s,l);{E?.trackChildChange(ta(s,be));const Vt=N.updateImmediateChild(s,qt.EMPTY_NODE);return null!=Ae&&this.rangedFilter_.matches(Ae)?(E?.trackChildChange(Ds(Ae.name,Ae.node)),Vt.updateImmediateChild(Ae.name,Ae.node)):Vt}}return l.isEmpty()?r:_e&&b($,B)>=0?(null!=E&&(E.trackChildChange(ta($.name,$.node)),E.trackChildChange(Ds(s,l))),N.updateImmediateChild(s,l).updateImmediateChild($.name,qt.EMPTY_NODE)):r}}class ra{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=On}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ui}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ei}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,O.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===On}copy(){const r=new ra;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.startAfterSet_=this.startAfterSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.endBeforeSet_=this.endBeforeSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function to(o,r,s){const l=o.copy();return l.startSet_=!0,void 0===r&&(r=null),l.indexStartValue_=r,null!=s?(l.startNameSet_=!0,l.indexStartName_=s):(l.startNameSet_=!1,l.indexStartName_=""),l}function za(o,r,s){const l=o.copy();return l.endSet_=!0,void 0===r&&(r=null),l.indexEndValue_=r,void 0!==s?(l.endNameSet_=!0,l.indexEndName_=s):(l.endNameSet_=!1,l.indexEndName_=""),l}function gc(o,r){const s=o.copy();return s.index_=r,s}function ud(o){const r={};if(o.isDefault())return r;let s;if(o.index_===On?s="$priority":o.index_===Wa?s="$value":o.index_===es?s="$key":((0,O.hu)(o.index_ instanceof Js,"Unrecognized index type!"),s=o.index_.toString()),r.orderBy=(0,O.Wl)(s),o.startSet_){const l=o.startAfterSet_?"startAfter":"startAt";r[l]=(0,O.Wl)(o.indexStartValue_),o.startNameSet_&&(r[l]+=","+(0,O.Wl)(o.indexStartName_))}if(o.endSet_){const l=o.endBeforeSet_?"endBefore":"endAt";r[l]=(0,O.Wl)(o.indexEndValue_),o.endNameSet_&&(r[l]+=","+(0,O.Wl)(o.indexEndName_))}return o.limitSet_&&(o.isViewFromLeft()?r.limitToFirst=o.limit_:r.limitToLast=o.limit_),r}function ph(o){const r={};if(o.startSet_&&(r.sp=o.indexStartValue_,o.startNameSet_&&(r.sn=o.indexStartName_),r.sin=!o.startAfterSet_),o.endSet_&&(r.ep=o.indexEndValue_,o.endNameSet_&&(r.en=o.indexEndName_),r.ein=!o.endBeforeSet_),o.limitSet_){r.l=o.limit_;let s=o.viewFrom_;""===s&&(s=o.isViewFromLeft()?"l":"r"),r.vf=s}return o.index_!==On&&(r.i=o.index_.toString()),r}class Yu extends Wu{constructor(r,s,l,h){super(),this.repoInfo_=r,this.onDataUpdate_=s,this.authTokenProvider_=l,this.appCheckTokenProvider_=h,this.log_=Fi("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,s){return void 0!==s?"tag$"+s:((0,O.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,s,l,h){const E=r._path.toString();this.log_("Listen called for "+E+" "+r._queryIdentifier);const b=Yu.getListenId_(r,l),N={};this.listens_[b]=N;const B=ud(r._queryParams);this.restRequest_(E+".json",B,($,_e)=>{let be=_e;if(404===$&&(be=null,$=null),null===$&&this.onDataUpdate_(E,be,!1,l),(0,O.DV)(this.listens_,b)===N){let Ae;Ae=$?401===$?"permission_denied":"rest_error:"+$:"ok",h(Ae,null)}})}unlisten(r,s){const l=Yu.getListenId_(r,s);delete this.listens_[l]}get(r){const s=ud(r._queryParams),l=r._path.toString(),h=new O.BH;return this.restRequest_(l+".json",s,(E,b)=>{let N=b;404===E&&(N=null,E=null),null===E?(this.onDataUpdate_(l,N,!1,null),h.resolve(N)):h.reject(new Error(N))}),h.promise}refreshAuthToken(r){}restRequest_(r,s={},l){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([h,E])=>{h&&h.accessToken&&(s.auth=h.accessToken),E&&E.token&&(s.ac=E.token);const b=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,O.xO)(s);this.log_("Sending REST request for "+b);const N=new XMLHttpRequest;N.onreadystatechange=()=>{if(l&&4===N.readyState){this.log_("REST Response for "+b+" received. status:",N.status,"response:",N.responseText);let B=null;if(N.status>=200&&N.status<300){try{B=(0,O.cI)(N.responseText)}catch{Mr("Failed to parse JSON response for "+b+": "+N.responseText)}l(null,B)}else 401!==N.status&&404!==N.status&&Mr("Got unsuccessful REST response for "+b+" Status: "+N.status),l(N.status);l=null}},N.open("GET",b,!0),N.send()})}}class Tf{constructor(){this.rootNode_=qt.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,s){this.rootNode_=this.rootNode_.updateChild(r,s)}}function mc(){return{value:null,children:new Map}}function Ga(o,r,s){if(nt(r))o.value=s,o.children.clear();else if(null!==o.value)o.value=o.value.updateChild(r,s);else{const l=m(r);o.children.has(l)||o.children.set(l,mc()),Ga(o.children.get(l),r=S(r),s)}}function ld(o,r){if(nt(r))return o.value=null,o.children.clear(),!0;if(null!==o.value){if(o.value.isLeafNode())return!1;{const s=o.value;return o.value=null,s.forEachChild(On,(l,h)=>{Ga(o,new v(l),h)}),ld(o,r)}}if(o.children.size>0){const s=m(r);return r=S(r),o.children.has(s)&&ld(o.children.get(s),r)&&o.children.delete(s),0===o.children.size}return!0}function ts(o,r,s){null!==o.value?s(r,o.value):function gh(o,r){o.children.forEach((s,l)=>{r(l,s)})}(o,(l,h)=>{ts(h,new v(r.toString()+"/"+l),s)})}class mh{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),s=Object.assign({},r);return this.last_&&I(this.last_,(l,h)=>{s[l]=s[l]-h}),this.last_=r,s}}class vh{constructor(r,s){this.server_=s,this.statsToReport_={},this.statsListener_=new mh(r);const l=1e4+2e4*Math.random();Wt(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const r=this.statsListener_.get(),s={};let l=!1;I(r,(h,E)=>{E>0&&(0,O.r3)(this.statsToReport_,h)&&(s[h]=E,l=!0)}),l&&this.server_.reportStats(s),Wt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var fr=function(o){return o[o.OVERWRITE=0]="OVERWRITE",o[o.MERGE=1]="MERGE",o[o.ACK_USER_WRITE=2]="ACK_USER_WRITE",o[o.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",o}(fr||{});function Ka(o){return{fromUser:!1,fromServer:!0,queryId:o,tagged:!0}}class Ao{constructor(r,s,l){this.path=r,this.affectedTree=s,this.revert=l,this.type=fr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(nt(this.path)){if(null!=this.affectedTree.value)return(0,O.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new v(r));return new Ao(C(),s,this.revert)}}return(0,O.hu)(m(this.path)===r,"operationForChild called for unrelated child."),new Ao(S(this.path),this.affectedTree,this.revert)}}class Qu{constructor(r,s){this.source=r,this.path=s,this.type=fr.LISTEN_COMPLETE}operationForChild(r){return nt(this.path)?new Qu(this.source,C()):new Qu(this.source,S(this.path))}}class Ya{constructor(r,s,l){this.source=r,this.path=s,this.snap=l,this.type=fr.OVERWRITE}operationForChild(r){return nt(this.path)?new Ya(this.source,C(),this.snap.getImmediateChild(r)):new Ya(this.source,S(this.path),this.snap)}}class qa{constructor(r,s,l){this.source=r,this.path=s,this.children=l,this.type=fr.MERGE}operationForChild(r){if(nt(this.path)){const s=this.children.subtree(new v(r));return s.isEmpty()?null:s.value?new Ya(this.source,C(),s.value):new qa(this.source,C(),s)}return(0,O.hu)(m(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new qa(this.source,S(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ro{constructor(r,s,l){this.node_=r,this.fullyInitialized_=s,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(nt(r))return this.isFullyInitialized()&&!this.filtered_;const s=m(r);return this.isCompleteForChild(s)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class Mi{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function ws(o,r,s,l,h,E){const b=l.filter(N=>N.type===s);b.sort((N,B)=>function cd(o,r,s){if(null==r.childName||null==s.childName)throw(0,O.g5)("Should only compare child_ events.");const l=new cn(r.childName,r.snapshotNode),h=new cn(s.childName,s.snapshotNode);return o.index_.compare(l,h)}(o,N,B)),b.forEach(N=>{const B=function Sf(o,r,s){return"value"===r.type||"child_removed"===r.type||(r.prevName=s.getPredecessorChildName(r.childName,r.snapshotNode,o.index_)),r}(o,N,E);h.forEach($=>{$.respondsTo(N.type)&&r.push($.createEvent(B,o.query_))})})}function Qa(o,r){return{eventCache:o,serverCache:r}}function oa(o,r,s,l){return Qa(new Ro(r,s,l),o.serverCache)}function dd(o,r,s,l){return Qa(o.eventCache,new Ro(r,s,l))}function Xa(o){return o.eventCache.isFullyInitialized()?o.eventCache.getNode():null}function aa(o){return o.serverCache.isFullyInitialized()?o.serverCache.getNode():null}let Ml;class Mn{constructor(r,s=(()=>(Ml||(Ml=new Ii(Na)),Ml))()){this.value=r,this.children=s}static fromObject(r){let s=new Mn(null);return I(r,(l,h)=>{s=s.set(new v(l),h)}),s}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,s){if(null!=this.value&&s(this.value))return{path:C(),value:this.value};if(nt(r))return null;{const l=m(r),h=this.children.get(l);if(null!==h){const E=h.findRootMostMatchingPathAndValue(S(r),s);return null!=E?{path:Ye(new v(l),E.path),value:E.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(nt(r))return this;{const s=m(r),l=this.children.get(s);return null!==l?l.subtree(S(r)):new Mn(null)}}set(r,s){if(nt(r))return new Mn(s,this.children);{const l=m(r),E=(this.children.get(l)||new Mn(null)).set(S(r),s),b=this.children.insert(l,E);return new Mn(this.value,b)}}remove(r){if(nt(r))return this.children.isEmpty()?new Mn(null):new Mn(null,this.children);{const s=m(r),l=this.children.get(s);if(l){const h=l.remove(S(r));let E;return E=h.isEmpty()?this.children.remove(s):this.children.insert(s,h),null===this.value&&E.isEmpty()?new Mn(null):new Mn(this.value,E)}return this}}get(r){if(nt(r))return this.value;{const s=m(r),l=this.children.get(s);return l?l.get(S(r)):null}}setTree(r,s){if(nt(r))return s;{const l=m(r),E=(this.children.get(l)||new Mn(null)).setTree(S(r),s);let b;return b=E.isEmpty()?this.children.remove(l):this.children.insert(l,E),new Mn(this.value,b)}}fold(r){return this.fold_(C(),r)}fold_(r,s){const l={};return this.children.inorderTraversal((h,E)=>{l[h]=E.fold_(Ye(r,h),s)}),s(r,this.value,l)}findOnPath(r,s){return this.findOnPath_(r,C(),s)}findOnPath_(r,s,l){const h=!!this.value&&l(s,this.value);if(h)return h;if(nt(r))return null;{const E=m(r),b=this.children.get(E);return b?b.findOnPath_(S(r),Ye(s,E),l):null}}foreachOnPath(r,s){return this.foreachOnPath_(r,C(),s)}foreachOnPath_(r,s,l){if(nt(r))return this;{this.value&&l(s,this.value);const h=m(r),E=this.children.get(h);return E?E.foreachOnPath_(S(r),Ye(s,h),l):new Mn(null)}}foreach(r){this.foreach_(C(),r)}foreach_(r,s){this.children.inorderTraversal((l,h)=>{h.foreach_(Ye(r,l),s)}),this.value&&s(r,this.value)}foreachChild(r){this.children.inorderTraversal((s,l)=>{l.value&&r(s,l.value)})}}class ns{constructor(r){this.writeTree_=r}static empty(){return new ns(new Mn(null))}}function ua(o,r,s){if(nt(r))return new ns(new Mn(s));{const l=o.writeTree_.findRootMostValueAndPath(r);if(null!=l){const h=l.path;let E=l.value;const b=Ot(h,r);return E=E.updateChild(b,s),new ns(o.writeTree_.set(h,E))}{const h=new Mn(s),E=o.writeTree_.setTree(r,h);return new ns(E)}}}function Xu(o,r,s){let l=o;return I(s,(h,E)=>{l=ua(l,Ye(r,h),E)}),l}function Ja(o,r){if(nt(r))return ns.empty();{const s=o.writeTree_.setTree(r,new Mn(null));return new ns(s)}}function eu(o,r){return null!=no(o,r)}function no(o,r){const s=o.writeTree_.findRootMostValueAndPath(r);return null!=s?o.writeTree_.get(s.path).getChild(Ot(s.path,r)):null}function Ju(o){const r=[],s=o.writeTree_.value;return null!=s?s.isLeafNode()||s.forEachChild(On,(l,h)=>{r.push(new cn(l,h))}):o.writeTree_.children.inorderTraversal((l,h)=>{null!=h.value&&r.push(new cn(l,h.value))}),r}function rs(o,r){if(nt(r))return o;{const s=no(o,r);return new ns(null!=s?new Mn(s):o.writeTree_.subtree(r))}}function Pl(o){return o.writeTree_.isEmpty()}function tu(o,r){return hd(C(),o.writeTree_,r)}function hd(o,r,s){if(null!=r.value)return s.updateChild(o,r.value);{let l=null;return r.children.inorderTraversal((h,E)=>{".priority"===h?((0,O.hu)(null!==E.value,"Priority writes must always be leaf nodes"),l=E.value):s=hd(Ye(o,h),E,s)}),!s.getChild(o).isEmpty()&&null!==l&&(s=s.updateChild(Ye(o,".priority"),l)),s}}function ro(o,r){return Ec(r,o)}function la(o,r){if(o.snap)return yr(o.path,r);for(const s in o.children)if(o.children.hasOwnProperty(s)&&yr(Ye(o.path,s),r))return!0;return!1}function Eh(o){return o.visible}function Nl(o,r,s){let l=ns.empty();for(let h=0;h<o.length;++h){const E=o[h];if(r(E)){const b=E.path;let N;if(E.snap)yr(s,b)?(N=Ot(s,b),l=ua(l,N,E.snap)):yr(b,s)&&(N=Ot(b,s),l=ua(l,C(),E.snap.getChild(N)));else{if(!E.children)throw(0,O.g5)("WriteRecord should have .snap or .children");if(yr(s,b))N=Ot(s,b),l=Xu(l,N,E.children);else if(yr(b,s))if(N=Ot(b,s),nt(N))l=Xu(l,C(),E.children);else{const B=(0,O.DV)(E.children,m(N));if(B){const $=B.getChild(S(N));l=ua(l,C(),$)}}}}}return l}function pd(o,r,s,l,h){if(l||h){const E=rs(o.visibleWrites,r);return!h&&Pl(E)?s:h||null!=s||eu(E,C())?tu(Nl(o.allWrites,function($){return($.visible||h)&&(!l||!~l.indexOf($.writeId))&&(yr($.path,r)||yr(r,$.path))},r),s||qt.EMPTY_NODE):null}{const E=no(o.visibleWrites,r);if(null!=E)return E;{const b=rs(o.visibleWrites,r);return Pl(b)?s:null!=s||eu(b,C())?tu(b,s||qt.EMPTY_NODE):null}}}function el(o,r,s,l){return pd(o.writeTree,o.treePath,r,s,l)}function yc(o,r){return function ru(o,r,s){let l=qt.EMPTY_NODE;const h=no(o.visibleWrites,r);if(h)return h.isLeafNode()||h.forEachChild(On,(E,b)=>{l=l.updateImmediateChild(E,b)}),l;if(s){const E=rs(o.visibleWrites,r);return s.forEachChild(On,(b,N)=>{const B=tu(rs(E,new v(b)),N);l=l.updateImmediateChild(b,B)}),Ju(E).forEach(b=>{l=l.updateImmediateChild(b.name,b.node)}),l}return Ju(rs(o.visibleWrites,r)).forEach(b=>{l=l.updateImmediateChild(b.name,b.node)}),l}(o.writeTree,o.treePath,r)}function _d(o,r,s,l){return function gd(o,r,s,l,h){(0,O.hu)(l||h,"Either existingEventSnap or existingServerSnap must exist");const E=Ye(r,s);if(eu(o.visibleWrites,E))return null;{const b=rs(o.visibleWrites,E);return Pl(b)?h.getChild(s):tu(b,h.getChild(s))}}(o.writeTree,o.treePath,r,s,l)}function iu(o,r){return function Ol(o,r){return no(o.visibleWrites,r)}(o.writeTree,Ye(o.treePath,r))}function vd(o,r,s){return function Ih(o,r,s,l){const h=Ye(r,s),E=no(o.visibleWrites,h);return null!=E?E:l.isCompleteForChild(s)?tu(rs(o.visibleWrites,h),l.getNode().getImmediateChild(s)):null}(o.writeTree,o.treePath,r,s)}function tl(o,r){return Ec(Ye(o.treePath,r),o.writeTree)}function Ec(o,r){return{treePath:o,writeTree:r}}class Pf{constructor(){this.changeMap=new Map}trackChildChange(r){const s=r.type,l=r.childName;(0,O.hu)("child_added"===s||"child_changed"===s||"child_removed"===s,"Only child changes supported for tracking"),(0,O.hu)(".priority"!==l,"Only non-priority child changes can be tracked.");const h=this.changeMap.get(l);if(h){const E=h.type;if("child_added"===s&&"child_removed"===E)this.changeMap.set(l,wr(l,r.snapshotNode,h.snapshotNode));else if("child_removed"===s&&"child_added"===E)this.changeMap.delete(l);else if("child_removed"===s&&"child_changed"===E)this.changeMap.set(l,ta(l,h.oldSnap));else if("child_changed"===s&&"child_added"===E)this.changeMap.set(l,Ds(l,r.snapshotNode));else{if("child_changed"!==s||"child_changed"!==E)throw(0,O.g5)("Illegal combination of changes: "+r+" occurred after "+h);this.changeMap.set(l,wr(l,r.snapshotNode,h.oldSnap))}}else this.changeMap.set(l,r)}getChanges(){return Array.from(this.changeMap.values())}}const Ic=new class Nf{getCompleteChild(r){return null}getChildAfterChild(r,s,l){return null}};class xl{constructor(r,s,l=null){this.writes_=r,this.viewCache_=s,this.optCompleteServerCache_=l}getCompleteChild(r){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(r))return s.getNode().getImmediateChild(r);{const l=null!=this.optCompleteServerCache_?new Ro(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vd(this.writes_,r,l)}}getChildAfterChild(r,s,l){const h=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:aa(this.viewCache_),E=function Mf(o,r,s,l,h,E){return function Rf(o,r,s,l,h,E,b){let N;const B=rs(o.visibleWrites,r),$=no(B,C());if(null!=$)N=$;else{if(null==s)return[];N=tu(B,s)}if(N=N.withIndex(b),N.isEmpty()||N.isLeafNode())return[];{const _e=[],be=b.getCompare(),Ae=E?N.getReverseIteratorFrom(l,b):N.getIteratorFrom(l,b);let et=Ae.getNext();for(;et&&_e.length<h;)0!==be(et,l)&&_e.push(et),et=Ae.getNext();return _e}}(o.writeTree,o.treePath,r,s,l,h,E)}(this.writes_,h,s,1,l,r);return 0===E.length?null:E[0]}}function Cc(o,r,s,l,h,E){const b=r.eventCache;if(null!=iu(l,s))return r;{let N,B;if(nt(s))if((0,O.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const $=aa(r),be=yc(l,$ instanceof qt?$:qt.EMPTY_NODE);N=o.filter.updateFullNode(r.eventCache.getNode(),be,E)}else{const $=el(l,aa(r));N=o.filter.updateFullNode(r.eventCache.getNode(),$,E)}else{const $=m(s);if(".priority"===$){(0,O.hu)(1===w(s),"Can't have a priority with additional path components");const _e=b.getNode();B=r.serverCache.getNode();const be=_d(l,s,_e,B);N=null!=be?o.filter.updatePriority(_e,be):b.getNode()}else{const _e=S(s);let be;if(b.isCompleteForChild($)){B=r.serverCache.getNode();const Ae=_d(l,s,b.getNode(),B);be=null!=Ae?b.getNode().getImmediateChild($).updateChild(_e,Ae):b.getNode().getImmediateChild($)}else be=vd(l,$,r.serverCache);N=null!=be?o.filter.updateChild(b.getNode(),$,be,_e,h,E):b.getNode()}}return oa(r,N,b.isFullyInitialized()||nt(s),o.filter.filtersNodes())}}function nl(o,r,s,l,h,E,b,N){const B=r.serverCache;let $;const _e=b?o.filter:o.filter.getIndexedFilter();if(nt(s))$=_e.updateFullNode(B.getNode(),l,null);else if(_e.filtersNodes()&&!B.isFiltered()){const et=B.getNode().updateChild(s,l);$=_e.updateFullNode(B.getNode(),et,null)}else{const et=m(s);if(!B.isCompleteForPath(s)&&w(s)>1)return r;const ht=S(s),Qt=B.getNode().getImmediateChild(et).updateChild(ht,l);$=".priority"===et?_e.updatePriority(B.getNode(),Qt):_e.updateChild(B.getNode(),et,Qt,ht,Ic,null)}const be=dd(r,$,B.isFullyInitialized()||nt(s),_e.filtersNodes());return Cc(o,be,s,h,new xl(h,be,E),N)}function io(o,r,s,l,h,E,b){const N=r.eventCache;let B,$;const _e=new xl(h,r,E);if(nt(s))$=o.filter.updateFullNode(r.eventCache.getNode(),l,b),B=oa(r,$,!0,o.filter.filtersNodes());else{const be=m(s);if(".priority"===be)$=o.filter.updatePriority(r.eventCache.getNode(),l),B=oa(r,$,N.isFullyInitialized(),N.isFiltered());else{const Ae=S(s),et=N.getNode().getImmediateChild(be);let ht;if(nt(Ae))ht=l;else{const Vt=_e.getCompleteChild(be);ht=null!=Vt?".priority"===F(Ae)&&Vt.getChild(Ce(Ae)).isEmpty()?Vt:Vt.updateChild(Ae,l):qt.EMPTY_NODE}B=et.equals(ht)?r:oa(r,o.filter.updateChild(N.getNode(),be,ht,Ae,_e,b),N.isFullyInitialized(),o.filter.filtersNodes())}}return B}function Dc(o,r){return o.eventCache.isCompleteForChild(r)}function rl(o,r,s){return s.foreach((l,h)=>{r=r.updateChild(l,h)}),r}function su(o,r,s,l,h,E,b,N){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let $,B=r;$=nt(s)?l:new Mn(null).setTree(s,l);const _e=r.serverCache.getNode();return $.children.inorderTraversal((be,Ae)=>{if(_e.hasChild(be)){const ht=rl(0,r.serverCache.getNode().getImmediateChild(be),Ae);B=nl(o,B,new v(be),ht,h,E,b,N)}}),$.children.inorderTraversal((be,Ae)=>{const et=!r.serverCache.isCompleteForChild(be)&&null===Ae.value;if(!_e.hasChild(be)&&!et){const Vt=rl(0,r.serverCache.getNode().getImmediateChild(be),Ae);B=nl(o,B,new v(be),Vt,h,E,b,N)}}),B}class wh{constructor(r,s){this.query_=r,this.eventRegistrations_=[];const l=this.query_._queryParams,h=new na(l.getIndex()),E=function pc(o){return o.loadsAllData()?new na(o.getIndex()):o.hasLimit()?new od(o):new eo(o)}(l);this.processor_=function Ch(o){return{filter:o}}(E);const b=s.serverCache,N=s.eventCache,B=h.updateFullNode(qt.EMPTY_NODE,b.getNode(),null),$=E.updateFullNode(qt.EMPTY_NODE,N.getNode(),null),_e=new Ro(B,b.isFullyInitialized(),h.filtersNodes()),be=new Ro($,N.isFullyInitialized(),E.filtersNodes());this.viewCache_=Qa(be,_e),this.eventGenerator_=new Mi(this.query_)}get query(){return this.query_}}function bh(o,r){const s=aa(o.viewCache_);return s&&(o.query._queryParams.loadsAllData()||!nt(r)&&!s.getImmediateChild(m(r)).isEmpty())?s.getChild(r):null}function bc(o){return 0===o.eventRegistrations_.length}function il(o,r,s){const l=[];if(s){(0,O.hu)(null==r,"A cancel should cancel all event registrations.");const h=o.query._path;o.eventRegistrations_.forEach(E=>{const b=E.createCancelEvent(s,h);b&&l.push(b)})}if(r){let h=[];for(let E=0;E<o.eventRegistrations_.length;++E){const b=o.eventRegistrations_[E];if(b.matches(r)){if(r.hasAnyCallback()){h=h.concat(o.eventRegistrations_.slice(E+1));break}}else h.push(b)}o.eventRegistrations_=h}else o.eventRegistrations_=[];return l}function Sc(o,r,s,l){r.type===fr.MERGE&&null!==r.source.queryId&&((0,O.hu)(aa(o.viewCache_),"We should always have a full cache before handling merges"),(0,O.hu)(Xa(o.viewCache_),"Missing event cache, even though we have a server cache"));const h=o.viewCache_,E=function ca(o,r,s,l,h){const E=new Pf;let b,N;if(s.type===fr.OVERWRITE){const $=s;$.source.fromUser?b=io(o,r,$.path,$.snap,l,h,E):((0,O.hu)($.source.fromServer,"Unknown source."),N=$.source.tagged||r.serverCache.isFiltered()&&!nt($.path),b=nl(o,r,$.path,$.snap,l,h,N,E))}else if(s.type===fr.MERGE){const $=s;$.source.fromUser?b=function Ed(o,r,s,l,h,E,b){let N=r;return l.foreach((B,$)=>{const _e=Ye(s,B);Dc(r,m(_e))&&(N=io(o,N,_e,$,h,E,b))}),l.foreach((B,$)=>{const _e=Ye(s,B);Dc(r,m(_e))||(N=io(o,N,_e,$,h,E,b))}),N}(o,r,$.path,$.children,l,h,E):((0,O.hu)($.source.fromServer,"Unknown source."),N=$.source.tagged||r.serverCache.isFiltered(),b=su(o,r,$.path,$.children,l,h,N,E))}else if(s.type===fr.ACK_USER_WRITE){const $=s;b=$.revert?function Id(o,r,s,l,h,E){let b;if(null!=iu(l,s))return r;{const N=new xl(l,r,h),B=r.eventCache.getNode();let $;if(nt(s)||".priority"===m(s)){let _e;if(r.serverCache.isFullyInitialized())_e=el(l,aa(r));else{const be=r.serverCache.getNode();(0,O.hu)(be instanceof qt,"serverChildren would be complete if leaf node"),_e=yc(l,be)}$=o.filter.updateFullNode(B,_e,E)}else{const _e=m(s);let be=vd(l,_e,r.serverCache);null==be&&r.serverCache.isCompleteForChild(_e)&&(be=B.getImmediateChild(_e)),$=null!=be?o.filter.updateChild(B,_e,be,S(s),N,E):r.eventCache.getNode().hasChild(_e)?o.filter.updateChild(B,_e,qt.EMPTY_NODE,S(s),N,E):B,$.isEmpty()&&r.serverCache.isFullyInitialized()&&(b=el(l,aa(r)),b.isLeafNode()&&($=o.filter.updateFullNode($,b,E)))}return b=r.serverCache.isFullyInitialized()||null!=iu(l,C()),oa(r,$,b,o.filter.filtersNodes())}}(o,r,$.path,l,h,E):function Mo(o,r,s,l,h,E,b){if(null!=iu(h,s))return r;const N=r.serverCache.isFiltered(),B=r.serverCache;if(null!=l.value){if(nt(s)&&B.isFullyInitialized()||B.isCompleteForPath(s))return nl(o,r,s,B.getNode().getChild(s),h,E,N,b);if(nt(s)){let $=new Mn(null);return B.getNode().forEachChild(es,(_e,be)=>{$=$.set(new v(_e),be)}),su(o,r,s,$,h,E,N,b)}return r}{let $=new Mn(null);return l.foreach((_e,be)=>{const Ae=Ye(s,_e);B.isCompleteForPath(Ae)&&($=$.set(_e,B.getNode().getChild(Ae)))}),su(o,r,s,$,h,E,N,b)}}(o,r,$.path,$.affectedTree,l,h,E)}else{if(s.type!==fr.LISTEN_COMPLETE)throw(0,O.g5)("Unknown operation type: "+s.type);b=function Dh(o,r,s,l,h){const E=r.serverCache;return Cc(o,dd(r,E.getNode(),E.isFullyInitialized()||nt(s),E.isFiltered()),s,l,Ic,h)}(o,r,s.path,l,E)}const B=E.getChanges();return function yd(o,r,s){const l=r.eventCache;if(l.isFullyInitialized()){const h=l.getNode().isLeafNode()||l.getNode().isEmpty(),E=Xa(o);(s.length>0||!o.eventCache.isFullyInitialized()||h&&!l.getNode().equals(E)||!l.getNode().getPriority().equals(E.getPriority()))&&s.push(hc(Xa(r)))}}(r,b,B),{viewCache:b,changes:B}}(o.processor_,h,r,s,l);return function kl(o,r){(0,O.hu)(r.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,O.hu)(r.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed")}(o.processor_,E.viewCache),(0,O.hu)(E.viewCache.serverCache.isFullyInitialized()||!h.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),o.viewCache_=E.viewCache,jr(o,E.changes,E.viewCache.eventCache.getNode(),null)}function jr(o,r,s,l){return function _c(o,r,s,l){const h=[],E=[];return r.forEach(b=>{"child_changed"===b.type&&o.index_.indexedValueChanged(b.oldSnap,b.snapshotNode)&&E.push(function fc(o,r){return{type:"child_moved",snapshotNode:r,childName:o}}(b.childName,b.snapshotNode))}),ws(o,h,"child_removed",r,l,s),ws(o,h,"child_added",r,l,s),ws(o,h,"child_moved",E,l,s),ws(o,h,"child_changed",r,l,s),ws(o,h,"value",r,l,s),h}(o.eventGenerator_,r,s,l?[l]:o.eventRegistrations_)}let ou,ha;class ui{constructor(){this.views=new Map}}function au(o,r,s,l){const h=r.source.queryId;if(null!==h){const E=o.views.get(h);return(0,O.hu)(null!=E,"SyncTree gave us an op for an invalid query."),Sc(E,r,s,l)}{let E=[];for(const b of o.views.values())E=E.concat(Sc(b,r,s,l));return E}}function ol(o,r,s,l,h){const b=o.views.get(r._queryIdentifier);if(!b){let N=el(s,h?l:null),B=!1;N?B=!0:l instanceof qt?(N=yc(s,l),B=!1):(N=qt.EMPTY_NODE,B=!1);const $=Qa(new Ro(N,B,!1),new Ro(l,h,!1));return new wh(r,$)}return b}function Dd(o){const r=[];for(const s of o.views.values())s.query._queryParams.loadsAllData()||r.push(s);return r}function Yr(o,r){let s=null;for(const l of o.views.values())s=s||bh(l,r);return s}function Rc(o,r){return r._queryParams.loadsAllData()?Ll(o):o.views.get(r._queryIdentifier)}function Mc(o,r){return null!=Rc(o,r)}function Po(o){return null!=Ll(o)}function Ll(o){for(const r of o.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let fa=1;class wd{constructor(r){this.listenProvider_=r,this.syncPointTree_=new Mn(null),this.pendingWriteTree_=function md(){return{visibleWrites:ns.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function is(o,r,s,l,h){return function nu(o,r,s,l,h){(0,O.hu)(l>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===h&&(h=!0),o.allWrites.push({path:r,snap:s,writeId:l,visible:h}),h&&(o.visibleWrites=ua(o.visibleWrites,r,s)),o.lastWriteId=l}(o.pendingWriteTree_,r,s,l,h),h?g(o,new Ya({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,s)):[]}function bs(o,r,s=!1){const l=function Qp(o,r){for(let s=0;s<o.allWrites.length;s++){const l=o.allWrites[s];if(l.writeId===r)return l}return null}(o.pendingWriteTree_,r);if(function fd(o,r){const s=o.allWrites.findIndex(N=>N.writeId===r);(0,O.hu)(s>=0,"removeWrite called with nonexistent writeId.");const l=o.allWrites[s];o.allWrites.splice(s,1);let h=l.visible,E=!1,b=o.allWrites.length-1;for(;h&&b>=0;){const N=o.allWrites[b];N.visible&&(b>=s&&la(N,l.path)?h=!1:yr(l.path,N.path)&&(E=!0)),b--}return!!h&&(E?(function Af(o){o.visibleWrites=Nl(o.allWrites,Eh,C()),o.lastWriteId=o.allWrites.length>0?o.allWrites[o.allWrites.length-1].writeId:-1}(o),!0):(l.snap?o.visibleWrites=Ja(o.visibleWrites,l.path):I(l.children,B=>{o.visibleWrites=Ja(o.visibleWrites,Ye(l.path,B))}),!0))}(o.pendingWriteTree_,r)){let E=new Mn(null);return null!=l.snap?E=E.set(C(),!0):I(l.children,b=>{E=E.set(new v(b),!0)}),g(o,new Ao(l.path,E,s))}return[]}function pa(o,r,s){return g(o,new Ya({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,s))}function du(o,r,s,l,h=!1){const E=r._path,b=o.syncPointTree_.get(E);let N=[];if(b&&("default"===r._queryIdentifier||Mc(b,r))){const B=function Ac(o,r,s,l){const h=r._queryIdentifier,E=[];let b=[];const N=Po(o);if("default"===h)for(const[B,$]of o.views.entries())b=b.concat(il($,s,l)),bc($)&&(o.views.delete(B),$.query._queryParams.loadsAllData()||E.push($.query));else{const B=o.views.get(h);B&&(b=b.concat(il(B,s,l)),bc(B)&&(o.views.delete(h),B.query._queryParams.loadsAllData()||E.push(B.query)))}return N&&!Po(o)&&E.push(new(function Hr(){return(0,O.hu)(ou,"Reference.ts has not been loaded"),ou}())(r._repo,r._path)),{removed:E,events:b}}(b,r,s,l);(function sl(o){return 0===o.views.size})(b)&&(o.syncPointTree_=o.syncPointTree_.remove(E));const $=B.removed;if(N=B.events,!h){const _e=-1!==$.findIndex(Ae=>Ae._queryParams.loadsAllData()),be=o.syncPointTree_.findOnPath(E,(Ae,et)=>Po(et));if(_e&&!be){const Ae=o.syncPointTree_.subtree(E);if(!Ae.isEmpty()){const et=function Jn(o){return o.fold((r,s,l)=>{if(s&&Po(s))return[Ll(s)];{let h=[];return s&&(h=Dd(s)),I(l,(E,b)=>{h=h.concat(b)}),h}})}(Ae);for(let ht=0;ht<et.length;++ht){const Vt=et[ht],Qt=Vt.query,nr=Q(o,Vt);o.listenProvider_.startListening(pr(Qt),pe(o,Qt),nr.hashFn,nr.onComplete)}}}!be&&$.length>0&&!l&&(_e?o.listenProvider_.stopListening(pr(r),null):$.forEach(Ae=>{const et=o.queryToTagMap.get(ke(Ae));o.listenProvider_.stopListening(pr(Ae),et)}))}!function ul(o,r){for(let s=0;s<r.length;++s){const l=r[s];if(!l._queryParams.loadsAllData()){const h=ke(l),E=o.queryToTagMap.get(h);o.queryToTagMap.delete(h),o.tagToQueryMap.delete(E)}}}(o,$)}return N}function al(o,r,s,l){const h=ot(o,l);if(null!=h){const E=It(h),b=E.path,N=E.queryId,B=Ot(b,r);return Et(o,b,new Ya(Ka(N),B,s))}return[]}function f(o,r,s,l=!1){const h=r._path;let E=null,b=!1;o.syncPointTree_.foreachOnPath(h,(Ae,et)=>{const ht=Ot(Ae,h);E=E||Yr(et,ht),b=b||Po(et)});let B,N=o.syncPointTree_.get(h);N?(b=b||Po(N),E=E||Yr(N,C())):(N=new ui,o.syncPointTree_=o.syncPointTree_.set(h,N)),null!=E?B=!0:(B=!1,E=qt.EMPTY_NODE,o.syncPointTree_.subtree(h).foreachChild((et,ht)=>{const Vt=Yr(ht,C());Vt&&(E=E.updateImmediateChild(et,Vt))}));const $=Mc(N,r);if(!$&&!r._queryParams.loadsAllData()){const Ae=ke(r);(0,O.hu)(!o.queryToTagMap.has(Ae),"View does not exist, but we have a tag");const et=function Nc(){return fa++}();o.queryToTagMap.set(Ae,et),o.tagToQueryMap.set(et,Ae)}let be=function Sh(o,r,s,l,h,E){const b=ol(o,r,l,h,E);return o.views.has(r._queryIdentifier)||o.views.set(r._queryIdentifier,b),function Tc(o,r){o.eventRegistrations_.push(r)}(b,s),function Th(o,r){const s=o.viewCache_.eventCache,l=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(On,(E,b)=>{l.push(Ds(E,b))}),s.isFullyInitialized()&&l.push(hc(s.getNode())),jr(o,l,s.getNode(),r)}(b,s)}(N,r,s,ro(o.pendingWriteTree_,h),E,B);if(!$&&!b&&!l){const Ae=Rc(N,r);be=be.concat(function Oc(o,r,s){const l=r._path,h=pe(o,r),E=Q(o,s),b=o.listenProvider_.startListening(pr(r),h,E.hashFn,E.onComplete),N=o.syncPointTree_.subtree(l);if(h)(0,O.hu)(!Po(N.value),"If we're adding a query, it shouldn't be shadowed");else{const B=N.fold(($,_e,be)=>{if(!nt($)&&_e&&Po(_e))return[Ll(_e).query];{let Ae=[];return _e&&(Ae=Ae.concat(Dd(_e).map(et=>et.query))),I(be,(et,ht)=>{Ae=Ae.concat(ht)}),Ae}});for(let $=0;$<B.length;++$){const _e=B[$];o.listenProvider_.stopListening(pr(_e),pe(o,_e))}}return b}(o,r,Ae))}return be}function u(o,r,s){const h=o.pendingWriteTree_,E=o.syncPointTree_.findOnPath(r,(b,N)=>{const $=Yr(N,Ot(b,r));if($)return $});return pd(h,r,E,s,!0)}function g(o,r){return A(r,o.syncPointTree_,null,ro(o.pendingWriteTree_,C()))}function A(o,r,s,l){if(nt(o.path))return k(o,r,s,l);{const h=r.get(C());null==s&&null!=h&&(s=Yr(h,C()));let E=[];const b=m(o.path),N=o.operationForChild(b),B=r.children.get(b);if(B&&N){const $=s?s.getImmediateChild(b):null,_e=tl(l,b);E=E.concat(A(N,B,$,_e))}return h&&(E=E.concat(au(h,o,l,s))),E}}function k(o,r,s,l){const h=r.get(C());null==s&&null!=h&&(s=Yr(h,C()));let E=[];return r.children.inorderTraversal((b,N)=>{const B=s?s.getImmediateChild(b):null,$=tl(l,b),_e=o.operationForChild(b);_e&&(E=E.concat(k(_e,N,B,$)))}),h&&(E=E.concat(au(h,o,l,s))),E}function Q(o,r){const s=r.query,l=pe(o,s);return{hashFn:()=>(function Cd(o){return o.viewCache_.serverCache.getNode()}(r)||qt.EMPTY_NODE).hash(),onComplete:h=>{if("ok"===h)return l?function bd(o,r,s){const l=ot(o,s);if(l){const h=It(l),E=h.path,b=h.queryId,N=Ot(E,r);return Et(o,E,new Qu(Ka(b),N))}return[]}(o,s._path,l):function cu(o,r){return g(o,new Qu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(o,s._path);{const E=function Y(o,r){let s="Unknown Error";"too_big"===o?s="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===o?s="Client doesn't have permission to access the desired data.":"unavailable"===o&&(s="The service is unavailable");const l=new Error(o+" at "+r._path.toString()+": "+s);return l.code=o.toUpperCase(),l}(h,s);return du(o,s,null,E)}}}}function pe(o,r){const s=ke(r);return o.queryToTagMap.get(s)}function ke(o){return o._path.toString()+"$"+o._queryIdentifier}function ot(o,r){return o.tagToQueryMap.get(r)}function It(o){const r=o.indexOf("$");return(0,O.hu)(-1!==r&&r<o.length-1,"Bad queryKey."),{queryId:o.substr(r+1),path:new v(o.substr(0,r))}}function Et(o,r,s){const l=o.syncPointTree_.get(r);return(0,O.hu)(l,"Missing sync point for query tag that we're tracking"),au(l,s,ro(o.pendingWriteTree_,r),null)}function pr(o){return o._queryParams.loadsAllData()&&!o._queryParams.isDefault()?new(function Pc(){return(0,O.hu)(ha,"Reference.ts has not been loaded"),ha}())(o._repo,o._path):o}class xc{constructor(r){this.node_=r}getImmediateChild(r){const s=this.node_.getImmediateChild(r);return new xc(s)}node(){return this.node_}}class ga{constructor(r,s){this.syncTree_=r,this.path_=s}getImmediateChild(r){const s=Ye(this.path_,r);return new ga(this.syncTree_,s)}node(){return u(this.syncTree_,this.path_)}}const kc=function(o){return(o=o||{}).timestamp=o.timestamp||(new Date).getTime(),o},Fl=function(o,r,s){return o&&"object"==typeof o?((0,O.hu)(".sv"in o,"Unexpected leaf node or priority contents"),"string"==typeof o[".sv"]?Lc(o[".sv"],r,s):"object"==typeof o[".sv"]?Ul(o[".sv"],r):void(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2))):o},Lc=function(o,r,s){if("timestamp"===o)return s.timestamp;(0,O.hu)(!1,"Unexpected server value: "+o)},Ul=function(o,r,s){o.hasOwnProperty("increment")||(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2));const l=o.increment;"number"!=typeof l&&(0,O.hu)(!1,"Unexpected increment value: "+l);const h=r.node();if((0,O.hu)(null!==h&&typeof h<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!h.isLeafNode())return l;const b=h.getValue();return"number"!=typeof b?l:b+l},ll=function(o,r,s,l){return No(r,new ga(s,o),l)},Bl=function(o,r,s){return No(o,new xc(r),s)};function No(o,r,s){const l=o.getPriority().val(),h=Fl(l,r.getImmediateChild(".priority"),s);let E;if(o.isLeafNode()){const b=o,N=Fl(b.getValue(),r,s);return N!==b.getValue()||h!==b.getPriority().val()?new Qs(N,jn(h)):o}{const b=o;return E=b,h!==b.getPriority().val()&&(E=E.updatePriority(new Qs(h))),b.forEachChild(On,(N,B)=>{const $=No(B,r.getImmediateChild(N),s);$!==B&&(E=E.updateImmediateChild(N,$))}),E}}class ma{constructor(r="",s=null,l={children:{},childCount:0}){this.name=r,this.parent=s,this.node=l}}function Fc(o,r){let s=r instanceof v?r:new v(r),l=o,h=m(s);for(;null!==h;){const E=(0,O.DV)(l.node.children,h)||{children:{},childCount:0};l=new ma(h,l,E),s=S(s),h=m(s)}return l}function _a(o){return o.node.value}function jl(o,r){o.node.value=r,Ph(o)}function Rh(o){return o.node.childCount>0}function hu(o,r){I(o.node.children,(s,l)=>{r(new ma(s,o,l))})}function Of(o,r,s,l){s&&!l&&r(o),hu(o,h=>{Of(h,r,!0,l)}),s&&l&&r(o)}function Uc(o){return new v(null===o.parent?o.name:Uc(o.parent)+"/"+o.name)}function Ph(o){null!==o.parent&&function Xp(o,r,s){const l=function Mh(o){return void 0===_a(o)&&!Rh(o)}(s),h=(0,O.r3)(o.node.children,r);l&&h?(delete o.node.children[r],o.node.childCount--,Ph(o)):!l&&!h&&(o.node.children[r]=s.node,o.node.childCount++,Ph(o))}(o.parent,o.name,o)}const kf=/[\[\].#$\/\u0000-\u001F\u007F]/,Lf=/[\[\].#$\u0000-\u001F\u007F]/,Hl=10485760,Vl=function(o){return"string"==typeof o&&0!==o.length&&!kf.test(o)},cl=function(o){return"string"==typeof o&&0!==o.length&&!Lf.test(o)},Bc=function(o){return null===o||"string"==typeof o||"number"==typeof o&&!Wo(o)||o&&"object"==typeof o&&(0,O.r3)(o,".sv")},va=function(o,r,s,l){l&&void 0===r||jc((0,O.gK)(o,"value"),r,s)},jc=function(o,r,s){const l=s instanceof v?new Qo(s,o):s;if(void 0===r)throw new Error(o+"contains undefined "+qs(l));if("function"==typeof r)throw new Error(o+"contains a function "+qs(l)+" with contents = "+r.toString());if(Wo(r))throw new Error(o+"contains "+r.toString()+" "+qs(l));if("string"==typeof r&&r.length>Hl/3&&(0,O.ug)(r)>Hl)throw new Error(o+"contains a string greater than "+Hl+" utf8 bytes "+qs(l)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let h=!1,E=!1;if(I(r,(b,N)=>{if(".value"===b)h=!0;else if(".priority"!==b&&".sv"!==b&&(E=!0,!Vl(b)))throw new Error(o+" contains an invalid key ("+b+") "+qs(l)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Gu(o,r){o.parts_.length>0&&(o.byteLength_+=1),o.parts_.push(r),o.byteLength_+=(0,O.ug)(r),Zu(o)})(l,b),jc(o,N,l),function Co(o){const r=o.parts_.pop();o.byteLength_-=(0,O.ug)(r),o.parts_.length>0&&(o.byteLength_-=1)}(l)}),h&&E)throw new Error(o+' contains ".value" child '+qs(l)+" in addition to actual children.")}},Ff=function(o,r,s,l){if(l&&void 0===r)return;const h=(0,O.gK)(o,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(h+" must be an object containing the children to replace.");const E=[];I(r,(b,N)=>{const B=new v(b);if(jc(h,N,Ye(s,B)),".priority"===F(B)&&!Bc(N))throw new Error(h+"contains an invalid value for '"+B.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");E.push(B)}),function(o,r){let s,l;for(s=0;s<r.length;s++){l=r[s];const E=we(l);for(let b=0;b<E.length;b++)if((".priority"!==E[b]||b!==E.length-1)&&!Vl(E[b]))throw new Error(o+"contains an invalid key ("+E[b]+") in path "+l.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(on);let h=null;for(s=0;s<r.length;s++){if(l=r[s],null!==h&&yr(h,l))throw new Error(o+"contains a path "+h.toString()+" that is ancestor of another path "+l.toString());h=l}}(h,E)},fu=function(o,r,s){if(!s||void 0!==r){if(Wo(r))throw new Error((0,O.gK)(o,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Bc(r))throw new Error((0,O.gK)(o,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},pu=function(o,r,s,l){if(!(l&&void 0===s||Vl(s)))throw new Error((0,O.gK)(o,r)+'was an invalid key = "'+s+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},dl=function(o,r,s,l){if(!(l&&void 0===s||cl(s)))throw new Error((0,O.gK)(o,r)+'was an invalid path = "'+s+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Uf=function(o,r,s,l){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),dl(o,r,s,l)},ss=function(o,r){if(".info"===m(r))throw new Error(o+" failed = Can't modify data under /.info/")},Oh=function(o,r){const s=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!Vl(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==s.length&&!function(o){return o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),cl(o)}(s))throw new Error((0,O.gK)(o,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Bf{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Td(o,r){let s=null;for(let l=0;l<r.length;l++){const h=r[l],E=h.getPath();null!==s&&!Cn(E,s.path)&&(o.eventLists_.push(s),s=null),null===s&&(s={events:[],path:E}),s.events.push(h)}s&&o.eventLists_.push(s)}function jf(o,r,s){Td(o,s),Hf(o,l=>Cn(l,r))}function os(o,r,s){Td(o,s),Hf(o,l=>yr(l,r)||yr(r,l))}function Hf(o,r){o.recursionDepth_++;let s=!0;for(let l=0;l<o.eventLists_.length;l++){const h=o.eventLists_[l];h&&(r(h.path)?(eg(o.eventLists_[l]),o.eventLists_[l]=null):s=!1)}s&&(o.eventLists_=[]),o.recursionDepth_--}function eg(o){for(let r=0;r<o.events.length;r++){const s=o.events[r];if(null!==s){o.events[r]=null;const l=s.getEventRunner();oi&&Hn("event: "+s.toString()),ln(l)}}}const ya="repo_interrupt",Hc=25;class tg{constructor(r,s,l,h){this.repoInfo_=r,this.forceRestClient_=s,this.authTokenProvider_=l,this.appCheckProvider_=h,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Bf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mc(),this.transactionQueueTree_=new ma,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ng(o){const s=o.infoData_.getNode(new v(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+s}function Sd(o){return kc({timestamp:ng(o)})}function rg(o,r,s,l,h){o.dataUpdateCount++;const E=new v(r);s=o.interceptServerDataCallback_?o.interceptServerDataCallback_(r,s):s;let b=[];if(h)if(l){const B=(0,O.UI)(s,$=>jn($));b=function Ah(o,r,s,l){const h=ot(o,l);if(h){const E=It(h),b=E.path,N=E.queryId,B=Ot(b,r),$=Mn.fromObject(s);return Et(o,b,new qa(Ka(N),B,$))}return[]}(o.serverSyncTree_,E,B,h)}else{const B=jn(s);b=al(o.serverSyncTree_,E,B,h)}else if(l){const B=(0,O.UI)(s,$=>jn($));b=function lu(o,r,s){const l=Mn.fromObject(s);return g(o,new qa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,l))}(o.serverSyncTree_,E,B)}else{const B=jn(s);b=pa(o.serverSyncTree_,E,B)}let N=E;b.length>0&&(N=$l(o,E)),os(o.eventQueue_,N,b)}function ig(o,r){xh(o,"connected",r),!1===r&&function Ea(o){gu(o,"onDisconnectEvents");const r=Sd(o),s=mc();ts(o.onDisconnect_,C(),(h,E)=>{const b=ll(h,E,o.serverSyncTree_,r);Ga(s,h,b)});let l=[];ts(s,C(),(h,E)=>{l=l.concat(pa(o.serverSyncTree_,h,E));const b=jh(o,h);$l(o,b)}),o.onDisconnect_=mc(),os(o.eventQueue_,C(),l)}(o)}function xh(o,r,s){const l=new v("/.info/"+r),h=jn(s);o.infoData_.updateSnapshot(l,h);const E=pa(o.infoSyncTree_,l,h);os(o.eventQueue_,l,E)}function Ad(o){return o.nextWriteId_++}function kh(o,r,s,l,h){gu(o,"set",{path:r.toString(),value:s,priority:l});const E=Sd(o),b=jn(s,l),N=u(o.serverSyncTree_,r),B=Bl(b,N,E),$=Ad(o),_e=is(o.serverSyncTree_,r,B,$,!0);Td(o.eventQueue_,_e),o.server_.put(r.toString(),b.val(!0),(Ae,et)=>{const ht="ok"===Ae;ht||Mr("set at "+r+" failed: "+Ae);const Vt=bs(o.serverSyncTree_,$,!ht);os(o.eventQueue_,r,Vt),hl(0,h,Ae,et)});const be=jh(o,r);$l(o,be),os(o.eventQueue_,be,[])}function Vc(o,r,s){o.server_.onDisconnectCancel(r.toString(),(l,h)=>{"ok"===l&&ld(o.onDisconnect_,r),hl(0,s,l,h)})}function Fh(o,r,s,l){const h=jn(s);o.server_.onDisconnectPut(r.toString(),h.val(!0),(E,b)=>{"ok"===E&&Ga(o.onDisconnect_,r,h),hl(0,l,E,b)})}function zf(o,r,s){let l;l=".info"===m(r._path)?du(o.infoSyncTree_,r,s):du(o.serverSyncTree_,r,s),jf(o.eventQueue_,r._path,l)}function og(o){o.persistentConnection_&&o.persistentConnection_.interrupt(ya)}function gu(o,...r){let s="";o.persistentConnection_&&(s=o.persistentConnection_.id+":"),Hn(s,...r)}function hl(o,r,s,l){r&&ln(()=>{if("ok"===s)r(null);else{const h=(s||"error").toUpperCase();let E=h;l&&(E+=": "+l);const b=new Error(E);b.code=h,r(b)}})}function Rd(o,r,s){return u(o.serverSyncTree_,r,s)||qt.EMPTY_NODE}function Md(o,r=o.transactionQueueTree_){if(r||Wl(o,r),_a(r)){const s=$c(o,r);(0,O.hu)(s.length>0,"Sending zero length transaction queue"),s.every(h=>0===h.status)&&function ag(o,r,s){const l=s.map($=>$.currentWriteId),h=Rd(o,r,l);let E=h;const b=h.hash();for(let $=0;$<s.length;$++){const _e=s[$];(0,O.hu)(0===_e.status,"tryToSendTransactionQueue_: items in queue should all be run."),_e.status=1,_e.retryCount++;const be=Ot(r,_e.path);E=E.updateChild(be,_e.currentOutputSnapshotRaw)}const N=E.val(!0),B=r;o.server_.put(B.toString(),N,$=>{gu(o,"transaction put response",{path:B.toString(),status:$});let _e=[];if("ok"===$){const be=[];for(let Ae=0;Ae<s.length;Ae++)s[Ae].status=2,_e=_e.concat(bs(o.serverSyncTree_,s[Ae].currentWriteId)),s[Ae].onComplete&&be.push(()=>s[Ae].onComplete(null,!0,s[Ae].currentOutputSnapshotResolved)),s[Ae].unwatcher();Wl(o,Fc(o.transactionQueueTree_,r)),Md(o,o.transactionQueueTree_),os(o.eventQueue_,r,_e);for(let Ae=0;Ae<be.length;Ae++)ln(be[Ae])}else{if("datastale"===$)for(let be=0;be<s.length;be++)s[be].status=3===s[be].status?4:0;else{Mr("transaction at "+B.toString()+" failed: "+$);for(let be=0;be<s.length;be++)s[be].status=4,s[be].abortReason=$}$l(o,r)}},b)}(o,Uc(r),s)}else Rh(r)&&hu(r,s=>{Md(o,s)})}function $l(o,r){const s=Bh(o,r),l=Uc(s);return function ug(o,r,s){if(0===r.length)return;const l=[];let h=[];const b=r.filter(N=>0===N.status).map(N=>N.currentWriteId);for(let N=0;N<r.length;N++){const B=r[N],$=Ot(s,B.path);let be,_e=!1;if((0,O.hu)(null!==$,"rerunTransactionsUnderNode_: relativePath should not be null."),4===B.status)_e=!0,be=B.abortReason,h=h.concat(bs(o.serverSyncTree_,B.currentWriteId,!0));else if(0===B.status)if(B.retryCount>=Hc)_e=!0,be="maxretry",h=h.concat(bs(o.serverSyncTree_,B.currentWriteId,!0));else{const Ae=Rd(o,B.path,b);B.currentInputSnapshot=Ae;const et=r[N].update(Ae.val());if(void 0!==et){jc("transaction failed: Data returned ",et,B.path);let ht=jn(et);"object"==typeof et&&null!=et&&(0,O.r3)(et,".priority")||(ht=ht.updatePriority(Ae.getPriority()));const Qt=B.currentWriteId,nr=Sd(o),Vr=Bl(ht,Ae,nr);B.currentOutputSnapshotRaw=ht,B.currentOutputSnapshotResolved=Vr,B.currentWriteId=Ad(o),b.splice(b.indexOf(Qt),1),h=h.concat(is(o.serverSyncTree_,B.path,Vr,B.currentWriteId,B.applyLocally)),h=h.concat(bs(o.serverSyncTree_,Qt,!0))}else _e=!0,be="nodata",h=h.concat(bs(o.serverSyncTree_,B.currentWriteId,!0))}os(o.eventQueue_,s,h),h=[],_e&&(r[N].status=2,setTimeout(r[N].unwatcher,Math.floor(0)),r[N].onComplete&&l.push("nodata"===be?()=>r[N].onComplete(null,!1,r[N].currentInputSnapshot):()=>r[N].onComplete(new Error(be),!1,null)))}Wl(o,o.transactionQueueTree_);for(let N=0;N<l.length;N++)ln(l[N]);Md(o,o.transactionQueueTree_)}(o,$c(o,s),l),l}function Bh(o,r){let s,l=o.transactionQueueTree_;for(s=m(r);null!==s&&void 0===_a(l);)l=Fc(l,s),s=m(r=S(r));return l}function $c(o,r){const s=[];return Gf(o,r,s),s.sort((l,h)=>l.order-h.order),s}function Gf(o,r,s){const l=_a(r);if(l)for(let h=0;h<l.length;h++)s.push(l[h]);hu(r,h=>{Gf(o,h,s)})}function Wl(o,r){const s=_a(r);if(s){let l=0;for(let h=0;h<s.length;h++)2!==s[h].status&&(s[l]=s[h],l++);s.length=l,jl(r,s.length>0?s:void 0)}hu(r,l=>{Wl(o,l)})}function jh(o,r){const s=Uc(Bh(o,r)),l=Fc(o.transactionQueueTree_,r);return function xf(o,r,s){let l=s?o:o.parent;for(;null!==l;){if(r(l))return!0;l=l.parent}}(l,h=>{mu(o,h)}),mu(o,l),Of(l,h=>{mu(o,h)}),s}function mu(o,r){const s=_a(r);if(s){const l=[];let h=[],E=-1;for(let b=0;b<s.length;b++)3===s[b].status||(1===s[b].status?((0,O.hu)(E===b-1,"All SENT items should be at beginning of queue."),E=b,s[b].status=3,s[b].abortReason="set"):((0,O.hu)(0===s[b].status,"Unexpected transaction status in abort"),s[b].unwatcher(),h=h.concat(bs(o.serverSyncTree_,s[b].currentWriteId,!0)),s[b].onComplete&&l.push(s[b].onComplete.bind(null,new Error("set"),!1,null))));-1===E?jl(r,void 0):s.length=E+1,os(o.eventQueue_,Uc(r),h);for(let b=0;b<l.length;b++)ln(l[b])}}const Pd=function(o,r){const s=Zf(o),l=s.namespace;return"firebase.com"===s.domain&&yi(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||"undefined"===l)&&"localhost"!==s.domain&&yi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Mr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new vr(s.host,s.secure,l,"ws"===s.scheme||"wss"===s.scheme,r,"",l!==s.subdomain),path:new v(s.pathString)}},Zf=function(o){let r="",s="",l="",h="",E="",b=!0,N="https",B=443;if("string"==typeof o){let $=o.indexOf("//");$>=0&&(N=o.substring(0,$-1),o=o.substring($+2));let _e=o.indexOf("/");-1===_e&&(_e=o.length);let be=o.indexOf("?");-1===be&&(be=o.length),r=o.substring(0,Math.min(_e,be)),_e<be&&(h=function lg(o){let r="";const s=o.split("/");for(let l=0;l<s.length;l++)if(s[l].length>0){let h=s[l];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch{}r+="/"+h}return r}(o.substring(_e,be)));const Ae=function cg(o){const r={};"?"===o.charAt(0)&&(o=o.substring(1));for(const s of o.split("&")){if(0===s.length)continue;const l=s.split("=");2===l.length?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Mr(`Invalid query segment '${s}' in query '${o}'`)}return r}(o.substring(Math.min(o.length,be)));$=r.indexOf(":"),$>=0?(b="https"===N||"wss"===N,B=parseInt(r.substring($+1),10)):$=r.length;const et=r.slice(0,$);if("localhost"===et.toLowerCase())s="localhost";else if(et.split(".").length<=2)s=et;else{const ht=r.indexOf(".");l=r.substring(0,ht).toLowerCase(),s=r.substring(ht+1),E=l}"ns"in Ae&&(E=Ae.ns)}return{host:r,port:B,domain:s,subdomain:l,secure:b,scheme:N,pathString:h,namespace:E}},Kf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",dg=function(){let o=0;const r=[];return function(s){const l=s===o;let h;o=s;const E=new Array(8);for(h=7;h>=0;h--)E[h]=Kf.charAt(s%64),s=Math.floor(s/64);(0,O.hu)(0===s,"Cannot push at time == 0");let b=E.join("");if(l){for(h=11;h>=0&&63===r[h];h--)r[h]=0;r[h]++}else for(h=0;h<12;h++)r[h]=Math.floor(64*Math.random());for(h=0;h<12;h++)b+=Kf.charAt(r[h]);return(0,O.hu)(20===b.length,"nextPushId: Length should be 20."),b}}();class Yf{constructor(r,s,l,h){this.eventType=r,this.eventRegistration=s,this.snapshot=l,this.prevName=h}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,O.Wl)(this.snapshot.exportVal())}}class qf{constructor(r,s,l){this.eventRegistration=r,this.error=s,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Nd{constructor(r,s){this.snapshotCallback=r,this.cancelCallback=s}onValue(r,s){this.snapshotCallback.call(null,r,s)}onCancel(r){return(0,O.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class hg{constructor(r,s){this._repo=r,this._path=s}cancel(){const r=new O.BH;return Vc(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){ss("OnDisconnect.remove",this._path);const r=new O.BH;return Fh(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){ss("OnDisconnect.set",this._path),va("OnDisconnect.set",r,this._path,!1);const s=new O.BH;return Fh(this._repo,this._path,r,s.wrapCallback(()=>{})),s.promise}setWithPriority(r,s){ss("OnDisconnect.setWithPriority",this._path),va("OnDisconnect.setWithPriority",r,this._path,!1),fu("OnDisconnect.setWithPriority",s,!1);const l=new O.BH;return function $f(o,r,s,l,h){const E=jn(s,l);o.server_.onDisconnectPut(r.toString(),E.val(!0),(b,N)=>{"ok"===b&&Ga(o.onDisconnect_,r,E),hl(0,h,b,N)})}(this._repo,this._path,r,s,l.wrapCallback(()=>{})),l.promise}update(r){ss("OnDisconnect.update",this._path),Ff("OnDisconnect.update",r,this._path,!1);const s=new O.BH;return function Wf(o,r,s,l){if((0,O.xb)(s))return Hn("onDisconnect().update() called with empty data.  Don't do anything."),void hl(0,l,"ok",void 0);o.server_.onDisconnectMerge(r.toString(),s,(h,E)=>{"ok"===h&&I(s,(b,N)=>{const B=jn(N);Ga(o.onDisconnect_,Ye(r,b),B)}),hl(0,l,h,E)})}(this._repo,this._path,r,s.wrapCallback(()=>{})),s.promise}}class as{constructor(r,s,l,h){this._repo=r,this._path=s,this._queryParams=l,this._orderByCalled=h}get key(){return nt(this._path)?null:F(this._path)}get ref(){return new us(this._repo,this._path)}get _queryIdentifier(){const r=ph(this._queryParams),s=ms(r);return"{}"===s?"default":s}get _queryObject(){return ph(this._queryParams)}isEqual(r){if(!((r=(0,O.m9)(r))instanceof as))return!1;const s=this._repo===r._repo,l=Cn(this._path,r._path);return s&&l&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function K(o){let r="";for(let s=o.pieceNum_;s<o.pieces_.length;s++)""!==o.pieces_[s]&&(r+="/"+encodeURIComponent(String(o.pieces_[s])));return r||"/"}(this._path)}}function _u(o,r){if(!0===o._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function Ts(o){let r=null,s=null;if(o.hasStart()&&(r=o.getIndexStartValue()),o.hasEnd()&&(s=o.getIndexEndValue()),o.getIndex()===es){const l="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",h="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(o.hasStart()){if(o.getIndexStartName()!==Ui)throw new Error(l);if("string"!=typeof r)throw new Error(h)}if(o.hasEnd()){if(o.getIndexEndName()!==Ei)throw new Error(l);if("string"!=typeof s)throw new Error(h)}}else if(o.getIndex()===On){if(null!=r&&!Bc(r)||null!=s&&!Bc(s))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,O.hu)(o.getIndex()instanceof Js||o.getIndex()===Wa,"unknown index type."),null!=r&&"object"==typeof r||null!=s&&"object"==typeof s)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Wc(o){if(o.hasStart()&&o.hasEnd()&&o.hasLimit()&&!o.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class us extends as{constructor(r,s){super(r,s,new ra,!1)}get parent(){const r=Ce(this._path);return null===r?null:new us(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class Ia{constructor(r,s,l){this._node=r,this.ref=s,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const s=new v(r),l=vu(this.ref,r);return new Ia(this._node.getChild(s),l,On)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(l,h)=>r(new Ia(h,vu(this.ref,l),On)))}hasChild(r){const s=new v(r);return!this._node.getChild(s).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Od(o,r){return(o=(0,O.m9)(o))._checkNotDeleted("ref"),void 0!==r?vu(o._root,r):o._root}function Qf(o,r){(o=(0,O.m9)(o))._checkNotDeleted("refFromURL");const s=Pd(r,o._repo.repoInfo_.nodeAdmin);Oh("refFromURL",s);const l=s.repoInfo;return!o._repo.repoInfo_.isCustomHost()&&l.host!==o._repo.repoInfo_.host&&yi("refFromURL: Host name does not match the current database: (found "+l.host+" but expected "+o._repo.repoInfo_.host+")"),Od(o,s.path.toString())}function vu(o,r){return null===m((o=(0,O.m9)(o))._path)?Uf("child","path",r,!1):dl("child","path",r,!1),new us(o._repo,Ye(o._path,r))}function zc(o,r){o=(0,O.m9)(o),ss("set",o._path),va("set",r,o._path,!1);const s=new O.BH;return kh(o._repo,o._path,r,null,s.wrapCallback(()=>{})),s.promise}function Xf(o,r){Ff("update",r,o._path,!1);const s=new O.BH;return function Lh(o,r,s,l){gu(o,"update",{path:r.toString(),value:s});let h=!0;const E=Sd(o),b={};if(I(s,(N,B)=>{h=!1,b[N]=ll(Ye(r,N),jn(B),o.serverSyncTree_,E)}),h)Hn("update() called with empty data.  Don't do anything."),hl(0,l,"ok",void 0);else{const N=Ad(o),B=function uu(o,r,s,l){!function yh(o,r,s,l){(0,O.hu)(l>o.lastWriteId,"Stacking an older merge on top of newer ones"),o.allWrites.push({path:r,children:s,writeId:l,visible:!0}),o.visibleWrites=Xu(o.visibleWrites,r,s),o.lastWriteId=l}(o.pendingWriteTree_,r,s,l);const h=Mn.fromObject(s);return g(o,new qa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,h))}(o.serverSyncTree_,r,b,N);Td(o.eventQueue_,B),o.server_.merge(r.toString(),s,($,_e)=>{const be="ok"===$;be||Mr("update at "+r+" failed: "+$);const Ae=bs(o.serverSyncTree_,N,!be),et=Ae.length>0?$l(o,r):r;os(o.eventQueue_,et,Ae),hl(0,l,$,_e)}),I(s,$=>{const _e=jh(o,Ye(r,$));$l(o,_e)}),os(o.eventQueue_,r,[])}}(o._repo,o._path,r,s.wrapCallback(()=>{})),s.promise}function Jf(o){o=(0,O.m9)(o);const r=new Nd(()=>{}),s=new so(r);return function sg(o,r,s){const l=function c(o,r){const s=r._path;let l=null;o.syncPointTree_.foreachOnPath(s,($,_e)=>{const be=Ot($,s);l=l||Yr(_e,be)});let h=o.syncPointTree_.get(s);h?l=l||Yr(h,C()):(h=new ui,o.syncPointTree_=o.syncPointTree_.set(s,h));const E=null!=l,b=E?new Ro(l,!0,!1):null;return function wc(o){return Xa(o.viewCache_)}(ol(h,r,ro(o.pendingWriteTree_,r._path),E?b.getNode():qt.EMPTY_NODE,E))}(o.serverSyncTree_,r);return null!=l?Promise.resolve(l):o.server_.get(r).then(h=>{const E=jn(h).withIndex(r._queryParams.getIndex());let b;if(f(o.serverSyncTree_,r,s,!0),r._queryParams.loadsAllData())b=pa(o.serverSyncTree_,r._path,E);else{const N=pe(o.serverSyncTree_,r);b=al(o.serverSyncTree_,r._path,E,N)}return os(o.eventQueue_,r._path,b),du(o.serverSyncTree_,r,s,null,!0),E},h=>(gu(o,"get for query "+(0,O.Wl)(r)+" failed: "+h),Promise.reject(new Error(h))))}(o._repo,o,s).then(l=>new Ia(l,new us(o._repo,o._path),o._queryParams.getIndex()))}class so{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,s){const l=s._queryParams.getIndex();return new Yf("value",this,new Ia(r.snapshotNode,new us(s._repo,s._path),l))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,s){return this.callbackContext.hasCancelCallback?new qf(this,r,s):null}matches(r){return r instanceof so&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class kd{constructor(r,s){this.eventType=r,this.callbackContext=s}respondsTo(r){let s="children_added"===r?"child_added":r;return s="children_removed"===s?"child_removed":s,this.eventType===s}createCancelEvent(r,s){return this.callbackContext.hasCancelCallback?new qf(this,r,s):null}createEvent(r,s){(0,O.hu)(null!=r.childName,"Child events should have a childName.");const l=vu(new us(s._repo,s._path),r.childName),h=s._queryParams.getIndex();return new Yf(r.type,this,new Ia(r.snapshotNode,l,h),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof kd&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function fl(o,r,s,l,h){let E;if("object"==typeof l&&(E=void 0,h=l),"function"==typeof l&&(E=l),h&&h.onlyOnce){const B=s,$=(_e,be)=>{zf(o._repo,o,N),B(_e,be)};$.userCallback=s.userCallback,$.context=s.context,s=$}const b=new Nd(s,E||void 0),N="value"===r?new so(b):new kd(r,b);return function r_(o,r,s){let l;l=".info"===m(r._path)?f(o.infoSyncTree_,r,s):f(o.serverSyncTree_,r,s),jf(o.eventQueue_,r._path,l)}(o._repo,o,N),()=>zf(o._repo,o,N)}function zl(o,r,s,l){return fl(o,"value",r,s,l)}function ep(o,r,s,l){return fl(o,"child_added",r,s,l)}function Ld(o,r,s,l){return fl(o,"child_changed",r,s,l)}function Gc(o,r,s,l){return fl(o,"child_moved",r,s,l)}function oo(o,r,s,l){return fl(o,"child_removed",r,s,l)}function pl(o,r,s){let l=null;const h=s?new Nd(s):null;"value"===r?l=new so(h):r&&(l=new kd(r,h)),zf(o._repo,o,l)}class ls{}class tp extends ls{constructor(r,s){super(),this._value=r,this._key=s,this.type="endAt"}_apply(r){va("endAt",this._value,r._path,!0);const s=za(r._queryParams,this._value,this._key);if(Wc(s),Ts(s),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new as(r._repo,r._path,s,r._orderByCalled)}}class np extends ls{constructor(r,s){super(),this._value=r,this._key=s,this.type="endBefore"}_apply(r){va("endBefore",this._value,r._path,!1);const s=function To(o,r,s){let l;return l=za(o,r,o.index_===es||s?s:Ui),l.endBeforeSet_=!0,l}(r._queryParams,this._value,this._key);if(Wc(s),Ts(s),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new as(r._repo,r._path,s,r._orderByCalled)}}class rp extends ls{constructor(r,s){super(),this._value=r,this._key=s,this.type="startAt"}_apply(r){va("startAt",this._value,r._path,!0);const s=to(r._queryParams,this._value,this._key);if(Wc(s),Ts(s),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new as(r._repo,r._path,s,r._orderByCalled)}}class _g extends ls{constructor(r,s){super(),this._value=r,this._key=s,this.type="startAfter"}_apply(r){va("startAfter",this._value,r._path,!1);const s=function ad(o,r,s){let l;return l=to(o,r,o.index_===es||s?s:Ei),l.startAfterSet_=!0,l}(r._queryParams,this._value,this._key);if(Wc(s),Ts(s),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new as(r._repo,r._path,s,r._orderByCalled)}}class ip extends ls{constructor(r){super(),this._limit=r,this.type="limitToFirst"}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new as(r._repo,r._path,function ia(o,r){const s=o.copy();return s.limitSet_=!0,s.limit_=r,s.viewFrom_="l",s}(r._queryParams,this._limit),r._orderByCalled)}}class sp extends ls{constructor(r){super(),this._limit=r,this.type="limitToLast"}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new as(r._repo,r._path,function sa(o,r){const s=o.copy();return s.limitSet_=!0,s.limit_=r,s.viewFrom_="r",s}(r._queryParams,this._limit),r._orderByCalled)}}class o_ extends ls{constructor(r){super(),this._path=r,this.type="orderByChild"}_apply(r){_u(r,"orderByChild");const s=new v(this._path);if(nt(s))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const l=new Js(s),h=gc(r._queryParams,l);return Ts(h),new as(r._repo,r._path,h,!0)}}class yg extends ls{constructor(){super(...arguments),this.type="orderByKey"}_apply(r){_u(r,"orderByKey");const s=gc(r._queryParams,es);return Ts(s),new as(r._repo,r._path,s,!0)}}class u_ extends ls{constructor(){super(...arguments),this.type="orderByPriority"}_apply(r){_u(r,"orderByPriority");const s=gc(r._queryParams,On);return Ts(s),new as(r._repo,r._path,s,!0)}}class Fd extends ls{constructor(){super(...arguments),this.type="orderByValue"}_apply(r){_u(r,"orderByValue");const s=gc(r._queryParams,Wa);return Ts(s),new as(r._repo,r._path,s,!0)}}class Wh extends ls{constructor(r,s){super(),this._value=r,this._key=s,this.type="equalTo"}_apply(r){if(va("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new tp(this._value,this._key)._apply(new rp(this._value,this._key)._apply(r))}}function Ci(o,...r){let s=(0,O.m9)(o);for(const l of r)s=l._apply(s);return s}(function da(o){(0,O.hu)(!ou,"__referenceConstructor has already been defined"),ou=o})(us),function qr(o){(0,O.hu)(!ha,"__referenceConstructor has already been defined"),ha=o}(us);const Zc={};function yu(o,r,s,l,h){let E=l||o.options.databaseURL;void 0===E&&(o.options.projectId||yi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Hn("Using default host for project ",o.options.projectId),E=`${o.options.projectId}-default-rtdb.firebaseio.com`);let B,$,b=Pd(E,h),N=b.repoInfo;typeof process<"u"&&process.env&&($=process.env.FIREBASE_DATABASE_EMULATOR_HOST),$?(B=!0,E=`http://${$}?ns=${N.namespace}`,b=Pd(E,h),N=b.repoInfo):B=!b.repoInfo.secure;const _e=h&&B?new Rn(Rn.OWNER):new bn(o.name,o.options,r);Oh("Invalid Firebase Database URL",b),nt(b.path)||yi("Database URL must point to the root of a Firebase Database (not including a child path).");const be=function Kh(o,r,s,l){let h=Zc[r.name];h||(h={},Zc[r.name]=h);let E=h[o.toURLString()];return E&&yi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),E=new tg(o,false,s,l),h[o.toURLString()]=E,E}(N,o,_e,new $n(o.name,s));return new c_(be,o)}class c_{constructor(r,s){this._repoInternal=r,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function n_(o,r,s){if(o.stats_=Fu(o.repoInfo_),o.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)o.server_=new Yu(o.repoInfo_,(l,h,E,b)=>{rg(o,l,h,E,b)},o.authTokenProvider_,o.appCheckProvider_),setTimeout(()=>ig(o,!0),0);else{if(typeof s<"u"&&null!==s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,O.Wl)(s)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}o.persistentConnection_=new Do(o.repoInfo_,r,(l,h,E,b)=>{rg(o,l,h,E,b)},l=>{ig(o,l)},l=>{!function Vf(o,r){I(r,(s,l)=>{xh(o,s,l)})}(o,l)},o.authTokenProvider_,o.appCheckProvider_,s),o.server_=o.persistentConnection_}o.authTokenProvider_.addTokenChangeListener(l=>{o.server_.refreshAuthToken(l)}),o.appCheckProvider_.addTokenChangeListener(l=>{o.server_.refreshAppCheckToken(l.token)}),o.statsReporter_=function Uu(o,r){const s=o.toString();return Cl[s]||(Cl[s]=r()),Cl[s]}(o.repoInfo_,()=>new vh(o.stats_,o.server_)),o.infoData_=new Tf,o.infoSyncTree_=new wd({startListening:(l,h,E,b)=>{let N=[];const B=o.infoData_.getNode(l._path);return B.isEmpty()||(N=pa(o.infoSyncTree_,l._path,B),setTimeout(()=>{b("ok")},0)),N},stopListening:()=>{}}),xh(o,"connected",!1),o.serverSyncTree_=new wd({startListening:(l,h,E,b)=>(o.server_.listen(l,E,h,(N,B)=>{const $=b(N,B);os(o.eventQueue_,l._path,$)}),[]),stopListening:(l,h)=>{o.server_.unlisten(l,h)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new us(this._repo,C())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Zh(o,r){const s=Zc[r];(!s||s[o.key]!==o)&&yi(`Database ${r}(${o.repoInfo_}) has already been deleted.`),og(o),delete s[o.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&yi("Cannot call "+r+" on a deleted database.")}}function jd(){tr.IS_TRANSPORT_INITIALIZED&&Mr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Kc(){jd(),Ks.forceDisallow()}function Cg(){jd(),yo.forceDisallow(),Ks.forceAllow()}function ap(o,r){vi(o,r)}const Tg={".sv":"timestamp"};class Hd{constructor(r,s){this.committed=r,this.snapshot=s}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Do.prototype.simpleListen=function(o,r){this.sendRequest("q",{p:o},r)},Do.prototype.echo=function(o,r){this.sendRequest("echo",{d:o},r)},function bg(o){Hs(he.SDK_VERSION),(0,he._registerComponent)(new fe.wA("database",(r,{instanceIdentifier:s})=>yu(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),s),"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(ur,"1.0.4",o),(0,he.registerVersion)(ur,"1.0.4","esm2017")}();const lp=new Vo.Yd("@firebase/database-compat"),cp=function(o){lp.warn("FIREBASE WARNING: "+o)};class Mg{constructor(r){this._delegate=r}cancel(r){(0,O.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,O.Wj)("OnDisconnect.cancel","onComplete",r,!0);const s=this._delegate.cancel();return r&&s.then(()=>r(null),l=>r(l)),s}remove(r){(0,O.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,O.Wj)("OnDisconnect.remove","onComplete",r,!0);const s=this._delegate.remove();return r&&s.then(()=>r(null),l=>r(l)),s}set(r,s){(0,O.Dv)("OnDisconnect.set",1,2,arguments.length),(0,O.Wj)("OnDisconnect.set","onComplete",s,!0);const l=this._delegate.set(r);return s&&l.then(()=>s(null),h=>s(h)),l}setWithPriority(r,s,l){(0,O.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,O.Wj)("OnDisconnect.setWithPriority","onComplete",l,!0);const h=this._delegate.setWithPriority(r,s);return l&&h.then(()=>l(null),E=>l(E)),h}update(r,s){if((0,O.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const h={};for(let E=0;E<r.length;++E)h[""+E]=r[E];r=h,cp("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,O.Wj)("OnDisconnect.update","onComplete",s,!0);const l=this._delegate.update(r);return s&&l.then(()=>s(null),h=>s(h)),l}}class $d{constructor(r,s){this.committed=r,this.snapshot=s}toJSON(){return(0,O.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Eu{constructor(r,s){this._database=r,this._delegate=s}val(){return(0,O.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,O.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,O.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,O.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,O.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),dl("DataSnapshot.child","path",r,!1),new Eu(this._database,this._delegate.child(r))}hasChild(r){return(0,O.Dv)("DataSnapshot.hasChild",1,1,arguments.length),dl("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,O.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,O.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,O.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(s=>r(new Eu(this._database,s)))}hasChildren(){return(0,O.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,O.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,O.Dv)("DataSnapshot.ref",0,0,arguments.length),new li(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ir{constructor(r,s){this.database=r,this._delegate=s}on(r,s,l,h){var E;(0,O.Dv)("Query.on",2,4,arguments.length),(0,O.Wj)("Query.on","callback",s,!1);const b=Ir.getCancelAndContextArgs_("Query.on",l,h),N=($,_e)=>{s.call(b.context,new Eu(this.database,$),_e)};N.userCallback=s,N.context=b.context;const B=null===(E=b.cancel)||void 0===E?void 0:E.bind(b.context);switch(r){case"value":return zl(this._delegate,N,B),s;case"child_added":return ep(this._delegate,N,B),s;case"child_removed":return oo(this._delegate,N,B),s;case"child_changed":return Ld(this._delegate,N,B),s;case"child_moved":return Gc(this._delegate,N,B),s;default:throw new Error((0,O.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,s,l){if((0,O.Dv)("Query.off",0,3,arguments.length),function(o,r,s){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,O.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,O.Wj)("Query.off","callback",s,!0),(0,O.lb)("Query.off","context",l,!0),s){const h=()=>{};h.userCallback=s,h.context=l,pl(this._delegate,r,h)}else pl(this._delegate,r)}get(){return Jf(this._delegate).then(r=>new Eu(this.database,r))}once(r,s,l,h){(0,O.Dv)("Query.once",1,4,arguments.length),(0,O.Wj)("Query.once","callback",s,!0);const E=Ir.getCancelAndContextArgs_("Query.once",l,h),b=new O.BH,N=($,_e)=>{const be=new Eu(this.database,$);s&&s.call(E.context,be,_e),b.resolve(be)};N.userCallback=s,N.context=E.context;const B=$=>{E.cancel&&E.cancel.call(E.context,$),b.reject($)};switch(r){case"value":zl(this._delegate,N,B,{onlyOnce:!0});break;case"child_added":ep(this._delegate,N,B,{onlyOnce:!0});break;case"child_removed":oo(this._delegate,N,B,{onlyOnce:!0});break;case"child_changed":Ld(this._delegate,N,B,{onlyOnce:!0});break;case"child_moved":Gc(this._delegate,N,B,{onlyOnce:!0});break;default:throw new Error((0,O.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return b.promise}limitToFirst(r){return(0,O.Dv)("Query.limitToFirst",1,1,arguments.length),new Ir(this.database,Ci(this._delegate,function vg(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ip(o)}(r)))}limitToLast(r){return(0,O.Dv)("Query.limitToLast",1,1,arguments.length),new Ir(this.database,Ci(this._delegate,function $h(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new sp(o)}(r)))}orderByChild(r){return(0,O.Dv)("Query.orderByChild",1,1,arguments.length),new Ir(this.database,Ci(this._delegate,function a_(o){if("$key"===o)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===o)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===o)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return dl("orderByChild","path",o,!1),new o_(o)}(r)))}orderByKey(){return(0,O.Dv)("Query.orderByKey",0,0,arguments.length),new Ir(this.database,Ci(this._delegate,function Eg(){return new yg}()))}orderByPriority(){return(0,O.Dv)("Query.orderByPriority",0,0,arguments.length),new Ir(this.database,Ci(this._delegate,function l_(){return new u_}()))}orderByValue(){return(0,O.Dv)("Query.orderByValue",0,0,arguments.length),new Ir(this.database,Ci(this._delegate,function Ig(){return new Fd}()))}startAt(r=null,s){return(0,O.Dv)("Query.startAt",0,2,arguments.length),new Ir(this.database,Ci(this._delegate,function mg(o=null,r){return pu("startAt","key",r,!0),new rp(o,r)}(r,s)))}startAfter(r=null,s){return(0,O.Dv)("Query.startAfter",0,2,arguments.length),new Ir(this.database,Ci(this._delegate,function Vh(o,r){return pu("startAfter","key",r,!0),new _g(o,r)}(r,s)))}endAt(r=null,s){return(0,O.Dv)("Query.endAt",0,2,arguments.length),new Ir(this.database,Ci(this._delegate,function gg(o,r){return pu("endAt","key",r,!0),new tp(o,r)}(r,s)))}endBefore(r=null,s){return(0,O.Dv)("Query.endBefore",0,2,arguments.length),new Ir(this.database,Ci(this._delegate,function Gl(o,r){return pu("endBefore","key",r,!0),new np(o,r)}(r,s)))}equalTo(r,s){return(0,O.Dv)("Query.equalTo",1,2,arguments.length),new Ir(this.database,Ci(this._delegate,function zh(o,r){return pu("equalTo","key",r,!0),new Wh(o,r)}(r,s)))}toString(){return(0,O.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,O.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,O.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof Ir))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,s,l){const h={cancel:void 0,context:void 0};if(s&&l)h.cancel=s,(0,O.Wj)(r,"cancel",h.cancel,!0),h.context=l,(0,O.lb)(r,"context",h.context,!0);else if(s)if("object"==typeof s&&null!==s)h.context=s;else{if("function"!=typeof s)throw new Error((0,O.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");h.cancel=s}return h}get ref(){return new li(this.database,new us(this._delegate._repo,this._delegate._path))}}class li extends Ir{constructor(r,s){super(r,new as(s._repo,s._path,new ra,!1)),this.database=r,this._delegate=s}getKey(){return(0,O.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,O.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new li(this.database,vu(this._delegate,r))}getParent(){(0,O.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new li(this.database,r):null}getRoot(){return(0,O.Dv)("Reference.root",0,0,arguments.length),new li(this.database,this._delegate.root)}set(r,s){(0,O.Dv)("Reference.set",1,2,arguments.length),(0,O.Wj)("Reference.set","onComplete",s,!0);const l=zc(this._delegate,r);return s&&l.then(()=>s(null),h=>s(h)),l}update(r,s){if((0,O.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const h={};for(let E=0;E<r.length;++E)h[""+E]=r[E];r=h,cp("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ss("Reference.update",this._delegate._path),(0,O.Wj)("Reference.update","onComplete",s,!0);const l=Xf(this._delegate,r);return s&&l.then(()=>s(null),h=>s(h)),l}setWithPriority(r,s,l){(0,O.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,O.Wj)("Reference.setWithPriority","onComplete",l,!0);const h=function Hh(o,r,s){if(ss("setWithPriority",o._path),va("setWithPriority",r,o._path,!1),fu("setWithPriority",s,!1),".length"===o.key||".keys"===o.key)throw"setWithPriority failed: "+o.key+" is a read-only object.";const l=new O.BH;return kh(o._repo,o._path,r,s,l.wrapCallback(()=>{})),l.promise}(this._delegate,r,s);return l&&h.then(()=>l(null),E=>l(E)),h}remove(r){(0,O.Dv)("Reference.remove",0,1,arguments.length),(0,O.Wj)("Reference.remove","onComplete",r,!0);const s=function s_(o){return ss("remove",o._path),zc(o,null)}(this._delegate);return r&&s.then(()=>r(null),l=>r(l)),s}transaction(r,s,l){(0,O.Dv)("Reference.transaction",1,3,arguments.length),(0,O.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,O.Wj)("Reference.transaction","onComplete",s,!0),function(o,r,s,l){if(void 0!==s&&"boolean"!=typeof s)throw new Error((0,O.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,l);const h=function qh(o,r,s){var l;if(o=(0,O.m9)(o),ss("Reference.transaction",o._path),".length"===o.key||".keys"===o.key)throw"Reference.transaction failed: "+o.key+" is a read-only object.";const h=null===(l=s?.applyLocally)||void 0===l||l,E=new O.BH,N=zl(o,()=>{});return function i_(o,r,s,l,h,E){gu(o,"transaction on "+r);const b={path:r,update:s,onComplete:l,status:null,order:Vs(),applyLocally:E,retryCount:0,unwatcher:h,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},N=Rd(o,r,void 0);b.currentInputSnapshot=N;const B=b.update(N.val());if(void 0===B)b.unwatcher(),b.currentOutputSnapshotRaw=null,b.currentOutputSnapshotResolved=null,b.onComplete&&b.onComplete(null,!1,b.currentInputSnapshot);else{jc("transaction failed: Data returned ",B,b.path),b.status=0;const $=Fc(o.transactionQueueTree_,r),_e=_a($)||[];let be;_e.push(b),jl($,_e),"object"==typeof B&&null!==B&&(0,O.r3)(B,".priority")?(be=(0,O.DV)(B,".priority"),(0,O.hu)(Bc(be),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):be=(u(o.serverSyncTree_,r)||qt.EMPTY_NODE).getPriority().val();const Ae=Sd(o),et=jn(B,be),ht=Bl(et,N,Ae);b.currentOutputSnapshotRaw=et,b.currentOutputSnapshotResolved=ht,b.currentWriteId=Ad(o);const Vt=is(o.serverSyncTree_,r,ht,b.currentWriteId,b.applyLocally);os(o.eventQueue_,r,Vt),Md(o,o.transactionQueueTree_)}}(o._repo,o._path,r,(B,$,_e)=>{let be=null;B?E.reject(B):(be=new Ia(_e,new us(o._repo,o._path),On),E.resolve(new Hd($,be)))},N,h),E.promise}(this._delegate,r,{applyLocally:l}).then(E=>new $d(E.committed,new Eu(this.database,E.snapshot)));return s&&h.then(E=>s(null,E.committed,E.snapshot),E=>s(E,!1,null)),h}setPriority(r,s){(0,O.Dv)("Reference.setPriority",1,2,arguments.length),(0,O.Wj)("Reference.setPriority","onComplete",s,!0);const l=function pg(o,r){o=(0,O.m9)(o),ss("setPriority",o._path),fu("setPriority",r,!1);const s=new O.BH;return kh(o._repo,Ye(o._path,".priority"),r,null,s.wrapCallback(()=>{})),s.promise}(this._delegate,r);return s&&l.then(()=>s(null),h=>s(h)),l}push(r,s){(0,O.Dv)("Reference.push",0,2,arguments.length),(0,O.Wj)("Reference.push","onComplete",s,!0);const l=function xd(o,r){o=(0,O.m9)(o),ss("push",o._path),va("push",r,o._path,!0);const s=ng(o._repo),l=dg(s),h=vu(o,l),E=vu(o,l);let b;return b=null!=r?zc(E,r).then(()=>E):Promise.resolve(E),h.then=b.then.bind(b),h.catch=b.then.bind(b,void 0),h}(this._delegate,r),h=l.then(b=>new li(this.database,b));s&&h.then(()=>s(null),b=>s(b));const E=new li(this.database,l);return E.then=h.then.bind(h),E.catch=h.catch.bind(h,void 0),E}onDisconnect(){return ss("Reference.onDisconnect",this._delegate._path),new Mg(new hg(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Yc{constructor(r,s){this._delegate=r,this.app=s,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Kc,forceLongPolling:Cg}}useEmulator(r,s,l={}){!function op(o,r,s,l={}){(o=(0,O.m9)(o))._checkNotDeleted("useEmulator"),o._instanceStarted&&yi("Cannot call useEmulator() after instance has already been initialized.");const h=o._repoInternal;let E;if(h.repoInfo_.nodeAdmin)l.mockUserToken&&yi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),E=new Rn(Rn.OWNER);else if(l.mockUserToken){const b="string"==typeof l.mockUserToken?l.mockUserToken:(0,O.Sg)(l.mockUserToken,o.app.options.projectId);E=new Rn(b)}!function Ud(o,r,s,l){o.repoInfo_=new vr(`${r}:${s}`,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams,!0),l&&(o.authTokenProvider_=l)}(h,r,s,E)}(this._delegate,r,s,l)}ref(r){if((0,O.Dv)("database.ref",0,1,arguments.length),r instanceof li){const s=Qf(this._delegate,r.toString());return new li(this,s)}{const s=Od(this._delegate,r);return new li(this,s)}}refFromURL(r){(0,O.Dv)("database.refFromURL",1,1,arguments.length);const l=Qf(this._delegate,r);return new li(this,l)}goOffline(){return(0,O.Dv)("database.goOffline",0,0,arguments.length),function wg(o){(o=(0,O.m9)(o))._checkNotDeleted("goOffline"),og(o._repo)}(this._delegate)}goOnline(){return(0,O.Dv)("database.goOnline",0,0,arguments.length),function Yh(o){(o=(0,O.m9)(o))._checkNotDeleted("goOnline"),function Uh(o){o.persistentConnection_&&o.persistentConnection_.resume(ya)}(o._repo)}(this._delegate)}}Yc.ServerValue={TIMESTAMP:function d_(){return Tg}(),increment:o=>function Sg(o){return{".sv":{increment:o}}}(o)};var Pg=Object.freeze({__proto__:null,initStandalone:function hp({app:o,url:r,version:s,customAuthImpl:l,customAppCheckImpl:h,namespace:E,nodeAdmin:b=!1}){Hs(s);const N=new fe.H0("database-standalone"),B=new fe.zt("auth-internal",N);let $;return B.setComponent(new fe.wA("auth-internal",()=>l,"PRIVATE")),h&&($=new fe.zt("app-check-internal",N),$.setComponent(new fe.wA("app-check-internal",()=>h,"PRIVATE"))),{instance:new Yc(yu(o,B,$,r,b),o),namespace:E}}});const Ng=Yc.ServerValue;function Kl(o,r,s="on",l=le.z){return new ye.y(h=>{let E=null;return E=o[s](r,(b,N)=>{l.schedule(()=>{h.next({snapshot:b,prevKey:N})}),"once"===s&&l.schedule(()=>h.complete())},b=>{l.schedule(()=>h.error(b))}),"on"===s?{unsubscribe(){null!=E&&o.off(r,E)}}:{unsubscribe(){}}}).pipe((0,Be.U)(h=>{const{snapshot:E,prevKey:b}=h;let N=null;return E.exists()&&(N=E.key),{type:r,payload:E,prevKey:b,key:N}}),(0,Ou.B)())}function xg(o){return null==o}function Wd(o){return"function"==typeof o.set}function Xh(o,r){return Wd(r)?r:o.ref(r)}function pp(o,r){if(function fp(o){return"string"==typeof o}(o))return r.stringCase();if(Wd(o))return r.firebaseCase();if(function Qh(o){return"function"==typeof o.exportVal}(o))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof o)}function gp(o){return(xg(o)||0===o.length)&&(o=["child_added","child_removed","child_changed","child_moved"]),o}function Jh(o,r,s){const l=(r=gp(r)).map(h=>Kl(o,h,"on",s));return(0,Fr.T)(...l)}function _p(o,r){return function(l,h){return pp(l,{stringCase:()=>o.child(l)[r](h),firebaseCase:()=>l[r](h),snapshotCase:()=>l.ref[r](h)})}}function p_(o){return function(s){return s?pp(s,{stringCase:()=>o.child(s).remove(),firebaseCase:()=>s.remove(),snapshotCase:()=>s.ref.remove()}):o.remove()}}function ef(o,r){const s=o.length;for(let l=0;l<s;l++)if(o[l].payload.key===r)return l;return-1}function yp(o,r){const{payload:s,prevKey:l,key:h}=r,E=ef(o,h),b=function ao(o,r){if(xg(r))return 0;{const s=ef(o,r);return-1===s?o.length:s+1}}(o,l);switch(r.type){case"value":if(r.payload?.exists()){let N=null;r.payload.forEach(B=>{const $={payload:B,type:"value",prevKey:N,key:B.key};return N=B.key,o=[...o,$],!1})}return o;case"child_added":if(E>-1)(o[E-1]?.key||null)!==l&&(o=o.filter(B=>B.payload.key!==s.key)).splice(b,0,r);else{if(null==l)return[r,...o];(o=o.slice()).splice(b,0,r)}return o;case"child_removed":return o.filter(N=>N.payload.key!==s.key);case"child_changed":return o.map(N=>N.payload.key===h?r:N);case"child_moved":if(E>-1){const N=o.splice(E,1)[0];return(o=o.slice()).splice(b,0,N),o}return o;default:return o}}function Fg(o,r,s){return function vp(o,r,s){return Kl(o,"value","once",s).pipe((0,Je.w)(l=>{const h=[(0,Z.of)(l)];return r.forEach(E=>h.push(Kl(o,E,"on",s))),(0,Fr.T)(...h).pipe((0,Aa.R)(yp,[]))}),(0,mi.x)())}(o,r=gp(r),s)}function Ca(o,r){return function(){return Kl(o,"value","on",r)}}!function Og(o){o.INTERNAL.registerComponent(new fe.wA("database-compat",(r,{instanceIdentifier:s})=>{const l=r.getProvider("app-compat").getImmediate(),h=r.getProvider("database").getImmediate({identifier:s});return new Yc(h,l)},"PUBLIC").setServiceProps({Reference:li,Query:Ir,Database:Yc,DataSnapshot:Eu,enableLogging:ap,INTERNAL:Pg,ServerValue:Ng}).setMultipleInstances(!0)),o.registerVersion("@firebase/database-compat","1.0.4")}(Ct.Z);const Ug=new W.OlP("angularfire2.realtimeDatabaseURL"),g_=new W.OlP("angularfire2.database.use-emulator");let Bg=(()=>{class o{schedulers;database;constructor(s,l,h,E,b,N,B,$,_e,be,Ae,et,ht,Vt,Qt){this.schedulers=N;const nr=B,Vr=(0,Ve.on)(s,b,l);$&&(0,ae.nw)(Vr,b,_e,Ae,et,ht,be,Vt),this.database=(0,Ve.cc)(`${Vr.name}.database.${h}`,"AngularFireDatabase",Vr.name,()=>{const gr=b.runOutsideAngular(()=>Vr.database(h||void 0));return nr&&gr.useEmulator(...nr),gr},[nr])}list(s,l){const h=this.schedulers.ngZone.runOutsideAngular(()=>Xh(this.database,s));let E=h;return l&&(E=l(h)),function tf(o,r){const s=r.schedulers.outsideAngular,l=r.schedulers.ngZone.run(()=>o.ref);return{query:o,update:_p(l,"update"),set:_p(l,"set"),push:h=>l.push(h),remove:p_(l),snapshotChanges:h=>Fg(o,h,s).pipe(Ie.iC),stateChanges:h=>Jh(o,h,s).pipe(Ie.iC),auditTrail:h=>function kg(o,r,s){return function Lg(o,r,s){return function mp(o,r){return Kl(o,"value","on",r).pipe((0,Be.U)(s=>{let l;return s.payload.forEach(h=>(l=h.key,!1)),{data:s,lastKeyToLoad:l}}))}(o,s).pipe(function Xi(...o){const r=(0,ho.jO)(o);return(0,xe.e)((s,l)=>{const h=o.length,E=new Array(h);let b=o.map(()=>!1),N=!1;for(let B=0;B<h;B++)(0,Ra.Xf)(o[B]).subscribe((0,Fe.x)(l,$=>{E[B]=$,!N&&!b[B]&&(b[B]=!0,(N=b.every(jo.y))&&(b=null))},Ho.Z));s.subscribe((0,Fe.x)(l,B=>{if(N){const $=[B,...E];l.next(r?r(...$):$)}}))})}(r),(0,Be.U)(([h,E])=>{const b=h.lastKeyToLoad,N=E.map(B=>B.key);return{actions:E,lastKeyToLoad:b,loadedKeys:N}}),function Ma(o){return(0,xe.e)((r,s)=>{let l=!1,h=0;r.subscribe((0,Fe.x)(s,E=>(l||(l=!o(E,h++)))&&s.next(E)))})}(h=>-1===h.loadedKeys.indexOf(h.lastKeyToLoad)),(0,Be.U)(h=>h.actions))}(o,Jh(o,r).pipe((0,Aa.R)((h,E)=>[...h,E],[])),s)}(o,h,s).pipe(Ie.iC),valueChanges:(h,E)=>Fg(o,h,s).pipe((0,Be.U)(N=>N.map(B=>E&&E.idField?{...B.payload.val(),[E.idField]:B.key}:B.payload.val())),Ie.iC)}}(E,this)}object(s){return function nf(o,r){return{query:o,snapshotChanges:()=>Ca(o,r.schedulers.outsideAngular)().pipe(Ie.iC),update:s=>o.ref.update(s),set:s=>o.ref.set(s),remove:()=>o.ref.remove(),valueChanges:()=>Ca(o,r.schedulers.outsideAngular)().pipe(Ie.iC,(0,Be.U)(l=>l.payload.exists()?l.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Xh(this.database,s)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(l){return new(l||o)(W.LFG(Ve.Dh),W.LFG(Ve.xv,8),W.LFG(Ug,8),W.LFG(W.Lbi),W.LFG(W.R0b),W.LFG(Ie.HU),W.LFG(g_,8),W.LFG(ae.zQ,8),W.LFG(ae.Qv,8),W.LFG(ae.L6,8),W.LFG(ae._Q,8),W.LFG(ae.rT,8),W.LFG(ae.lh,8),W.LFG(ae.f7,8),W.LFG(Ie.Rf,8))};static \u0275prov=W.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"})}return o})(),rf=(()=>{class o{constructor(){Pu.Z.registerVersion("angularfire",Ie.q4.full,"rtdb-compat")}static \u0275fac=function(l){return new(l||o)};static \u0275mod=W.oAB({type:o});static \u0275inj=W.cJS({providers:[Bg]})}return o})();var Oo=P(9413),Ep=P(9862),jg=P(9235);let m_=(()=>{class o{static#e=this.\u0275fac=function(l){return new(l||o)};static#t=this.\u0275mod=W.oAB({type:o,bootstrap:[ie]});static#n=this.\u0275inj=W.cJS({providers:[jg.Y],imports:[_.b2,re,Ve.hO.initializeApp(Oo.N.firebaseConfig),ae.ww,Nu,rf,Ep.JF]})}return o})();_.q6().bootstrapModule(m_).catch(o=>console.error(o))},5619:(dt,De,P)=>{P.d(De,{X:()=>X});var _=P(8645);class X extends _.x{constructor(z){super(),this._value=z}get value(){return this.getValue()}_subscribe(z){const re=super._subscribe(z);return!re.closed&&z.next(this._value),re}getValue(){const{hasError:z,thrownError:re,_value:ie}=this;if(z)throw re;return this._throwIfClosed(),ie}next(z){super.next(this._value=z)}}},5592:(dt,De,P)=>{P.d(De,{y:()=>Ie});var _=P(305),X=P(7394),W=P(4850),z=P(8407),re=P(2653),ie=P(4674),ae=P(1441);let Ie=(()=>{class le{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const Xe=new le;return Xe.source=this,Xe.operator=Fe,Xe}subscribe(Fe,Xe,Be){const Je=function q(le){return le&&le instanceof _.Lv||function Z(le){return le&&(0,ie.m)(le.next)&&(0,ie.m)(le.error)&&(0,ie.m)(le.complete)}(le)&&(0,X.Nn)(le)}(Fe)?Fe:new _.Hp(Fe,Xe,Be);return(0,ae.x)(()=>{const{operator:Ve,source:Ct}=this;Je.add(Ve?Ve.call(Je,Ct):Ct?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(Xe){Fe.error(Xe)}}forEach(Fe,Xe){return new(Xe=ye(Xe))((Be,Je)=>{const Ve=new _.Hp({next:Ct=>{try{Fe(Ct)}catch(ft){Je(ft),Ve.unsubscribe()}},error:Je,complete:Be});this.subscribe(Ve)})}_subscribe(Fe){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Fe)}[W.L](){return this}pipe(...Fe){return(0,z.U)(Fe)(this)}toPromise(Fe){return new(Fe=ye(Fe))((Xe,Be)=>{let Je;this.subscribe(Ve=>Je=Ve,Ve=>Be(Ve),()=>Xe(Je))})}}return le.create=xe=>new le(xe),le})();function ye(le){var xe;return null!==(xe=le??re.config.Promise)&&void 0!==xe?xe:Promise}},8645:(dt,De,P)=>{P.d(De,{x:()=>ae});var _=P(5592),X=P(7394);const z=(0,P(2306).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=P(9039),ie=P(1441);let ae=(()=>{class ye extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const le=new Ie(this,this);return le.operator=q,le}_throwIfClosed(){if(this.closed)throw new z}next(q){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const le of this.currentObservers)le.next(q)}})}error(q){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:le}=this;for(;le.length;)le.shift().error(q)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:le,isStopped:xe,observers:Fe}=this;return le||xe?X.Lc:(this.currentObservers=null,Fe.push(q),new X.w0(()=>{this.currentObservers=null,(0,re.P)(Fe,q)}))}_checkFinalizedStatuses(q){const{hasError:le,thrownError:xe,isStopped:Fe}=this;le?q.error(xe):Fe&&q.complete()}asObservable(){const q=new _.y;return q.source=this,q}}return ye.create=(Z,q)=>new Ie(Z,q),ye})();class Ie extends ae{constructor(Z,q){super(),this.destination=Z,this.source=q}next(Z){var q,le;null===(le=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===le||le.call(q,Z)}error(Z){var q,le;null===(le=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===le||le.call(q,Z)}complete(){var Z,q;null===(q=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===q||q.call(Z)}_subscribe(Z){var q,le;return null!==(le=null===(q=this.source)||void 0===q?void 0:q.subscribe(Z))&&void 0!==le?le:X.Lc}}},305:(dt,De,P)=>{P.d(De,{Hp:()=>Be,Lv:()=>le});var _=P(4674),X=P(7394),W=P(2653),z=P(3894),re=P(2420);const ie=ye("C",void 0,void 0);function ye(he,O,fe){return{kind:he,value:O,error:fe}}var Z=P(7599),q=P(1441);class le extends X.w0{constructor(O){super(),this.isStopped=!1,O?(this.destination=O,(0,X.Nn)(O)&&O.add(this)):this.destination=ft}static create(O,fe,Le){return new Be(O,fe,Le)}next(O){this.isStopped?Ct(function Ie(he){return ye("N",he,void 0)}(O),this):this._next(O)}error(O){this.isStopped?Ct(function ae(he){return ye("E",void 0,he)}(O),this):(this.isStopped=!0,this._error(O))}complete(){this.isStopped?Ct(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(O){this.destination.next(O)}_error(O){try{this.destination.error(O)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xe=Function.prototype.bind;function Fe(he,O){return xe.call(he,O)}class Xe{constructor(O){this.partialObserver=O}next(O){const{partialObserver:fe}=this;if(fe.next)try{fe.next(O)}catch(Le){Je(Le)}}error(O){const{partialObserver:fe}=this;if(fe.error)try{fe.error(O)}catch(Le){Je(Le)}else Je(O)}complete(){const{partialObserver:O}=this;if(O.complete)try{O.complete()}catch(fe){Je(fe)}}}class Be extends le{constructor(O,fe,Le){let Ne;if(super(),(0,_.m)(O)||!O)Ne={next:O??void 0,error:fe??void 0,complete:Le??void 0};else{let Ze;this&&W.config.useDeprecatedNextContext?(Ze=Object.create(O),Ze.unsubscribe=()=>this.unsubscribe(),Ne={next:O.next&&Fe(O.next,Ze),error:O.error&&Fe(O.error,Ze),complete:O.complete&&Fe(O.complete,Ze)}):Ne=O}this.destination=new Xe(Ne)}}function Je(he){W.config.useDeprecatedSynchronousErrorHandling?(0,q.O)(he):(0,z.h)(he)}function Ct(he,O){const{onStoppedNotification:fe}=W.config;fe&&Z.z.setTimeout(()=>fe(he,O))}const ft={closed:!0,next:re.Z,error:function Ve(he){throw he},complete:re.Z}},7394:(dt,De,P)=>{P.d(De,{Lc:()=>ie,w0:()=>re,Nn:()=>ae});var _=P(4674);const W=(0,P(2306).d)(ye=>function(q){ye(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((le,xe)=>`${xe+1}) ${le.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var z=P(9039);class re{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Fe of q)Fe.remove(this);else q.remove(this);const{initialTeardown:le}=this;if((0,_.m)(le))try{le()}catch(Fe){Z=Fe instanceof W?Fe.errors:[Fe]}const{_finalizers:xe}=this;if(xe){this._finalizers=null;for(const Fe of xe)try{Ie(Fe)}catch(Xe){Z=Z??[],Xe instanceof W?Z=[...Z,...Xe.errors]:Z.push(Xe)}}if(Z)throw new W(Z)}}add(Z){var q;if(Z&&Z!==this)if(this.closed)Ie(Z);else{if(Z instanceof re){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(Z)}}_hasParent(Z){const{_parentage:q}=this;return q===Z||Array.isArray(q)&&q.includes(Z)}_addParent(Z){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(Z),q):q?[q,Z]:Z}_removeParent(Z){const{_parentage:q}=this;q===Z?this._parentage=null:Array.isArray(q)&&(0,z.P)(q,Z)}remove(Z){const{_finalizers:q}=this;q&&(0,z.P)(q,Z),Z instanceof re&&Z._removeParent(this)}}re.EMPTY=(()=>{const ye=new re;return ye.closed=!0,ye})();const ie=re.EMPTY;function ae(ye){return ye instanceof re||ye&&"closed"in ye&&(0,_.m)(ye.remove)&&(0,_.m)(ye.add)&&(0,_.m)(ye.unsubscribe)}function Ie(ye){(0,_.m)(ye)?ye():ye.unsubscribe()}},2653:(dt,De,P)=>{P.d(De,{config:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(dt,De,P)=>{P.d(De,{z:()=>re});var _=P(7537),W=P(4564),z=P(2459);function re(...ie){return function X(){return(0,_.J)(1)}()((0,z.D)(ie,(0,W.yG)(ie)))}},6232:(dt,De,P)=>{P.d(De,{E:()=>X});const X=new(P(5592).y)(re=>re.complete())},2459:(dt,De,P)=>{P.d(De,{D:()=>O});var _=P(4829),X=P(3093),W=P(5137),ie=P(5592),Ie=P(4971),ye=P(4674),Z=P(7103);function le(fe,Le){if(!fe)throw new Error("Iterable cannot be null");return new ie.y(Ne=>{(0,Z.f)(Ne,Le,()=>{const Ze=fe[Symbol.asyncIterator]();(0,Z.f)(Ne,Le,()=>{Ze.next().then(gt=>{gt.done?Ne.complete():Ne.next(gt.value)})},0,!0)})})}var xe=P(8382),Fe=P(4026),Xe=P(4266),Be=P(3664),Je=P(5726),Ve=P(9853),Ct=P(541);function O(fe,Le){return Le?function he(fe,Le){if(null!=fe){if((0,xe.c)(fe))return function z(fe,Le){return(0,_.Xf)(fe).pipe((0,W.R)(Le),(0,X.Q)(Le))}(fe,Le);if((0,Xe.z)(fe))return function ae(fe,Le){return new ie.y(Ne=>{let Ze=0;return Le.schedule(function(){Ze===fe.length?Ne.complete():(Ne.next(fe[Ze++]),Ne.closed||this.schedule())})})}(fe,Le);if((0,Fe.t)(fe))return function re(fe,Le){return(0,_.Xf)(fe).pipe((0,W.R)(Le),(0,X.Q)(Le))}(fe,Le);if((0,Je.D)(fe))return le(fe,Le);if((0,Be.T)(fe))return function q(fe,Le){return new ie.y(Ne=>{let Ze;return(0,Z.f)(Ne,Le,()=>{Ze=fe[Ie.h](),(0,Z.f)(Ne,Le,()=>{let gt,Se;try{({value:gt,done:Se}=Ze.next())}catch(at){return void Ne.error(at)}Se?Ne.complete():Ne.next(gt)},0,!0)}),()=>(0,ye.m)(Ze?.return)&&Ze.return()})}(fe,Le);if((0,Ct.L)(fe))return function ft(fe,Le){return le((0,Ct.Q)(fe),Le)}(fe,Le)}throw(0,Ve.z)(fe)}(fe,Le):(0,_.Xf)(fe)}},4829:(dt,De,P)=>{P.d(De,{Xf:()=>xe});var _=P(7582),X=P(4266),W=P(4026),z=P(5592),re=P(8382),ie=P(5726),ae=P(9853),Ie=P(3664),ye=P(541),Z=P(4674),q=P(3894),le=P(4850);function xe(he){if(he instanceof z.y)return he;if(null!=he){if((0,re.c)(he))return function Fe(he){return new z.y(O=>{const fe=he[le.L]();if((0,Z.m)(fe.subscribe))return fe.subscribe(O);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(he);if((0,X.z)(he))return function Xe(he){return new z.y(O=>{for(let fe=0;fe<he.length&&!O.closed;fe++)O.next(he[fe]);O.complete()})}(he);if((0,W.t)(he))return function Be(he){return new z.y(O=>{he.then(fe=>{O.closed||(O.next(fe),O.complete())},fe=>O.error(fe)).then(null,q.h)})}(he);if((0,ie.D)(he))return Ve(he);if((0,Ie.T)(he))return function Je(he){return new z.y(O=>{for(const fe of he)if(O.next(fe),O.closed)return;O.complete()})}(he);if((0,ye.L)(he))return function Ct(he){return Ve((0,ye.Q)(he))}(he)}throw(0,ae.z)(he)}function Ve(he){return new z.y(O=>{(function ft(he,O){var fe,Le,Ne,Ze;return(0,_.mG)(this,void 0,void 0,function*(){try{for(fe=(0,_.KL)(he);!(Le=yield fe.next()).done;)if(O.next(Le.value),O.closed)return}catch(gt){Ne={error:gt}}finally{try{Le&&!Le.done&&(Ze=fe.return)&&(yield Ze.call(fe))}finally{if(Ne)throw Ne.error}}O.complete()})})(he,O).catch(fe=>O.error(fe))})}},3019:(dt,De,P)=>{P.d(De,{T:()=>ie});var _=P(7537),X=P(4829),W=P(6232),z=P(4564),re=P(2459);function ie(...ae){const Ie=(0,z.yG)(ae),ye=(0,z._6)(ae,1/0),Z=ae;return Z.length?1===Z.length?(0,X.Xf)(Z[0]):(0,_.J)(ye)((0,re.D)(Z,Ie)):W.E}},2096:(dt,De,P)=>{P.d(De,{of:()=>W});var _=P(4564),X=P(2459);function W(...z){const re=(0,_.yG)(z);return(0,X.D)(z,re)}},8251:(dt,De,P)=>{P.d(De,{x:()=>X});var _=P(305);function X(z,re,ie,ae,Ie){return new W(z,re,ie,ae,Ie)}class W extends _.Lv{constructor(re,ie,ae,Ie,ye,Z){super(re),this.onFinalize=ye,this.shouldUnsubscribe=Z,this._next=ie?function(q){try{ie(q)}catch(le){re.error(le)}}:super._next,this._error=Ie?function(q){try{Ie(q)}catch(le){re.error(le)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(q){re.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},6328:(dt,De,P)=>{P.d(De,{b:()=>W});var _=P(1631),X=P(4674);function W(z,re){return(0,X.m)(re)?(0,_.z)(z,re,1):(0,_.z)(z,1)}},3572:(dt,De,P)=>{P.d(De,{d:()=>W});var _=P(9360),X=P(8251);function W(z){return(0,_.e)((re,ie)=>{let ae=!1;re.subscribe((0,X.x)(ie,Ie=>{ae=!0,ie.next(Ie)},()=>{ae||ie.next(z),ie.complete()}))})}},3997:(dt,De,P)=>{P.d(De,{x:()=>z});var _=P(2737),X=P(9360),W=P(8251);function z(ie,ae=_.y){return ie=ie??re,(0,X.e)((Ie,ye)=>{let Z,q=!0;Ie.subscribe((0,W.x)(ye,le=>{const xe=ae(le);(q||!ie(Z,xe))&&(q=!1,Z=xe,ye.next(le))}))})}function re(ie,ae){return ie===ae}},2181:(dt,De,P)=>{P.d(De,{h:()=>W});var _=P(9360),X=P(8251);function W(z,re){return(0,_.e)((ie,ae)=>{let Ie=0;ie.subscribe((0,X.x)(ae,ye=>z.call(re,ye,Ie++)&&ae.next(ye)))})}},4716:(dt,De,P)=>{P.d(De,{x:()=>X});var _=P(9360);function X(W){return(0,_.e)((z,re)=>{try{z.subscribe(re)}finally{re.add(W)}})}},1374:(dt,De,P)=>{P.d(De,{P:()=>ae});var _=P(6973),X=P(2181),W=P(8180),z=P(3572),re=P(3026),ie=P(2737);function ae(Ie,ye){const Z=arguments.length>=2;return q=>q.pipe(Ie?(0,X.h)((le,xe)=>Ie(le,xe,q)):ie.y,(0,W.q)(1),Z?(0,z.d)(ye):(0,re.T)(()=>new _.K))}},7398:(dt,De,P)=>{P.d(De,{U:()=>W});var _=P(9360),X=P(8251);function W(z,re){return(0,_.e)((ie,ae)=>{let Ie=0;ie.subscribe((0,X.x)(ae,ye=>{ae.next(z.call(re,ye,Ie++))}))})}},7537:(dt,De,P)=>{P.d(De,{J:()=>W});var _=P(1631),X=P(2737);function W(z=1/0){return(0,_.z)(X.y,z)}},1631:(dt,De,P)=>{P.d(De,{z:()=>Ie});var _=P(7398),X=P(4829),W=P(9360),z=P(7103),re=P(8251),ae=P(4674);function Ie(ye,Z,q=1/0){return(0,ae.m)(Z)?Ie((le,xe)=>(0,_.U)((Fe,Xe)=>Z(le,Fe,xe,Xe))((0,X.Xf)(ye(le,xe))),q):("number"==typeof Z&&(q=Z),(0,W.e)((le,xe)=>function ie(ye,Z,q,le,xe,Fe,Xe,Be){const Je=[];let Ve=0,Ct=0,ft=!1;const he=()=>{ft&&!Je.length&&!Ve&&Z.complete()},O=Le=>Ve<le?fe(Le):Je.push(Le),fe=Le=>{Fe&&Z.next(Le),Ve++;let Ne=!1;(0,X.Xf)(q(Le,Ct++)).subscribe((0,re.x)(Z,Ze=>{xe?.(Ze),Fe?O(Ze):Z.next(Ze)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(Ve--;Je.length&&Ve<le;){const Ze=Je.shift();Xe?(0,z.f)(Z,Xe,()=>fe(Ze)):fe(Ze)}he()}catch(Ze){Z.error(Ze)}}))};return ye.subscribe((0,re.x)(Z,O,()=>{ft=!0,he()})),()=>{Be?.()}}(le,xe,ye,q)))}},3093:(dt,De,P)=>{P.d(De,{Q:()=>z});var _=P(7103),X=P(9360),W=P(8251);function z(re,ie=0){return(0,X.e)((ae,Ie)=>{ae.subscribe((0,W.x)(Ie,ye=>(0,_.f)(Ie,re,()=>Ie.next(ye),ie),()=>(0,_.f)(Ie,re,()=>Ie.complete(),ie),ye=>(0,_.f)(Ie,re,()=>Ie.error(ye),ie)))})}},6699:(dt,De,P)=>{P.d(De,{R:()=>z});var _=P(9360),X=P(8251);function z(re,ie){return(0,_.e)(function W(re,ie,ae,Ie,ye){return(Z,q)=>{let le=ae,xe=ie,Fe=0;Z.subscribe((0,X.x)(q,Xe=>{const Be=Fe++;xe=le?re(xe,Xe,Be):(le=!0,Xe),Ie&&q.next(xe)},ye&&(()=>{le&&q.next(xe),q.complete()})))}}(re,ie,arguments.length>=2,!0))}},3020:(dt,De,P)=>{P.d(De,{B:()=>re});var _=P(4829),X=P(8645),W=P(305),z=P(9360);function re(ae={}){const{connector:Ie=(()=>new X.x),resetOnError:ye=!0,resetOnComplete:Z=!0,resetOnRefCountZero:q=!0}=ae;return le=>{let xe,Fe,Xe,Be=0,Je=!1,Ve=!1;const Ct=()=>{Fe?.unsubscribe(),Fe=void 0},ft=()=>{Ct(),xe=Xe=void 0,Je=Ve=!1},he=()=>{const O=xe;ft(),O?.unsubscribe()};return(0,z.e)((O,fe)=>{Be++,!Ve&&!Je&&Ct();const Le=Xe=Xe??Ie();fe.add(()=>{Be--,0===Be&&!Ve&&!Je&&(Fe=ie(he,q))}),Le.subscribe(fe),!xe&&Be>0&&(xe=new W.Hp({next:Ne=>Le.next(Ne),error:Ne=>{Ve=!0,Ct(),Fe=ie(ft,ye,Ne),Le.error(Ne)},complete:()=>{Je=!0,Ct(),Fe=ie(ft,Z),Le.complete()}}),(0,_.Xf)(O).subscribe(xe))})(le)}}function ie(ae,Ie,...ye){if(!0===Ie)return void ae();if(!1===Ie)return;const Z=new W.Hp({next:()=>{Z.unsubscribe(),ae()}});return(0,_.Xf)(Ie(...ye)).subscribe(Z)}},7921:(dt,De,P)=>{P.d(De,{O:()=>z});var _=P(5211),X=P(4564),W=P(9360);function z(...re){const ie=(0,X.yG)(re);return(0,W.e)((ae,Ie)=>{(ie?(0,_.z)(re,ae,ie):(0,_.z)(re,ae)).subscribe(Ie)})}},5137:(dt,De,P)=>{P.d(De,{R:()=>X});var _=P(9360);function X(W,z=0){return(0,_.e)((re,ie)=>{ie.add(W.schedule(()=>re.subscribe(ie),z))})}},4664:(dt,De,P)=>{P.d(De,{w:()=>z});var _=P(4829),X=P(9360),W=P(8251);function z(re,ie){return(0,X.e)((ae,Ie)=>{let ye=null,Z=0,q=!1;const le=()=>q&&!ye&&Ie.complete();ae.subscribe((0,W.x)(Ie,xe=>{ye?.unsubscribe();let Fe=0;const Xe=Z++;(0,_.Xf)(re(xe,Xe)).subscribe(ye=(0,W.x)(Ie,Be=>Ie.next(ie?ie(xe,Be,Xe,Fe++):Be),()=>{ye=null,le()}))},()=>{q=!0,le()}))})}},8180:(dt,De,P)=>{P.d(De,{q:()=>z});var _=P(6232),X=P(9360),W=P(8251);function z(re){return re<=0?()=>_.E:(0,X.e)((ie,ae)=>{let Ie=0;ie.subscribe((0,W.x)(ae,ye=>{++Ie<=re&&(ae.next(ye),re<=Ie&&ae.complete())}))})}},9397:(dt,De,P)=>{P.d(De,{b:()=>re});var _=P(4674),X=P(9360),W=P(8251),z=P(2737);function re(ie,ae,Ie){const ye=(0,_.m)(ie)||ae||Ie?{next:ie,error:ae,complete:Ie}:ie;return ye?(0,X.e)((Z,q)=>{var le;null===(le=ye.subscribe)||void 0===le||le.call(ye);let xe=!0;Z.subscribe((0,W.x)(q,Fe=>{var Xe;null===(Xe=ye.next)||void 0===Xe||Xe.call(ye,Fe),q.next(Fe)},()=>{var Fe;xe=!1,null===(Fe=ye.complete)||void 0===Fe||Fe.call(ye),q.complete()},Fe=>{var Xe;xe=!1,null===(Xe=ye.error)||void 0===Xe||Xe.call(ye,Fe),q.error(Fe)},()=>{var Fe,Xe;xe&&(null===(Fe=ye.unsubscribe)||void 0===Fe||Fe.call(ye)),null===(Xe=ye.finalize)||void 0===Xe||Xe.call(ye)}))}):z.y}},3026:(dt,De,P)=>{P.d(De,{T:()=>z});var _=P(6973),X=P(9360),W=P(8251);function z(ie=re){return(0,X.e)((ae,Ie)=>{let ye=!1;ae.subscribe((0,W.x)(Ie,Z=>{ye=!0,Ie.next(Z)},()=>ye?Ie.complete():Ie.error(ie())))})}function re(){return new _.K}},1954:(dt,De,P)=>{P.d(De,{o:()=>re});var _=P(7394);class X extends _.w0{constructor(ae,Ie){super()}schedule(ae,Ie=0){return this}}const W={setInterval(ie,ae,...Ie){const{delegate:ye}=W;return ye?.setInterval?ye.setInterval(ie,ae,...Ie):setInterval(ie,ae,...Ie)},clearInterval(ie){const{delegate:ae}=W;return(ae?.clearInterval||clearInterval)(ie)},delegate:void 0};var z=P(9039);class re extends X{constructor(ae,Ie){super(ae,Ie),this.scheduler=ae,this.work=Ie,this.pending=!1}schedule(ae,Ie=0){var ye;if(this.closed)return this;this.state=ae;const Z=this.id,q=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(q,Z,Ie)),this.pending=!0,this.delay=Ie,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId(q,this.id,Ie),this}requestAsyncId(ae,Ie,ye=0){return W.setInterval(ae.flush.bind(ae,this),ye)}recycleAsyncId(ae,Ie,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return Ie;null!=Ie&&W.clearInterval(Ie)}execute(ae,Ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(ae,Ie);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,Ie){let Z,ye=!1;try{this.work(ae)}catch(q){ye=!0,Z=q||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:ae,scheduler:Ie}=this,{actions:ye}=Ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,z.P)(ye,this),null!=ae&&(this.id=this.recycleAsyncId(Ie,ae,null)),this.delay=null,super.unsubscribe()}}}},2631:(dt,De,P)=>{P.d(De,{v:()=>W});var _=P(4552);class X{constructor(re,ie=X.now){this.schedulerActionCtor=re,this.now=ie}schedule(re,ie=0,ae){return new this.schedulerActionCtor(this,re).schedule(ae,ie)}}X.now=_.l.now;class W extends X{constructor(re,ie=X.now){super(re,ie),this.actions=[],this._active=!1}flush(re){const{actions:ie}=this;if(this._active)return void ie.push(re);let ae;this._active=!0;do{if(ae=re.execute(re.state,re.delay))break}while(re=ie.shift());if(this._active=!1,ae){for(;re=ie.shift();)re.unsubscribe();throw ae}}}},6321:(dt,De,P)=>{P.d(De,{z:()=>W});var _=P(1954);const W=new(P(2631).v)(_.o)},4552:(dt,De,P)=>{P.d(De,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},7599:(dt,De,P)=>{P.d(De,{z:()=>_});const _={setTimeout(X,W,...z){const{delegate:re}=_;return re?.setTimeout?re.setTimeout(X,W,...z):setTimeout(X,W,...z)},clearTimeout(X){const{delegate:W}=_;return(W?.clearTimeout||clearTimeout)(X)},delegate:void 0}},4971:(dt,De,P)=>{P.d(De,{h:()=>X});const X=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(dt,De,P)=>{P.d(De,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(dt,De,P)=>{P.d(De,{K:()=>X});const X=(0,P(2306).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(dt,De,P)=>{P.d(De,{_6:()=>ie,jO:()=>z,yG:()=>re});var _=P(4674);function W(ae){return ae[ae.length-1]}function z(ae){return(0,_.m)(W(ae))?ae.pop():void 0}function re(ae){return function X(ae){return ae&&(0,_.m)(ae.schedule)}(W(ae))?ae.pop():void 0}function ie(ae,Ie){return"number"==typeof W(ae)?ae.pop():Ie}},7453:(dt,De,P)=>{P.d(De,{D:()=>re});const{isArray:_}=Array,{getPrototypeOf:X,prototype:W,keys:z}=Object;function re(ae){if(1===ae.length){const Ie=ae[0];if(_(Ie))return{args:Ie,keys:null};if(function ie(ae){return ae&&"object"==typeof ae&&X(ae)===W}(Ie)){const ye=z(Ie);return{args:ye.map(Z=>Ie[Z]),keys:ye}}}return{args:ae,keys:null}}},9039:(dt,De,P)=>{function _(X,W){if(X){const z=X.indexOf(W);0<=z&&X.splice(z,1)}}P.d(De,{P:()=>_})},2306:(dt,De,P)=>{function _(X){const z=X(re=>{Error.call(re),re.stack=(new Error).stack});return z.prototype=Object.create(Error.prototype),z.prototype.constructor=z,z}P.d(De,{d:()=>_})},2714:(dt,De,P)=>{function _(X,W){return X.reduce((z,re,ie)=>(z[re]=W[ie],z),{})}P.d(De,{n:()=>_})},1441:(dt,De,P)=>{P.d(De,{O:()=>z,x:()=>W});var _=P(2653);let X=null;function W(re){if(_.config.useDeprecatedSynchronousErrorHandling){const ie=!X;if(ie&&(X={errorThrown:!1,error:null}),re(),ie){const{errorThrown:ae,error:Ie}=X;if(X=null,ae)throw Ie}}else re()}function z(re){_.config.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=re)}},7103:(dt,De,P)=>{function _(X,W,z,re=0,ie=!1){const ae=W.schedule(function(){z(),ie?X.add(this.schedule(null,re)):this.unsubscribe()},re);if(X.add(ae),!ie)return ae}P.d(De,{f:()=>_})},2737:(dt,De,P)=>{function _(X){return X}P.d(De,{y:()=>_})},4266:(dt,De,P)=>{P.d(De,{z:()=>_});const _=X=>X&&"number"==typeof X.length&&"function"!=typeof X},5726:(dt,De,P)=>{P.d(De,{D:()=>X});var _=P(4674);function X(W){return Symbol.asyncIterator&&(0,_.m)(W?.[Symbol.asyncIterator])}},4674:(dt,De,P)=>{function _(X){return"function"==typeof X}P.d(De,{m:()=>_})},8382:(dt,De,P)=>{P.d(De,{c:()=>W});var _=P(4850),X=P(4674);function W(z){return(0,X.m)(z[_.L])}},3664:(dt,De,P)=>{P.d(De,{T:()=>W});var _=P(4971),X=P(4674);function W(z){return(0,X.m)(z?.[_.h])}},4026:(dt,De,P)=>{P.d(De,{t:()=>X});var _=P(4674);function X(W){return(0,_.m)(W?.then)}},541:(dt,De,P)=>{P.d(De,{L:()=>z,Q:()=>W});var _=P(7582),X=P(4674);function W(re){return(0,_.FC)(this,arguments,function*(){const ae=re.getReader();try{for(;;){const{value:Ie,done:ye}=yield(0,_.qq)(ae.read());if(ye)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(Ie)}}finally{ae.releaseLock()}})}function z(re){return(0,X.m)(re?.getReader)}},9360:(dt,De,P)=>{P.d(De,{A:()=>X,e:()=>W});var _=P(4674);function X(z){return(0,_.m)(z?.lift)}function W(z){return re=>{if(X(re))return re.lift(function(ie){try{return z(ie,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(dt,De,P)=>{P.d(De,{Z:()=>z});var _=P(7398);const{isArray:X}=Array;function z(re){return(0,_.U)(ie=>function W(re,ie){return X(ie)?re(...ie):re(ie)}(re,ie))}},2420:(dt,De,P)=>{function _(){}P.d(De,{Z:()=>_})},8407:(dt,De,P)=>{P.d(De,{U:()=>W,z:()=>X});var _=P(2737);function X(...z){return W(z)}function W(z){return 0===z.length?_.y:1===z.length?z[0]:function(ie){return z.reduce((ae,Ie)=>Ie(ae),ie)}}},3894:(dt,De,P)=>{P.d(De,{h:()=>W});var _=P(2653),X=P(7599);function W(z){X.z.setTimeout(()=>{const{onUnhandledError:re}=_.config;if(!re)throw z;re(z)})}},9853:(dt,De,P)=>{function _(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(De,{z:()=>_})},6814:(dt,De,P)=>{P.d(De,{Do:()=>Be,EM:()=>Ti,HT:()=>z,JF:()=>Si,K0:()=>ie,Mx:()=>Tt,O5:()=>Gi,PM:()=>Ls,S$:()=>xe,V_:()=>Ie,Ye:()=>Je,b0:()=>Xe,bD:()=>Un,ez:()=>pi,mk:()=>Nt,q:()=>W,w_:()=>re});var _=P(5879);let X=null;function W(){return X}function z(I){X||(X=I)}class re{}const ie=new _.OlP("DocumentToken");let ae=(()=>{class I{historyGo(T){throw new Error("Not implemented")}static#e=this.\u0275fac=function(M){return new(M||I)};static#t=this.\u0275prov=_.Yz7({token:I,factory:function(){return(0,_.f3M)(ye)},providedIn:"platform"})}return I})();const Ie=new _.OlP("Location Initialized");let ye=(()=>{class I extends ae{constructor(){super(),this._doc=(0,_.f3M)(ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(T){const M=W().getGlobalEventTarget(this._doc,"window");return M.addEventListener("popstate",T,!1),()=>M.removeEventListener("popstate",T)}onHashChange(T){const M=W().getGlobalEventTarget(this._doc,"window");return M.addEventListener("hashchange",T,!1),()=>M.removeEventListener("hashchange",T)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(T){this._location.pathname=T}pushState(T,M,Y){this._history.pushState(T,M,Y)}replaceState(T,M,Y){this._history.replaceState(T,M,Y)}forward(){this._history.forward()}back(){this._history.back()}historyGo(T=0){this._history.go(T)}getState(){return this._history.state}static#e=this.\u0275fac=function(M){return new(M||I)};static#t=this.\u0275prov=_.Yz7({token:I,factory:function(){return new I},providedIn:"platform"})}return I})();function Z(I,x){if(0==I.length)return x;if(0==x.length)return I;let T=0;return I.endsWith("/")&&T++,x.startsWith("/")&&T++,2==T?I+x.substring(1):1==T?I+x:I+"/"+x}function q(I){const x=I.match(/#|\?|$/),T=x&&x.index||I.length;return I.slice(0,T-("/"===I[T-1]?1:0))+I.slice(T)}function le(I){return I&&"?"!==I[0]?"?"+I:I}let xe=(()=>{class I{historyGo(T){throw new Error("Not implemented")}static#e=this.\u0275fac=function(M){return new(M||I)};static#t=this.\u0275prov=_.Yz7({token:I,factory:function(){return(0,_.f3M)(Xe)},providedIn:"root"})}return I})();const Fe=new _.OlP("appBaseHref");let Xe=(()=>{class I extends xe{constructor(T,M){super(),this._platformLocation=T,this._removeListenerFns=[],this._baseHref=M??this._platformLocation.getBaseHrefFromDOM()??(0,_.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}prepareExternalUrl(T){return Z(this._baseHref,T)}path(T=!1){const M=this._platformLocation.pathname+le(this._platformLocation.search),Y=this._platformLocation.hash;return Y&&T?`${M}${Y}`:M}pushState(T,M,Y,Te){const je=this.prepareExternalUrl(Y+le(Te));this._platformLocation.pushState(T,M,je)}replaceState(T,M,Y,Te){const je=this.prepareExternalUrl(Y+le(Te));this._platformLocation.replaceState(T,M,je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}static#e=this.\u0275fac=function(M){return new(M||I)(_.LFG(ae),_.LFG(Fe,8))};static#t=this.\u0275prov=_.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})(),Be=(()=>{class I extends xe{constructor(T,M){super(),this._platformLocation=T,this._baseHref="",this._removeListenerFns=[],null!=M&&(this._baseHref=M)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}path(T=!1){let M=this._platformLocation.hash;return null==M&&(M="#"),M.length>0?M.substring(1):M}prepareExternalUrl(T){const M=Z(this._baseHref,T);return M.length>0?"#"+M:M}pushState(T,M,Y,Te){let je=this.prepareExternalUrl(Y+le(Te));0==je.length&&(je=this._platformLocation.pathname),this._platformLocation.pushState(T,M,je)}replaceState(T,M,Y,Te){let je=this.prepareExternalUrl(Y+le(Te));0==je.length&&(je=this._platformLocation.pathname),this._platformLocation.replaceState(T,M,je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}static#e=this.\u0275fac=function(M){return new(M||I)(_.LFG(ae),_.LFG(Fe,8))};static#t=this.\u0275prov=_.Yz7({token:I,factory:I.\u0275fac})}return I})(),Je=(()=>{class I{constructor(T){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=T;const M=this._locationStrategy.getBaseHref();this._basePath=function he(I){if(new RegExp("^(https?:)?//").test(I)){const[,T]=I.split(/\/\/[^\/]+/);return T}return I}(q(ft(M))),this._locationStrategy.onPopState(Y=>{this._subject.emit({url:this.path(!0),pop:!0,state:Y.state,type:Y.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(T=!1){return this.normalize(this._locationStrategy.path(T))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(T,M=""){return this.path()==this.normalize(T+le(M))}normalize(T){return I.stripTrailingSlash(function Ct(I,x){if(!I||!x.startsWith(I))return x;const T=x.substring(I.length);return""===T||["/",";","?","#"].includes(T[0])?T:x}(this._basePath,ft(T)))}prepareExternalUrl(T){return T&&"/"!==T[0]&&(T="/"+T),this._locationStrategy.prepareExternalUrl(T)}go(T,M="",Y=null){this._locationStrategy.pushState(Y,"",T,M),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+le(M)),Y)}replaceState(T,M="",Y=null){this._locationStrategy.replaceState(Y,"",T,M),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+le(M)),Y)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(T=0){this._locationStrategy.historyGo?.(T)}onUrlChange(T){return this._urlChangeListeners.push(T),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(M=>{this._notifyUrlChangeListeners(M.url,M.state)})),()=>{const M=this._urlChangeListeners.indexOf(T);this._urlChangeListeners.splice(M,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(T="",M){this._urlChangeListeners.forEach(Y=>Y(T,M))}subscribe(T,M,Y){return this._subject.subscribe({next:T,error:M,complete:Y})}static#e=this.normalizeQueryParams=le;static#t=this.joinWithSlash=Z;static#n=this.stripTrailingSlash=q;static#r=this.\u0275fac=function(M){return new(M||I)(_.LFG(xe))};static#i=this.\u0275prov=_.Yz7({token:I,factory:function(){return function Ve(){return new Je((0,_.LFG)(xe))}()},providedIn:"root"})}return I})();function ft(I){return I.replace(/\/index.html$/,"")}function Tt(I,x){x=encodeURIComponent(x);for(const T of I.split(";")){const M=T.indexOf("="),[Y,Te]=-1==M?[T,""]:[T.slice(0,M),T.slice(M+1)];if(Y.trim()===x)return decodeURIComponent(Te)}return null}const Pt=/\s+/,kt=[];let Nt=(()=>{class I{constructor(T,M,Y,Te){this._iterableDiffers=T,this._keyValueDiffers=M,this._ngEl=Y,this._renderer=Te,this.initialClasses=kt,this.stateMap=new Map}set klass(T){this.initialClasses=null!=T?T.trim().split(Pt):kt}set ngClass(T){this.rawClass="string"==typeof T?T.trim().split(Pt):T}ngDoCheck(){for(const M of this.initialClasses)this._updateState(M,!0);const T=this.rawClass;if(Array.isArray(T)||T instanceof Set)for(const M of T)this._updateState(M,!0);else if(null!=T)for(const M of Object.keys(T))this._updateState(M,!!T[M]);this._applyStateDiff()}_updateState(T,M){const Y=this.stateMap.get(T);void 0!==Y?(Y.enabled!==M&&(Y.changed=!0,Y.enabled=M),Y.touched=!0):this.stateMap.set(T,{enabled:M,changed:!0,touched:!0})}_applyStateDiff(){for(const T of this.stateMap){const M=T[0],Y=T[1];Y.changed?(this._toggleClass(M,Y.enabled),Y.changed=!1):Y.touched||(Y.enabled&&this._toggleClass(M,!1),this.stateMap.delete(M)),Y.touched=!1}}_toggleClass(T,M){(T=T.trim()).length>0&&T.split(Pt).forEach(Y=>{M?this._renderer.addClass(this._ngEl.nativeElement,Y):this._renderer.removeClass(this._ngEl.nativeElement,Y)})}static#e=this.\u0275fac=function(M){return new(M||I)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))};static#t=this.\u0275dir=_.lG2({type:I,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return I})(),Gi=(()=>{class I{constructor(T,M){this._viewContainer=T,this._context=new Ms,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=M}set ngIf(T){this._context.$implicit=this._context.ngIf=T,this._updateView()}set ngIfThen(T){Ps("ngIfThen",T),this._thenTemplateRef=T,this._thenViewRef=null,this._updateView()}set ngIfElse(T){Ps("ngIfElse",T),this._elseTemplateRef=T,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(T,M){return!0}static#e=this.\u0275fac=function(M){return new(M||I)(_.Y36(_.s_b),_.Y36(_.Rgc))};static#t=this.\u0275dir=_.lG2({type:I,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return I})();class Ms{constructor(){this.$implicit=null,this.ngIf=null}}function Ps(I,x){if(x&&!x.createEmbeddedView)throw new Error(`${I} must be a TemplateRef, but received '${(0,_.AaK)(x)}'.`)}let pi=(()=>{class I{static#e=this.\u0275fac=function(M){return new(M||I)};static#t=this.\u0275mod=_.oAB({type:I});static#n=this.\u0275inj=_.cJS({})}return I})();const Un="browser",Gr="server";function Ls(I){return I===Gr}let Ti=(()=>{class I{static#e=this.\u0275prov=(0,_.Yz7)({token:I,providedIn:"root",factory:()=>new er((0,_.LFG)(ie),window)})}return I})();class er{constructor(x,T){this.document=x,this.window=T,this.offset=()=>[0,0]}setOffset(x){this.offset=Array.isArray(x)?()=>x:x}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(x){this.supportsScrolling()&&this.window.scrollTo(x[0],x[1])}scrollToAnchor(x){if(!this.supportsScrolling())return;const T=function Us(I,x){const T=I.getElementById(x)||I.getElementsByName(x)[0];if(T)return T;if("function"==typeof I.createTreeWalker&&I.body&&"function"==typeof I.body.attachShadow){const M=I.createTreeWalker(I.body,NodeFilter.SHOW_ELEMENT);let Y=M.currentNode;for(;Y;){const Te=Y.shadowRoot;if(Te){const je=Te.getElementById(x)||Te.querySelector(`[name="${x}"]`);if(je)return je}Y=M.nextNode()}}return null}(this.document,x);T&&(this.scrollToElement(T),T.focus())}setHistoryScrollRestoration(x){this.supportsScrolling()&&(this.window.history.scrollRestoration=x)}scrollToElement(x){const T=x.getBoundingClientRect(),M=T.left+this.window.pageXOffset,Y=T.top+this.window.pageYOffset,Te=this.offset();this.window.scrollTo(M-Te[0],Y-Te[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Si{}},9862:(dt,De,P)=>{P.d(De,{JF:()=>V,WM:()=>xe,eN:()=>ee});var _=P(5879),X=P(2096),W=P(2459),z=P(5592),re=P(6328),ie=P(2181),ae=P(7398),Ie=P(4716),ye=P(4664),Z=P(6814);class q{}class le{}class xe{constructor(J){this.normalizedNames=new Map,this.lazyUpdate=null,J?"string"==typeof J?this.lazyInit=()=>{this.headers=new Map,J.split("\n").forEach(se=>{const He=se.indexOf(":");if(He>0){const Ke=se.slice(0,He),rt=Ke.toLowerCase(),tt=se.slice(He+1).trim();this.maybeSetNormalizedName(Ke,rt),this.headers.has(rt)?this.headers.get(rt).push(tt):this.headers.set(rt,[tt])}})}:typeof Headers<"u"&&J instanceof Headers?(this.headers=new Map,J.forEach((se,He)=>{this.setHeaderEntries(He,se)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(J).forEach(([se,He])=>{this.setHeaderEntries(se,He)})}:this.headers=new Map}has(J){return this.init(),this.headers.has(J.toLowerCase())}get(J){this.init();const se=this.headers.get(J.toLowerCase());return se&&se.length>0?se[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(J){return this.init(),this.headers.get(J.toLowerCase())||null}append(J,se){return this.clone({name:J,value:se,op:"a"})}set(J,se){return this.clone({name:J,value:se,op:"s"})}delete(J,se){return this.clone({name:J,value:se,op:"d"})}maybeSetNormalizedName(J,se){this.normalizedNames.has(se)||this.normalizedNames.set(se,J)}init(){this.lazyInit&&(this.lazyInit instanceof xe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(J=>this.applyUpdate(J)),this.lazyUpdate=null))}copyFrom(J){J.init(),Array.from(J.headers.keys()).forEach(se=>{this.headers.set(se,J.headers.get(se)),this.normalizedNames.set(se,J.normalizedNames.get(se))})}clone(J){const se=new xe;return se.lazyInit=this.lazyInit&&this.lazyInit instanceof xe?this.lazyInit:this,se.lazyUpdate=(this.lazyUpdate||[]).concat([J]),se}applyUpdate(J){const se=J.name.toLowerCase();switch(J.op){case"a":case"s":let He=J.value;if("string"==typeof He&&(He=[He]),0===He.length)return;this.maybeSetNormalizedName(J.name,se);const Ke=("a"===J.op?this.headers.get(se):void 0)||[];Ke.push(...He),this.headers.set(se,Ke);break;case"d":const rt=J.value;if(rt){let tt=this.headers.get(se);if(!tt)return;tt=tt.filter(zt=>-1===rt.indexOf(zt)),0===tt.length?(this.headers.delete(se),this.normalizedNames.delete(se)):this.headers.set(se,tt)}else this.headers.delete(se),this.normalizedNames.delete(se)}}setHeaderEntries(J,se){const He=(Array.isArray(se)?se:[se]).map(rt=>rt.toString()),Ke=J.toLowerCase();this.headers.set(Ke,He),this.maybeSetNormalizedName(J,Ke)}forEach(J){this.init(),Array.from(this.normalizedNames.keys()).forEach(se=>J(this.normalizedNames.get(se),this.headers.get(se)))}}class Xe{encodeKey(J){return Ct(J)}encodeValue(J){return Ct(J)}decodeKey(J){return decodeURIComponent(J)}decodeValue(J){return decodeURIComponent(J)}}const Je=/%(\d[a-f0-9])/gi,Ve={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ct(ge){return encodeURIComponent(ge).replace(Je,(J,se)=>Ve[se]??J)}function ft(ge){return`${ge}`}class he{constructor(J={}){if(this.updates=null,this.cloneFrom=null,this.encoder=J.encoder||new Xe,J.fromString){if(J.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Be(ge,J){const se=new Map;return ge.length>0&&ge.replace(/^\?/,"").split("&").forEach(Ke=>{const rt=Ke.indexOf("="),[tt,zt]=-1==rt?[J.decodeKey(Ke),""]:[J.decodeKey(Ke.slice(0,rt)),J.decodeValue(Ke.slice(rt+1))],ne=se.get(tt)||[];ne.push(zt),se.set(tt,ne)}),se}(J.fromString,this.encoder)}else J.fromObject?(this.map=new Map,Object.keys(J.fromObject).forEach(se=>{const He=J.fromObject[se],Ke=Array.isArray(He)?He.map(ft):[ft(He)];this.map.set(se,Ke)})):this.map=null}has(J){return this.init(),this.map.has(J)}get(J){this.init();const se=this.map.get(J);return se?se[0]:null}getAll(J){return this.init(),this.map.get(J)||null}keys(){return this.init(),Array.from(this.map.keys())}append(J,se){return this.clone({param:J,value:se,op:"a"})}appendAll(J){const se=[];return Object.keys(J).forEach(He=>{const Ke=J[He];Array.isArray(Ke)?Ke.forEach(rt=>{se.push({param:He,value:rt,op:"a"})}):se.push({param:He,value:Ke,op:"a"})}),this.clone(se)}set(J,se){return this.clone({param:J,value:se,op:"s"})}delete(J,se){return this.clone({param:J,value:se,op:"d"})}toString(){return this.init(),this.keys().map(J=>{const se=this.encoder.encodeKey(J);return this.map.get(J).map(He=>se+"="+this.encoder.encodeValue(He)).join("&")}).filter(J=>""!==J).join("&")}clone(J){const se=new he({encoder:this.encoder});return se.cloneFrom=this.cloneFrom||this,se.updates=(this.updates||[]).concat(J),se}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(J=>this.map.set(J,this.cloneFrom.map.get(J))),this.updates.forEach(J=>{switch(J.op){case"a":case"s":const se=("a"===J.op?this.map.get(J.param):void 0)||[];se.push(ft(J.value)),this.map.set(J.param,se);break;case"d":if(void 0===J.value){this.map.delete(J.param);break}{let He=this.map.get(J.param)||[];const Ke=He.indexOf(ft(J.value));-1!==Ke&&He.splice(Ke,1),He.length>0?this.map.set(J.param,He):this.map.delete(J.param)}}}),this.cloneFrom=this.updates=null)}}class fe{constructor(){this.map=new Map}set(J,se){return this.map.set(J,se),this}get(J){return this.map.has(J)||this.map.set(J,J.defaultValue()),this.map.get(J)}delete(J){return this.map.delete(J),this}has(J){return this.map.has(J)}keys(){return this.map.keys()}}function Ne(ge){return typeof ArrayBuffer<"u"&&ge instanceof ArrayBuffer}function Ze(ge){return typeof Blob<"u"&&ge instanceof Blob}function gt(ge){return typeof FormData<"u"&&ge instanceof FormData}class at{constructor(J,se,He,Ke){let rt;if(this.url=se,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=J.toUpperCase(),function Le(ge){switch(ge){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ke?(this.body=void 0!==He?He:null,rt=Ke):rt=He,rt&&(this.reportProgress=!!rt.reportProgress,this.withCredentials=!!rt.withCredentials,rt.responseType&&(this.responseType=rt.responseType),rt.headers&&(this.headers=rt.headers),rt.context&&(this.context=rt.context),rt.params&&(this.params=rt.params)),this.headers||(this.headers=new xe),this.context||(this.context=new fe),this.params){const tt=this.params.toString();if(0===tt.length)this.urlWithParams=se;else{const zt=se.indexOf("?");this.urlWithParams=se+(-1===zt?"?":zt<se.length-1?"&":"")+tt}}else this.params=new he,this.urlWithParams=se}serializeBody(){return null===this.body?null:Ne(this.body)||Ze(this.body)||gt(this.body)||function Se(ge){return typeof URLSearchParams<"u"&&ge instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof he?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gt(this.body)?null:Ze(this.body)?this.body.type||null:Ne(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof he?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(J={}){const se=J.method||this.method,He=J.url||this.url,Ke=J.responseType||this.responseType,rt=void 0!==J.body?J.body:this.body,tt=void 0!==J.withCredentials?J.withCredentials:this.withCredentials,zt=void 0!==J.reportProgress?J.reportProgress:this.reportProgress;let ne=J.headers||this.headers,de=J.params||this.params;const Pe=J.context??this.context;return void 0!==J.setHeaders&&(ne=Object.keys(J.setHeaders).reduce((Ge,pt)=>Ge.set(pt,J.setHeaders[pt]),ne)),J.setParams&&(de=Object.keys(J.setParams).reduce((Ge,pt)=>Ge.set(pt,J.setParams[pt]),de)),new at(se,He,rt,{params:de,headers:ne,context:Pe,reportProgress:zt,responseType:Ke,withCredentials:tt})}}var Dt=function(ge){return ge[ge.Sent=0]="Sent",ge[ge.UploadProgress=1]="UploadProgress",ge[ge.ResponseHeader=2]="ResponseHeader",ge[ge.DownloadProgress=3]="DownloadProgress",ge[ge.Response=4]="Response",ge[ge.User=5]="User",ge}(Dt||{});class Ut{constructor(J,se=200,He="OK"){this.headers=J.headers||new xe,this.status=void 0!==J.status?J.status:se,this.statusText=J.statusText||He,this.url=J.url||null,this.ok=this.status>=200&&this.status<300}}class hn extends Ut{constructor(J={}){super(J),this.type=Dt.ResponseHeader}clone(J={}){return new hn({headers:J.headers||this.headers,status:void 0!==J.status?J.status:this.status,statusText:J.statusText||this.statusText,url:J.url||this.url||void 0})}}class an extends Ut{constructor(J={}){super(J),this.type=Dt.Response,this.body=void 0!==J.body?J.body:null}clone(J={}){return new an({body:void 0!==J.body?J.body:this.body,headers:J.headers||this.headers,status:void 0!==J.status?J.status:this.status,statusText:J.statusText||this.statusText,url:J.url||this.url||void 0})}}class ut extends Ut{constructor(J){super(J,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${J.url||"(unknown url)"}`:`Http failure response for ${J.url||"(unknown url)"}: ${J.status} ${J.statusText}`,this.error=J.error||null}}function ct(ge,J){return{body:J,headers:ge.headers,context:ge.context,observe:ge.observe,params:ge.params,reportProgress:ge.reportProgress,responseType:ge.responseType,withCredentials:ge.withCredentials}}let ee=(()=>{class ge{constructor(se){this.handler=se}request(se,He,Ke={}){let rt;if(se instanceof at)rt=se;else{let ne,de;ne=Ke.headers instanceof xe?Ke.headers:new xe(Ke.headers),Ke.params&&(de=Ke.params instanceof he?Ke.params:new he({fromObject:Ke.params})),rt=new at(se,He,void 0!==Ke.body?Ke.body:null,{headers:ne,context:Ke.context,params:de,reportProgress:Ke.reportProgress,responseType:Ke.responseType||"json",withCredentials:Ke.withCredentials})}const tt=(0,X.of)(rt).pipe((0,re.b)(ne=>this.handler.handle(ne)));if(se instanceof at||"events"===Ke.observe)return tt;const zt=tt.pipe((0,ie.h)(ne=>ne instanceof an));switch(Ke.observe||"body"){case"body":switch(rt.responseType){case"arraybuffer":return zt.pipe((0,ae.U)(ne=>{if(null!==ne.body&&!(ne.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ne.body}));case"blob":return zt.pipe((0,ae.U)(ne=>{if(null!==ne.body&&!(ne.body instanceof Blob))throw new Error("Response is not a Blob.");return ne.body}));case"text":return zt.pipe((0,ae.U)(ne=>{if(null!==ne.body&&"string"!=typeof ne.body)throw new Error("Response is not a string.");return ne.body}));default:return zt.pipe((0,ae.U)(ne=>ne.body))}case"response":return zt;default:throw new Error(`Unreachable: unhandled observe type ${Ke.observe}}`)}}delete(se,He={}){return this.request("DELETE",se,He)}get(se,He={}){return this.request("GET",se,He)}head(se,He={}){return this.request("HEAD",se,He)}jsonp(se,He){return this.request("JSONP",se,{params:(new he).append(He,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(se,He={}){return this.request("OPTIONS",se,He)}patch(se,He,Ke={}){return this.request("PATCH",se,ct(Ke,He))}post(se,He,Ke={}){return this.request("POST",se,ct(Ke,He))}put(se,He,Ke={}){return this.request("PUT",se,ct(Ke,He))}static#e=this.\u0275fac=function(He){return new(He||ge)(_.LFG(q))};static#t=this.\u0275prov=_.Yz7({token:ge,factory:ge.\u0275fac})}return ge})();function Dn(ge,J){return J(ge)}function Rt(ge,J){return(se,He)=>J.intercept(se,{handle:Ke=>ge(Ke,He)})}const Mt=new _.OlP(""),un=new _.OlP(""),mn=new _.OlP("");function sn(){let ge=null;return(J,se)=>{null===ge&&(ge=((0,_.f3M)(Mt,{optional:!0})??[]).reduceRight(Rt,Dn));const He=(0,_.f3M)(_.HDt),Ke=He.add();return ge(J,se).pipe((0,Ie.x)(()=>He.remove(Ke)))}}let Yt=(()=>{class ge extends q{constructor(se,He){super(),this.backend=se,this.injector=He,this.chain=null,this.pendingTasks=(0,_.f3M)(_.HDt)}handle(se){if(null===this.chain){const Ke=Array.from(new Set([...this.injector.get(un),...this.injector.get(mn,[])]));this.chain=Ke.reduceRight((rt,tt)=>function $t(ge,J,se){return(He,Ke)=>se.runInContext(()=>J(He,rt=>ge(rt,Ke)))}(rt,tt,this.injector),Dn)}const He=this.pendingTasks.add();return this.chain(se,Ke=>this.backend.handle(Ke)).pipe((0,Ie.x)(()=>this.pendingTasks.remove(He)))}static#e=this.\u0275fac=function(He){return new(He||ge)(_.LFG(le),_.LFG(_.lqb))};static#t=this.\u0275prov=_.Yz7({token:ge,factory:ge.\u0275fac})}return ge})();const Sn=/^\)\]\}',?\n/;let Xt=(()=>{class ge{constructor(se){this.xhrFactory=se}handle(se){if("JSONP"===se.method)throw new _.vHH(-2800,!1);const He=this.xhrFactory;return(He.\u0275loadImpl?(0,W.D)(He.\u0275loadImpl()):(0,X.of)(null)).pipe((0,ye.w)(()=>new z.y(rt=>{const tt=He.build();if(tt.open(se.method,se.urlWithParams),se.withCredentials&&(tt.withCredentials=!0),se.headers.forEach((kt,Nt)=>tt.setRequestHeader(kt,Nt.join(","))),se.headers.has("Accept")||tt.setRequestHeader("Accept","application/json, text/plain, */*"),!se.headers.has("Content-Type")){const kt=se.detectContentTypeHeader();null!==kt&&tt.setRequestHeader("Content-Type",kt)}if(se.responseType){const kt=se.responseType.toLowerCase();tt.responseType="json"!==kt?kt:"text"}const zt=se.serializeBody();let ne=null;const de=()=>{if(null!==ne)return ne;const kt=tt.statusText||"OK",Nt=new xe(tt.getAllResponseHeaders()),_n=function qn(ge){return"responseURL"in ge&&ge.responseURL?ge.responseURL:/^X-Request-URL:/m.test(ge.getAllResponseHeaders())?ge.getResponseHeader("X-Request-URL"):null}(tt)||se.url;return ne=new hn({headers:Nt,status:tt.status,statusText:kt,url:_n}),ne},Pe=()=>{let{headers:kt,status:Nt,statusText:_n,url:Ar}=de(),Qn=null;204!==Nt&&(Qn=typeof tt.response>"u"?tt.responseText:tt.response),0===Nt&&(Nt=Qn?200:0);let Xr=Nt>=200&&Nt<300;if("json"===se.responseType&&"string"==typeof Qn){const In=Qn;Qn=Qn.replace(Sn,"");try{Qn=""!==Qn?JSON.parse(Qn):null}catch(di){Qn=In,Xr&&(Xr=!1,Qn={error:di,text:Qn})}}Xr?(rt.next(new an({body:Qn,headers:kt,status:Nt,statusText:_n,url:Ar||void 0})),rt.complete()):rt.error(new ut({error:Qn,headers:kt,status:Nt,statusText:_n,url:Ar||void 0}))},Ge=kt=>{const{url:Nt}=de(),_n=new ut({error:kt,status:tt.status||0,statusText:tt.statusText||"Unknown Error",url:Nt||void 0});rt.error(_n)};let pt=!1;const Tt=kt=>{pt||(rt.next(de()),pt=!0);let Nt={type:Dt.DownloadProgress,loaded:kt.loaded};kt.lengthComputable&&(Nt.total=kt.total),"text"===se.responseType&&tt.responseText&&(Nt.partialText=tt.responseText),rt.next(Nt)},Pt=kt=>{let Nt={type:Dt.UploadProgress,loaded:kt.loaded};kt.lengthComputable&&(Nt.total=kt.total),rt.next(Nt)};return tt.addEventListener("load",Pe),tt.addEventListener("error",Ge),tt.addEventListener("timeout",Ge),tt.addEventListener("abort",Ge),se.reportProgress&&(tt.addEventListener("progress",Tt),null!==zt&&tt.upload&&tt.upload.addEventListener("progress",Pt)),tt.send(zt),rt.next({type:Dt.Sent}),()=>{tt.removeEventListener("error",Ge),tt.removeEventListener("abort",Ge),tt.removeEventListener("load",Pe),tt.removeEventListener("timeout",Ge),se.reportProgress&&(tt.removeEventListener("progress",Tt),null!==zt&&tt.upload&&tt.upload.removeEventListener("progress",Pt)),tt.readyState!==tt.DONE&&tt.abort()}})))}static#e=this.\u0275fac=function(He){return new(He||ge)(_.LFG(Z.JF))};static#t=this.\u0275prov=_.Yz7({token:ge,factory:ge.\u0275fac})}return ge})();const Pn=new _.OlP("XSRF_ENABLED"),_t=new _.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Kt=new _.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class mr{}let Bt=(()=>{class ge{constructor(se,He,Ke){this.doc=se,this.platform=He,this.cookieName=Ke,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const se=this.doc.cookie||"";return se!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Z.Mx)(se,this.cookieName),this.lastCookieString=se),this.lastToken}static#e=this.\u0275fac=function(He){return new(He||ge)(_.LFG(Z.K0),_.LFG(_.Lbi),_.LFG(_t))};static#t=this.\u0275prov=_.Yz7({token:ge,factory:ge.\u0275fac})}return ge})();function kn(ge,J){const se=ge.url.toLowerCase();if(!(0,_.f3M)(Pn)||"GET"===ge.method||"HEAD"===ge.method||se.startsWith("http://")||se.startsWith("https://"))return J(ge);const He=(0,_.f3M)(mr).getToken(),Ke=(0,_.f3M)(Kt);return null!=He&&!ge.headers.has(Ke)&&(ge=ge.clone({headers:ge.headers.set(Ke,He)})),J(ge)}var Gn=function(ge){return ge[ge.Interceptors=0]="Interceptors",ge[ge.LegacyInterceptors=1]="LegacyInterceptors",ge[ge.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ge[ge.NoXsrfProtection=3]="NoXsrfProtection",ge[ge.JsonpSupport=4]="JsonpSupport",ge[ge.RequestsMadeViaParent=5]="RequestsMadeViaParent",ge[ge.Fetch=6]="Fetch",ge}(Gn||{});function ir(...ge){const J=[ee,Xt,Yt,{provide:q,useExisting:Yt},{provide:le,useExisting:Xt},{provide:un,useValue:kn,multi:!0},{provide:Pn,useValue:!0},{provide:mr,useClass:Bt}];for(const se of ge)J.push(...se.\u0275providers);return(0,_.MR2)(J)}const Qr=new _.OlP("LEGACY_INTERCEPTOR_FN");function sr(){return function rr(ge,J){return{\u0275kind:ge,\u0275providers:J}}(Gn.LegacyInterceptors,[{provide:Qr,useFactory:sn},{provide:un,useExisting:Qr,multi:!0}])}let V=(()=>{class ge{static#e=this.\u0275fac=function(He){return new(He||ge)};static#t=this.\u0275mod=_.oAB({type:ge});static#n=this.\u0275inj=_.cJS({providers:[ir(sr())]})}return ge})()},5879:(dt,De,P)=>{P.d(De,{$8M:()=>pc,$WT:()=>wi,$Z:()=>S_,AFp:()=>ip,AaK:()=>le,CHM:()=>Yo,CRH:()=>IE,EJc:()=>mb,EpF:()=>yv,F4k:()=>Ev,FYo:()=>hp,FiY:()=>ua,GfV:()=>Kl,Gpc:()=>Xe,HDt:()=>$E,JOm:()=>Mo,KtG:()=>yo,LFG:()=>mt,Lbi:()=>$h,Lck:()=>XD,MMx:()=>Ky,MR2:()=>Od,NdJ:()=>hm,Ojb:()=>yg,OlP:()=>_t,P3R:()=>Nd,PXZ:()=>zb,Q6J:()=>om,QGY:()=>dm,Qsj:()=>Pg,R0b:()=>o,RDi:()=>Ff,Rgc:()=>Cf,SBq:()=>li,Sil:()=>yb,Suo:()=>EE,TTD:()=>Wt,TgZ:()=>Np,VKq:()=>nE,VuI:()=>ST,X6Q:()=>Jb,XFs:()=>St,Xpm:()=>xs,Xq5:()=>ev,Xts:()=>Ts,Y36:()=>Gd,YKP:()=>Gy,YNc:()=>fv,Yjl:()=>Di,Yz7:()=>Mt,Z0I:()=>Yt,ZZ4:()=>Xm,_Bn:()=>zy,_UZ:()=>um,_c5:()=>gT,_uU:()=>Yv,aQg:()=>Jm,c2e:()=>VE,cJS:()=>mn,cg1:()=>ym,dDg:()=>Hb,dqk:()=>Xt,eFA:()=>JE,eJc:()=>Lm,ekj:()=>_m,eoX:()=>YE,f3M:()=>wt,g9A:()=>sp,h0i:()=>Jc,hGG:()=>mT,hij:()=>Lp,iGM:()=>yE,ifc:()=>tt,ip1:()=>HE,jDz:()=>Yy,kL8:()=>_y,lG2:()=>ba,lqb:()=>oo,lri:()=>ZE,n5z:()=>na,oAB:()=>lo,oxw:()=>bv,q4F:()=>fp,qFp:()=>RT,qLn:()=>Ca,qOj:()=>Xg,qZA:()=>Op,rWj:()=>KE,rg0:()=>Te,sBO:()=>eT,s_b:()=>$p,soG:()=>zp,tb:()=>Gm,tp0:()=>Ja,uIk:()=>em,vHH:()=>he,vpe:()=>Oo,wAp:()=>sh,xp6:()=>b_,z2F:()=>lh,zSh:()=>fl,zs3:()=>ao});var _=P(8645),X=P(7394),W=P(5592),z=P(3019),re=P(5619),ie=P(2096),ae=P(3020),Ie=P(4664),ye=P(3997);function Z(e){for(let t in e)if(e[t]===Z)return t;throw Error("Could not find renamed property on target object.")}function q(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function le(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(le).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function xe(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Fe=Z({__forward_ref__:Z});function Xe(e){return e.__forward_ref__=Xe,e.toString=function(){return le(this())},e}function Be(e){return Je(e)?e():e}function Je(e){return"function"==typeof e&&e.hasOwnProperty(Fe)&&e.__forward_ref__===Xe}function Ve(e){return e&&!!e.\u0275providers}const ft="https://g.co/ng/security#xss";class he extends Error{constructor(t,n){super(function O(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function fe(e){return"string"==typeof e?e:null==e?"":String(e)}function Se(e,t){throw new he(-201,!1)}function $e(e,t){null==e&&function qe(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function Mt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function mn(e){return{providers:e.providers||[],imports:e.imports||[]}}function sn(e){return it(e,xn)||it(e,Tr)}function Yt(e){return null!==sn(e)}function it(e,t){return e.hasOwnProperty(t)?e[t]:null}function zn(e){return e&&(e.hasOwnProperty(br)||e.hasOwnProperty(Tn))?e[br]:null}const xn=Z({\u0275prov:Z}),br=Z({\u0275inj:Z}),Tr=Z({ngInjectableDef:Z}),Tn=Z({ngInjectorDef:Z});var St=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(St||{});let Ht;function En(e){const t=Ht;return Ht=e,t}function Sn(e,t,n){const i=sn(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&St.Optional?null:void 0!==t?t:void Se(le(e))}const Xt=globalThis;class _t{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Mt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const sr={},_r="__NG_DI_FLAG__",Sr="ngTempTokenPath",j=/\n/gm,U="__source";let V;function Oe(e){const t=V;return V=e,t}function st(e,t=St.Default){if(void 0===V)throw new he(-203,!1);return null===V?Sn(e,void 0,t):V.get(e,t&St.Optional?null:void 0,t)}function mt(e,t=St.Default){return(function At(){return Ht}()||st)(Be(e),t)}function wt(e,t=St.Default){return mt(e,yt(t))}function yt(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function pn(e){const t=[];for(let n=0;n<e.length;n++){const i=Be(e[n]);if(Array.isArray(i)){if(0===i.length)throw new he(900,!1);let a,d=St.Default;for(let p=0;p<i.length;p++){const y=i[p],D=J(y);"number"==typeof D?-1===D?a=y.token:d|=D:a=y}t.push(mt(a,d))}else t.push(mt(i))}return t}function ge(e,t){return e[_r]=t,e.prototype[_r]=t,e}function J(e){return e[_r]}function Ke(e){return{toString:e}.toString()}var rt=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(rt||{}),tt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(tt||{});const zt={},ne=[],de=Z({\u0275cmp:Z}),Pe=Z({\u0275dir:Z}),Ge=Z({\u0275pipe:Z}),pt=Z({\u0275mod:Z}),Tt=Z({\u0275fac:Z}),Pt=Z({__NG_ELEMENT_ID__:Z}),kt=Z({__NG_ENV_ID__:Z});function Nt(e,t,n){let i=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const d=t.length;if(a+d===i||e.charCodeAt(a+d)<=32)return a}n=a+1}}function _n(e,t,n){let i=0;for(;i<n.length;){const a=n[i];if("number"==typeof a){if(0!==a)break;i++;const d=n[i++],p=n[i++],y=n[i++];e.setAttribute(t,p,y,d)}else{const d=a,p=n[++i];Qn(d)?e.setProperty(t,d,p):e.setAttribute(t,d,p),i++}}return i}function Ar(e){return 3===e||4===e||6===e}function Qn(e){return 64===e.charCodeAt(0)}function Xr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const a=t[i];"number"==typeof a?n=a:0===n||In(e,n,a,null,-1===n||2===n?t[++i]:null)}}return e}function In(e,t,n,i,a){let d=0,p=e.length;if(-1===t)p=-1;else for(;d<e.length;){const y=e[d++];if("number"==typeof y){if(y===t){p=-1;break}if(y>t){p=d-1;break}}}for(;d<e.length;){const y=e[d];if("number"==typeof y)break;if(y===n){if(null===i)return void(null!==a&&(e[d+1]=a));if(i===e[d+1])return void(e[d+2]=a)}d++,null!==i&&d++,null!==a&&d++}-1!==p&&(e.splice(p,0,t),d=p+1),e.splice(d++,0,n),null!==i&&e.splice(d++,0,i),null!==a&&e.splice(d++,0,a)}const di="ng-template";function Gi(e,t,n){let i=0,a=!0;for(;i<e.length;){let d=e[i++];if("string"==typeof d&&a){const p=e[i++];if(n&&"class"===d&&-1!==Nt(p.toLowerCase(),t,0))return!0}else{if(1===d){for(;i<e.length&&"string"==typeof(d=e[i++]);)if(d.toLowerCase()===t)return!0;return!1}"number"==typeof d&&(a=!1)}}return!1}function Ms(e){return 4===e.type&&e.value!==di}function Ps(e,t,n){return t===(4!==e.type||n?e.value:di)}function Ns(e,t,n){let i=4;const a=e.attrs||[],d=function hi(e){for(let t=0;t<e.length;t++)if(Ar(e[t]))return t;return e.length}(a);let p=!1;for(let y=0;y<t.length;y++){const D=t[y];if("number"!=typeof D){if(!p)if(4&i){if(i=2|1&i,""!==D&&!Ps(e,D,n)||""===D&&1===t.length){if(lr(i))return!1;p=!0}}else{const R=8&i?D:t[++y];if(8&i&&null!==e.attrs){if(!Gi(e.attrs,R,n)){if(lr(i))return!1;p=!0}continue}const G=Zi(8&i?"class":D,a,Ms(e),n);if(-1===G){if(lr(i))return!1;p=!0;continue}if(""!==R){let ue;ue=G>d?"":a[G+1].toLowerCase();const ve=8&i?ue:null;if(ve&&-1!==Nt(ve,R,0)||2&i&&R!==ue){if(lr(i))return!1;p=!0}}}}else{if(!p&&!lr(i)&&!lr(D))return!1;if(p&&lr(D))continue;p=!1,i=D|1&i}}return lr(i)||p}function lr(e){return 0==(1&e)}function Zi(e,t,n,i){if(null===t)return-1;let a=0;if(i||!n){let d=!1;for(;a<t.length;){const p=t[a];if(p===e)return a;if(3===p||6===p)d=!0;else{if(1===p||2===p){let y=t[++a];for(;"string"==typeof y;)y=t[++a];continue}if(4===p)break;if(0===p){a+=4;continue}}a+=d?1:2}return-1}return function Os(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Wr(e,t,n=!1){for(let i=0;i<t.length;i++)if(Ns(e,t[i],n))return!0;return!1}function Xn(e,t){return e?":not("+t.trim()+")":t}function Ki(e){let t=e[0],n=1,i=2,a="",d=!1;for(;n<e.length;){let p=e[n];if("string"==typeof p)if(2&i){const y=e[++n];a+="["+p+(y.length>0?'="'+y+'"':"")+"]"}else 8&i?a+="."+p:4&i&&(a+=" "+p);else""!==a&&!lr(p)&&(t+=Xn(d,a),a=""),i=p,d=d||!lr(i);n++}return""!==a&&(t+=Xn(d,a)),t}function xs(e){return Ke(()=>{const t=ks(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===rt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||tt.Emulated,styles:e.styles||ne,_:null,schemas:e.schemas||null,tView:null,id:""};co(n);const i=e.dependencies;return n.directiveDefs=bi(i,!1),n.pipeDefs=bi(i,!0),n.id=function fi(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of n)t=Math.imul(31,t)+a.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Au(e){return Gt(e)||Zn(e)}function zr(e){return null!==e}function lo(e){return Ke(()=>({type:e.type,bootstrap:e.bootstrap||ne,declarations:e.declarations||ne,imports:e.imports||ne,exports:e.exports||ne,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Lo(e,t){if(null==e)return zt;const n={};for(const i in e)if(e.hasOwnProperty(i)){let a=e[i],d=a;Array.isArray(a)&&(d=a[1],a=a[0]),n[a]=i,t&&(t[a]=d)}return n}function ba(e){return Ke(()=>{const t=ks(e);return co(t),t})}function Di(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Gt(e){return e[de]||null}function Zn(e){return e[Pe]||null}function Rr(e){return e[Ge]||null}function wi(e){const t=Gt(e)||Zn(e)||Rr(e);return null!==t&&t.standalone}function cr(e,t){const n=e[pt]||null;if(!n&&!0===t)throw new Error(`Type ${le(e)} does not have '\u0275mod' property.`);return n}function ks(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||zt,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||ne,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Lo(e.inputs,t),outputs:Lo(e.outputs)}}function co(e){e.features?.forEach(t=>t(e))}function bi(e,t){if(!e)return null;const n=t?Rr:Au;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(zr)}const Nn=0,lt=1,Zt=2,gn=3,Cr=4,fs=5,or=6,pi=7,Un=8,Gr=9,Ni=10,Lt=11,Yi=12,Ls=13,Lr=14,wn=15,Fs=16,Ti=17,er=18,Us=19,Bs=20,Si=21,ei=22,qi=23,Qi=24,en=25,Fo=1,ti=2,Oi=7,gi=9,Kn=11;function Vn(e){return Array.isArray(e)&&"object"==typeof e[Fo]}function rn(e){return Array.isArray(e)&&!0===e[Fo]}function js(e){return 0!=(4&e.flags)}function Zr(e){return e.componentOffset>-1}function Bo(e){return 1==(1&e.flags)}function ni(e){return!!e.template}function ki(e){return 0!=(512&e[Zt])}function mi(e,t){return e.hasOwnProperty(Tt)?e[Tt]:null}let ur=null,Li=!1;function Dr(e){const t=ur;return ur=e,t}const Hs={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function po(e){if(!vi(e)||e.dirty){if(!e.producerMustRecompute(e)&&!go(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function _i(e){e.dirty=!0,function ri(e){if(void 0===e.liveConsumerNode)return;const t=Li;Li=!0;try{for(const n of e.liveConsumerNode)n.dirty||_i(n)}finally{Li=t}}(e),e.consumerMarkedDirty?.(e)}function si(e){return e&&(e.nextProducerIndex=0),Dr(e)}function Vs(e,t){if(Dr(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(vi(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)mo(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function go(e){Hn(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(po(n),i!==n.version))return!0}return!1}function $s(e){if(Hn(e),vi(e))for(let t=0;t<e.producerNode.length;t++)mo(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function mo(e,t){if(function Fi(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Hn(e),1===e.liveConsumerNode.length)for(let i=0;i<e.producerNode.length;i++)mo(e.producerNode[i],e.producerIndexOfThis[i]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const i=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];Hn(a),a.producerIndexOfThis[i]=t}}function vi(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Hn(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Ui=null;function Te(e){const t=Dr(null);try{return e()}finally{Dr(t)}}const bt=()=>{},vn=(()=>({...Hs,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:bt}))();class fn{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Wt(){return $n}function $n(e){return e.type.prototype.ngOnChanges&&(e.setInput=Rn),bn}function bn(){const e=dr(this),t=e?.current;if(t){const n=e.previous;if(n===zt)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function Rn(e,t,n,i){const a=this.declaredInputs[n],d=dr(e)||function ji(e,t){return e[Ur]=t}(e,{previous:zt,current:null}),p=d.current||(d.current={}),y=d.previous,D=y[a];p[a]=new fn(D&&D.currentValue,t,y===zt),e[i]=t}Wt.ngInherit=!0;const Ur="__ngSimpleChanges__";function dr(e){return e[Ur]||null}const hr=function(e,t,n){};function Fn(e){for(;Array.isArray(e);)e=e[Nn];return e}function zo(e,t){return Fn(t[e])}function vr(e,t){return Fn(t[e.index])}function Lu(e,t){return e.data[t]}function Bn(e,t){const n=t[e];return Vn(n)?n:n[Nn]}function Gs(e,t){return null==t?null:e[t]}function Zo(e){e[Ti]=0}function _s(e){1024&e[Zt]||(e[Zt]|=1024,tc(e,1))}function Bu(e){1024&e[Zt]&&(e[Zt]&=-1025,tc(e,-1))}function tc(e,t){let n=e[gn];if(null===n)return;n[fs]+=t;let i=n;for(n=n[gn];null!==n&&(1===t&&1===i[fs]||-1===t&&0===i[fs]);)n[fs]+=t,i=n,n=n[gn]}const jt={lFrame:F(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ko(){return jt.bindingsEnabled}function We(){return jt.lFrame.lView}function Jt(){return jt.lFrame.tView}function Yo(e){return jt.lFrame.contextLView=e,e[Un]}function yo(e){return jt.lFrame.contextLView=null,e}function tr(){let e=ic();for(;null!==e&&64===e.type;)e=e.parent;return e}function ic(){return jt.lFrame.currentTNode}function Ji(e,t){const n=jt.lFrame;n.currentTNode=e,n.isParent=t}function Eo(){return jt.lFrame.isParent}function vs(){return jt.lFrame.bindingIndex++}function Wu(e,t){const n=jt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ys(t)}function Ys(e){jt.lFrame.currentDirectiveIndex=e}function Fa(){return jt.lFrame.currentQueryIndex}function v(e){jt.lFrame.currentQueryIndex=e}function C(e){const t=e[lt];return 2===t.type?t.declTNode:1===t.type?e[or]:null}function m(e,t,n){if(n&St.SkipSelf){let a=t,d=e;for(;!(a=a.parent,null!==a||n&St.Host||(a=C(d),null===a||(d=d[Lr],10&a.type))););if(null===a)return!1;t=a,e=d}const i=jt.lFrame=S();return i.currentTNode=t,i.lView=e,!0}function w(e){const t=S(),n=e[lt];jt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function S(){const e=jt.lFrame,t=null===e?null:e.child;return null===t?F(e):t}function F(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function K(){const e=jt.lFrame;return jt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const we=K;function Ce(){const e=K();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ot(){return jt.lFrame.selectedIndex}function on(e){jt.lFrame.selectedIndex=e}function Cn(){const e=jt.lFrame;return Lu(e.tView,e.selectedIndex)}let qs=!0;function Ua(){return qs}function $i(e){qs=e}function Xo(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const d=e.data[n].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:y,ngAfterViewInit:D,ngAfterViewChecked:R,ngOnDestroy:L}=d;p&&(e.contentHooks??=[]).push(-n,p),y&&((e.contentHooks??=[]).push(n,y),(e.contentCheckHooks??=[]).push(n,y)),D&&(e.viewHooks??=[]).push(-n,D),R&&((e.viewHooks??=[]).push(n,R),(e.viewCheckHooks??=[]).push(n,R)),null!=L&&(e.destroyHooks??=[]).push(n,L)}}function Sl(e,t,n){Ku(e,t,3,n)}function Ba(e,t,n,i){(3&e[Zt])===n&&Ku(e,t,n,i)}function sc(e,t){let n=e[Zt];(3&n)===t&&(n&=8191,n+=1,e[Zt]=n)}function Ku(e,t,n,i){const d=i??-1,p=t.length-1;let y=0;for(let D=void 0!==i?65535&e[Ti]:0;D<p;D++)if("number"==typeof t[D+1]){if(y=t[D],null!=i&&y>=i)break}else t[D]<0&&(e[Ti]+=65536),(y<d||-1==d)&&(cn(e,n,t,D),e[Ti]=(4294901760&e[Ti])+D+2),D++}function Do(e,t){hr(4,e,t);const n=Dr(null);try{t.call(e)}finally{Dr(n),hr(5,e,t)}}function cn(e,t,n,i){const a=n[i]<0,d=n[i+1],y=e[a?-n[i]:n[i]];a?e[Zt]>>13<e[Ti]>>16&&(3&e[Zt])===t&&(e[Zt]+=8192,Do(y,d)):Do(y,d)}const Wi=-1;class ys{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Jo(e){return e!==Wi}function ja(e){return 32767&e}function Ha(e,t){let n=function sd(e){return e>>16}(e),i=t;for(;n>0;)i=i[Lr],n--;return i}let Va=!0;function Qs(e){const t=Va;return Va=e,t}const uc=255,Al=5;let lc=0;const Is={};function Rl(e,t){const n=ea(e,t);if(-1!==n)return n;const i=t[lt];i.firstCreatePass&&(e.injectorIndex=t.length,cc(i.data,e),cc(t,null),cc(i.blueprint,null));const a=wo(e,t),d=e.injectorIndex;if(Jo(a)){const p=ja(a),y=Ha(a,t),D=y[lt].data;for(let R=0;R<8;R++)t[d+R]=y[p+R]|D[p+R]}return t[d+8]=a,d}function cc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ea(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function wo(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,a=t;for(;null!==a;){if(i=ra(a),null===i)return Wi;if(n++,a=a[Lr],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Wi}function Cs(e,t,n){!function On(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Pt)&&(i=n[Pt]),null==i&&(i=n[Pt]=lc++);const a=i&uc;t.data[e+(a>>Al)]|=1<<a}(e,t,n)}function bo(e,t,n){if(n&St.Optional||void 0!==e)return e;Se()}function qt(e,t,n,i){if(n&St.Optional&&void 0===i&&(i=null),!(n&(St.Self|St.Host))){const a=e[Gr],d=En(void 0);try{return a?a.get(t,i,n&St.Optional):Sn(t,i,n&St.Optional)}finally{En(d)}}return bo(i,0,n)}function dc(e,t,n,i=St.Default,a){if(null!==e){if(2048&t[Zt]&&!(i&St.Self)){const p=function od(e,t,n,i,a){let d=e,p=t;for(;null!==d&&null!==p&&2048&p[Zt]&&!(512&p[Zt]);){const y=$a(d,p,n,i|St.Self,Is);if(y!==Is)return y;let D=d.parent;if(!D){const R=p[Bs];if(R){const L=R.get(n,Is,i);if(L!==Is)return L}D=ra(p),p=p[Lr]}d=D}return a}(e,t,n,i,Is);if(p!==Is)return p}const d=$a(e,t,n,i,Is);if(d!==Is)return d}return qt(t,n,i,a)}function $a(e,t,n,i,a){const d=function fh(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Pt)?e[Pt]:void 0;return"number"==typeof t?t>=0?t&uc:fc:t}(n);if("function"==typeof d){if(!m(t,e,i))return i&St.Host?bo(a,0,i):qt(t,n,i,a);try{let p;if(p=d(i),null!=p||i&St.Optional)return p;Se()}finally{we()}}else if("number"==typeof d){let p=null,y=ea(e,t),D=Wi,R=i&St.Host?t[wn][or]:null;for((-1===y||i&St.SkipSelf)&&(D=-1===y?wo(e,t):t[y+8],D!==Wi&&hc(i,!1)?(p=t[lt],y=ja(D),t=Ha(D,t)):y=-1);-1!==y;){const L=t[lt];if(Wa(d,y,L.data)){const G=hh(y,t,n,p,i,R);if(G!==Is)return G}D=t[y+8],D!==Wi&&hc(i,t[lt].data[y+8]===R)&&Wa(d,y,t)?(p=L,y=ja(D),t=Ha(D,t)):y=-1}}return a}function hh(e,t,n,i,a,d){const p=t[lt],y=p.data[e+8],L=jn(y,p,n,null==i?Zr(y)&&Va:i!=p&&0!=(3&y.type),a&St.Host&&d===y);return null!==L?Js(t,p,L,y):Is}function jn(e,t,n,i,a){const d=e.providerIndexes,p=t.data,y=1048575&d,D=e.directiveStart,L=d>>20,ue=a?y+L:e.directiveEnd;for(let ve=i?y:y+L;ve<ue;ve++){const Ue=p[ve];if(ve<D&&n===Ue||ve>=D&&Ue.type===n)return ve}if(a){const ve=p[D];if(ve&&ni(ve)&&ve.type===n)return D}return null}function Js(e,t,n,i){let a=e[n];const d=t.data;if(function rd(e){return e instanceof ys}(a)){const p=a;p.resolving&&function Ne(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new he(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Le(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():fe(e)}(d[n]));const y=Qs(p.canSeeViewProviders);p.resolving=!0;const R=p.injectImpl?En(p.injectImpl):null;m(e,i,St.Default);try{a=e[n]=p.factory(void 0,d,e,i),t.firstCreatePass&&n>=i.directiveStart&&function dh(e,t,n){const{ngOnChanges:i,ngOnInit:a,ngDoCheck:d}=t.type.prototype;if(i){const p=$n(t);(n.preOrderHooks??=[]).push(e,p),(n.preOrderCheckHooks??=[]).push(e,p)}a&&(n.preOrderHooks??=[]).push(0-e,a),d&&((n.preOrderHooks??=[]).push(e,d),(n.preOrderCheckHooks??=[]).push(e,d))}(n,d[n],t)}finally{null!==R&&En(R),Qs(y),p.resolving=!1,we()}}return a}function Wa(e,t,n){return!!(n[t+(e>>Al)]&1<<e)}function hc(e,t){return!(e&St.Self||e&St.Host&&t)}class wr{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return dc(this._tNode,this._lView,t,yt(i),n)}}function fc(){return new wr(tr(),We())}function na(e){return Ke(()=>{const t=e.prototype.constructor,n=t[Tt]||eo(t),i=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==i;){const d=a[Tt]||eo(a);if(d&&d!==n)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function eo(e){return Je(e)?()=>{const t=eo(Be(e));return t&&t()}:mi(e)}function ra(e){const t=e[lt],n=t.type;return 2===n?t.declTNode:1===n?e[or]:null}function pc(e){return function Xs(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let a=0;for(;a<i;){const d=n[a];if(Ar(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<i&&"string"==typeof n[a];)a++;else{if(d===t)return n[a+1];a+=2}}}return null}(tr(),e)}const sa="__parameters__";function To(e,t,n){return Ke(()=>{const i=function za(e){return function(...n){if(e){const i=e(...n);for(const a in i)this[a]=i[a]}}}(t);function a(...d){if(this instanceof a)return i.apply(this,d),this;const p=new a(...d);return y.annotation=p,y;function y(D,R,L){const G=D.hasOwnProperty(sa)?D[sa]:Object.defineProperty(D,sa,{value:[]})[sa];for(;G.length<=L;)G.push(null);return(G[L]=G[L]||[]).push(p),D}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}function So(e,t){e.forEach(n=>Array.isArray(n)?So(n,t):t(n))}function Za(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ka(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Mi(e,t,n){let i=ws(e,t);return i>=0?e[1|i]=n:(i=~i,function qa(e,t,n,i){let a=e.length;if(a==t)e.push(n,i);else if(1===a)e.push(i,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function _c(e,t){const n=ws(e,t);if(n>=0)return e[1|n]}function ws(e,t){return function cd(e,t,n){let i=0,a=e.length>>n;for(;a!==i;){const d=i+(a-i>>1),p=e[d<<n];if(t===p)return d<<n;p>t?a=d:i=d+1}return~(a<<n)}(e,t,1)}const ua=ge(To("Optional"),8),Ja=ge(To("SkipSelf"),4);function rl(e){return 128==(128&e.flags)}var Mo=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Mo||{});const wc=new Map;let bh=0;const da="__ngContext__";function Hr(e,t){Vn(t)?(e[da]=t[Us],function Tc(e){wc.set(e[Us],e)}(t)):e[da]=t}let ha;function qr(e,t){return ha(e,t)}function fa(e){const t=e[gn];return rn(t)?t[gn]:t}function uu(e){return pa(e[Yi])}function bs(e){return pa(e[Cr])}function pa(e){for(;null!==e&&!rn(e);)e=e[Cr];return e}function lu(e,t,n,i,a){if(null!=i){let d,p=!1;rn(i)?d=i:Vn(i)&&(p=!0,i=i[Nn]);const y=Fn(i);0===e&&null!==n?null==a?ul(t,n,y):pr(t,n,y,a||null,!0):1===e&&null!==n?pr(t,n,y,a||null,!0):2===e?function jl(e,t,n){const i=ga(e,t);i&&function Oc(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,y,p):3===e&&t.destroyNode(y),null!=d&&function Uc(e,t,n,i,a){const d=n[Oi];d!==Fn(n)&&lu(t,e,i,d,a);for(let y=Kn;y<n.length;y++){const D=n[y];hu(D[lt],D,e,t,i,d)}}(t,e,d,n,a)}}function al(e,t,n){return e.createElement(t,n)}function k(e,t){const n=e[gi],i=n.indexOf(t);Bu(t),n.splice(i,1)}function Q(e,t){if(e.length<=Kn)return;const n=Kn+t,i=e[n];if(i){const a=i[Fs];null!==a&&a!==e&&k(a,i),t>0&&(e[n-1][Cr]=i[Cr]);const d=Ka(e,Kn+t);!function Ah(e,t){hu(e,t,t[Lt],2,null,null),t[Nn]=null,t[or]=null}(i[lt],i);const p=d[er];null!==p&&p.detachView(d[lt]),i[gn]=null,i[Cr]=null,i[Zt]&=-129}return i}function pe(e,t){if(!(256&t[Zt])){const n=t[Lt];t[qi]&&$s(t[qi]),t[Qi]&&$s(t[Qi]),n.destroyNode&&hu(e,t,n,3,null,null),function c(e){let t=e[Yi];if(!t)return ke(e[lt],e);for(;t;){let n=null;if(Vn(t))n=t[Yi];else{const i=t[Kn];i&&(n=i)}if(!n){for(;t&&!t[Cr]&&t!==e;)Vn(t)&&ke(t[lt],t),t=t[gn];null===t&&(t=e),Vn(t)&&ke(t[lt],t),n=t&&t[Cr]}t=n}}(t)}}function ke(e,t){if(!(256&t[Zt])){t[Zt]&=-129,t[Zt]|=256,function It(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const a=t[n[i]];if(!(a instanceof ys)){const d=n[i+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){const y=a[d[p]],D=d[p+1];hr(4,y,D);try{D.call(y)}finally{hr(5,y,D)}}else{hr(4,a,d);try{d.call(a)}finally{hr(5,a,d)}}}}}(e,t),function ot(e,t){const n=e.cleanup,i=t[pi];if(null!==n)for(let d=0;d<n.length-1;d+=2)if("string"==typeof n[d]){const p=n[d+3];p>=0?i[p]():i[-p].unsubscribe(),d+=2}else n[d].call(i[n[d+1]]);null!==i&&(t[pi]=null);const a=t[Si];if(null!==a){t[Si]=null;for(let d=0;d<a.length;d++)(0,a[d])()}}(e,t),1===t[lt].type&&t[Lt].destroy();const n=t[Fs];if(null!==n&&rn(t[gn])){n!==t[gn]&&k(n,t);const i=t[er];null!==i&&i.detachView(e)}!function Sc(e){wc.delete(e[Us])}(t)}}function Et(e,t,n){return function Jn(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[Nn];{const{componentOffset:a}=i;if(a>-1){const{encapsulation:d}=e.data[i.directiveStart+a];if(d===tt.None||d===tt.Emulated)return null}return vr(i,n)}}(e,t.parent,n)}function pr(e,t,n,i,a){e.insertBefore(t,n,i,a)}function ul(e,t,n){e.appendChild(t,n)}function Nc(e,t,n,i,a){null!==i?pr(e,t,n,i,a):ul(e,t,n)}function ga(e,t){return e.parentNode(t)}let ll,Nh,pu,Ul=function Lc(e,t,n){return 40&e.type?vr(e,n):null};function No(e,t,n,i){const a=Et(e,i,t),d=t[Lt],y=function Fl(e,t,n){return Ul(e,t,n)}(i.parent||t[or],i,t);if(null!=a)if(Array.isArray(n))for(let D=0;D<n.length;D++)Nc(d,a,n[D],y,!1);else Nc(d,a,n,y,!1);void 0!==ll&&ll(d,i,t,n,a)}function ma(e,t){if(null!==t){const n=t.type;if(3&n)return vr(t,e);if(4&n)return _a(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return ma(e,i);{const a=e[t.index];return rn(a)?_a(-1,a):Fn(a)}}if(32&n)return qr(t,e)()||Fn(e[t.index]);{const i=Fc(e,t);return null!==i?Array.isArray(i)?i[0]:ma(fa(e[wn]),i):ma(e,t.next)}}return null}function Fc(e,t){return null!==t?e[wn][or].projection[t.projection]:null}function _a(e,t){const n=Kn+e+1;if(n<t.length){const i=t[n],a=i[lt].firstChild;if(null!==a)return ma(i,a)}return t[Oi]}function Mh(e,t,n,i,a,d,p){for(;null!=n;){const y=i[n.index],D=n.type;if(p&&0===t&&(y&&Hr(Fn(y),i),n.flags|=2),32!=(32&n.flags))if(8&D)Mh(e,t,n.child,i,a,d,!1),lu(t,e,a,y,d);else if(32&D){const R=qr(n,i);let L;for(;L=R();)lu(t,e,a,L,d);lu(t,e,a,y,d)}else 16&D?xf(e,t,i,n,a,d):lu(t,e,a,y,d);n=p?n.projectionNext:n.next}}function hu(e,t,n,i,a,d){Mh(n,i,e.firstChild,t,a,d,!1)}function xf(e,t,n,i,a,d){const p=n[wn],D=p[or].projection[i.projection];if(Array.isArray(D))for(let R=0;R<D.length;R++)lu(t,e,a,D[R],d);else{let R=D;const L=p[gn];rl(i)&&(R.flags|=128),Mh(e,t,R,L,a,d,!0)}}function kf(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Lf(e,t,n){const{mergedAttrs:i,classes:a,styles:d}=n;null!==i&&_n(e,t,i),null!==a&&kf(e,t,a),null!==d&&function Xp(e,t,n){e.setAttribute(t,"style",n)}(e,t,d)}function Ff(e){Nh=e}function Oh(e){return function dl(){if(void 0===pu&&(pu=null,Xt.trustedTypes))try{pu=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return pu}()?.createScriptURL(e)||e}class Bf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}function ya(e){return e instanceof Bf?e.changingThisBreaksApplicationSecurity:e}function Hc(e,t){const n=function tg(e){return e instanceof Bf&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${ft})`)}return n===t}const kh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var mu=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(mu||{});function Pd(e){const t=_u();return t?t.sanitize(mu.URL,e)||"":Hc(e,"URL")?ya(e):function Lh(e){return(e=String(e)).match(kh)?e:"unsafe:"+e}(fe(e))}function Zf(e){const t=_u();if(t)return Oh(t.sanitize(mu.RESOURCE_URL,e)||"");if(Hc(e,"ResourceURL"))return Oh(ya(e));throw new he(904,!1)}function Nd(e,t,n){return function qf(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Zf:Pd}(t,n)(e)}function _u(){const e=We();return e&&e[Ni].sanitizer}const Ts=new _t("ENVIRONMENT_INITIALIZER"),Wc=new _t("INJECTOR",-1),us=new _t("INJECTOR_DEF_TYPES");class Ia{get(t,n=sr){if(n===sr){const i=new Error(`NullInjectorError: No provider for ${le(t)}!`);throw i.name="NullInjectorError",i}return n}}function Od(e){return{\u0275providers:e}}function Qf(...e){return{\u0275providers:vu(0,e),\u0275fromNgModule:!0}}function vu(e,...t){const n=[],i=new Set;let a;const d=p=>{n.push(p)};return So(t,p=>{const y=p;xd(y,d,[],i)&&(a||=[],a.push(y))}),void 0!==a&&fg(a,d),n}function fg(e,t){for(let n=0;n<e.length;n++){const{ngModule:i,providers:a}=e[n];zc(a,d=>{t(d,i)})}}function xd(e,t,n,i){if(!(e=Be(e)))return!1;let a=null,d=zn(e);const p=!d&&Gt(e);if(d||p){if(p&&!p.standalone)return!1;a=e}else{const D=e.ngModule;if(d=zn(D),!d)return!1;a=D}const y=i.has(a);if(p){if(y)return!1;if(i.add(a),p.dependencies){const D="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const R of D)xd(R,t,n,i)}}else{if(!d)return!1;{if(null!=d.imports&&!y){let R;i.add(a);try{So(d.imports,L=>{xd(L,t,n,i)&&(R||=[],R.push(L))})}finally{}void 0!==R&&fg(R,t)}if(!y){const R=mi(a)||(()=>new a);t({provide:a,useFactory:R,deps:ne},a),t({provide:us,useValue:a,multi:!0},a),t({provide:Ts,useValue:()=>mt(a),multi:!0},a)}const D=d.providers;if(null!=D&&!y){const R=e;zc(D,L=>{t(L,R)})}}}return a!==e&&void 0!==e.providers}function zc(e,t){for(let n of e)Ve(n)&&(n=n.\u0275providers),Array.isArray(n)?zc(n,t):t(n)}const pg=Z({provide:String,useValue:Z});function Hh(e){return null!==e&&"object"==typeof e&&pg in e}function so(e){return"function"==typeof e}const fl=new _t("Set Injector scope."),zl={},ep={};let Ld;function Gc(){return void 0===Ld&&(Ld=new Ia),Ld}class oo{}class pl extends oo{get destroyed(){return this._destroyed}constructor(t,n,i,a){super(),this.parent=n,this.source=i,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vh(t,p=>this.processProvider(p)),this.records.set(Wc,Gl(void 0,this)),a.has("environment")&&this.records.set(oo,Gl(void 0,this));const d=this.records.get(fl);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(us.multi,ne,St.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Oe(this),i=En(void 0);try{return t()}finally{Oe(n),En(i)}}get(t,n=sr,i=St.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(kt))return t[kt](this);i=yt(i);const d=Oe(this),p=En(void 0);try{if(!(i&St.SkipSelf)){let D=this.records.get(t);if(void 0===D){const R=function _g(e){return"function"==typeof e||"object"==typeof e&&e instanceof _t}(t)&&sn(t);D=R&&this.injectableDefInScope(R)?Gl(ls(t),zl):null,this.records.set(t,D)}if(null!=D)return this.hydrate(t,D)}return(i&St.Self?Gc():this.parent).get(t,n=i&St.Optional&&n===sr?null:n)}catch(y){if("NullInjectorError"===y.name){if((y[Sr]=y[Sr]||[]).unshift(le(t)),d)throw y;return function se(e,t,n,i){const a=e[Sr];throw t[U]&&a.unshift(t[U]),e.message=function He(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=le(t);if(Array.isArray(t))a=t.map(le).join(" -> ");else if("object"==typeof t){let d=[];for(let p in t)if(t.hasOwnProperty(p)){let y=t[p];d.push(p+":"+("string"==typeof y?JSON.stringify(y):le(y)))}a=`{${d.join(", ")}}`}return`${n}${i?"("+i+")":""}[${a}]: ${e.replace(j,"\n  ")}`}("\n"+e.message,a,n,i),e.ngTokenPath=a,e[Sr]=null,e}(y,t,"R3InjectorError",this.source)}throw y}finally{En(p),Oe(d)}}resolveInjectorInitializers(){const t=Oe(this),n=En(void 0);try{const a=this.get(Ts.multi,ne,St.Self);for(const d of a)d()}finally{Oe(t),En(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(le(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(t){let n=so(t=Be(t))?t:Be(t&&t.provide);const i=function gg(e){return Hh(e)?Gl(void 0,e.useValue):Gl(np(e),zl)}(t);if(so(t)||!0!==t.multi)this.records.get(n);else{let a=this.records.get(n);a||(a=Gl(void 0,zl,!0),a.factory=()=>pn(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===zl&&(n.value=ep,n.value=n.factory()),"object"==typeof n.value&&n.value&&function mg(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Be(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ls(e){const t=sn(e),n=null!==t?t.factory:mi(e);if(null!==n)return n;if(e instanceof _t)throw new he(204,!1);if(e instanceof Function)return function tp(e){const t=e.length;if(t>0)throw function Ao(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}(t,"?"),new he(204,!1);const n=function nn(e){return e&&(e[xn]||e[Tr])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new he(204,!1)}function np(e,t,n){let i;if(so(e)){const a=Be(e);return mi(a)||ls(a)}if(Hh(e))i=()=>Be(e.useValue);else if(function Jf(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...pn(e.deps||[]));else if(function Xf(e){return!(!e||!e.useExisting)}(e))i=()=>mt(Be(e.useExisting));else{const a=Be(e&&(e.useClass||e.provide));if(!function rp(e){return!!e.deps}(e))return mi(a)||ls(a);i=()=>new a(...pn(e.deps))}return i}function Gl(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Vh(e,t){for(const n of e)Array.isArray(n)?Vh(n,t):n&&Ve(n)?Vh(n.\u0275providers,t):t(n)}const ip=new _t("AppId",{providedIn:"root",factory:()=>vg}),vg="ng",sp=new _t("Platform Initializer"),$h=new _t("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yg=new _t("CSP nonce",{providedIn:"root",factory:()=>function fu(){if(void 0!==Nh)return Nh;if(typeof document<"u")return document;throw new he(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Dg=(e,t,n)=>null;function Yh(e,t,n=!1){return Dg(e,t,n)}class Rg{}class lp{}class Mg{resolveComponentFactory(t){throw function cp(e){const t=Error(`No component factory found for ${le(e)}.`);return t.ngComponent=e,t}(t)}}let $d=(()=>{class e{static#e=this.NULL=new Mg}return e})();function Eu(){return Ir(tr(),We())}function Ir(e,t){return new li(vr(e,t))}let li=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=Eu}return e})();function Yc(e){return e instanceof li?e.nativeElement:e}class hp{}let Pg=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Ng(){const e=We(),n=Bn(tr().index,e);return(Vn(n)?n:e)[Lt]}()}return e})(),Og=(()=>{class e{static#e=this.\u0275prov=Mt({token:e,providedIn:"root",factory:()=>null})}return e})();class Kl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const fp=new Kl("16.2.12"),Qh={};function vp(e,t=null,n=null,i){const a=ef(e,t,n,i);return a.resolveInjectorInitializers(),a}function ef(e,t=null,n=null,i,a=new Set){const d=[n||ne,Qf(e)];return i=i||("object"==typeof e?void 0:le(e)),new pl(d,t||Gc(),i||null,a)}let ao=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=sr;static#t=this.NULL=new Ia;static create(n,i){if(Array.isArray(n))return vp({name:""},i,n,"");{const a=n.name??"";return vp({name:a},n.parent,n.providers,a)}}static#n=this.\u0275prov=Mt({token:e,providedIn:"any",factory:()=>mt(Wc)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function tf(e){return e.ngOriginalError}class Ca{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&tf(t);for(;n&&tf(n);)n=tf(n);return n||null}}function rf(e){return t=>{setTimeout(e,void 0,t)}}const Oo=class Bg extends _.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let a=t,d=n||(()=>null),p=i;if(t&&"object"==typeof t){const D=t;a=D.next?.bind(D),d=D.error?.bind(D),p=D.complete?.bind(D)}this.__isAsync&&(d=rf(d),a&&(a=rf(a)),p&&(p=rf(p)));const y=super.subscribe({next:a,error:d,complete:p});return t instanceof X.w0&&t.add(y),y}};function Ep(...e){}class o{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oo(!1),this.onMicrotaskEmpty=new Oo(!1),this.onStable=new Oo(!1),this.onError=new Oo(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&n,a.shouldCoalesceRunChangeDetection=i,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function jg(){const e="function"==typeof Xt.requestAnimationFrame;let t=Xt[e?"requestAnimationFrame":"setTimeout"],n=Xt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function h(e){const t=()=>{!function l(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Xt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,E(e),e.isCheckStableRunning=!0,s(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),E(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,a,d,p,y)=>{if(function be(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(y))return n.invokeTask(a,d,p,y);try{return b(e),n.invokeTask(a,d,p,y)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&t(),N(e)}},onInvoke:(n,i,a,d,p,y,D)=>{try{return b(e),n.invoke(a,d,p,y,D)}finally{e.shouldCoalesceRunChangeDetection&&t(),N(e)}},onHasTask:(n,i,a,d)=>{n.hasTask(a,d),i===a&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,E(e),s(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(n,i,a,d)=>(n.handleError(a,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!o.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(o.isInAngularZone())throw new he(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,a){const d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+a,t,r,Ep,Ep);try{return d.runTask(p,n,i)}finally{d.cancelTask(p)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const r={};function s(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function E(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function b(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function N(e){e._nesting--,s(e)}class B{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oo,this.onMicrotaskEmpty=new Oo,this.onStable=new Oo,this.onError=new Oo}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,a){return t.apply(n,i)}}const $=new _t("",{providedIn:"root",factory:_e});function _e(){const e=wt(o);let t=!0;const n=new W.y(a=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{a.next(t),a.complete()})}),i=new W.y(a=>{let d;e.runOutsideAngular(()=>{d=e.onStable.subscribe(()=>{o.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,a.next(!0))})})});const p=e.onUnstable.subscribe(()=>{o.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{a.next(!1)}))});return()=>{d.unsubscribe(),p.unsubscribe()}});return(0,z.T)(n,i.pipe((0,ae.B)()))}function Qt(e){return e instanceof Function?e():e}let Iu=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Mt({token:e,providedIn:"root",factory:()=>new e})}return e})();function ml(e){for(;e;){e[Zt]|=64;const t=fa(e);if(ki(e)&&!t)return e;e=t}return null}const __=new _t("",{providedIn:"root",factory:()=>!1});let Ip=null;function I_(e,t){return e[t]??w_()}function C_(e,t){const n=w_();n.producerNode?.length&&(e[t]=Ip,n.lView=e,Ip=D_())}const MI={...Hs,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ml(e.lView)},lView:null};function D_(){return Object.create(MI)}function w_(){return Ip??=D_(),Ip}const dn={};function b_(e){T_(Jt(),We(),Ot()+e,!1)}function T_(e,t,n,i){if(!i)if(3==(3&t[Zt])){const d=e.preOrderCheckHooks;null!==d&&Sl(t,d,n)}else{const d=e.preOrderHooks;null!==d&&Ba(t,d,0,n)}on(n)}function Gd(e,t=St.Default){const n=We();return null===n?mt(e,t):dc(tr(),n,Be(e),t)}function S_(){throw new Error("invalid")}function Cp(e,t,n,i,a,d,p,y,D,R,L){const G=t.blueprint.slice();return G[Nn]=a,G[Zt]=140|i,(null!==R||e&&2048&e[Zt])&&(G[Zt]|=2048),Zo(G),G[gn]=G[Lr]=e,G[Un]=n,G[Ni]=p||e&&e[Ni],G[Lt]=y||e&&e[Lt],G[Gr]=D||e&&e[Gr]||null,G[or]=d,G[Us]=function bc(){return bh++}(),G[ei]=L,G[Bs]=R,G[wn]=2==t.type?e[wn]:G,G}function Zd(e,t,n,i,a){let d=e.data[t];if(null===d)d=function Hg(e,t,n,i,a){const d=ic(),p=Eo(),D=e.data[t]=function UI(e,t,n,i,a,d){let p=t?t.injectorIndex:-1,y=0;return function Zs(){return null!==jt.skipHydrationRootTNode}()&&(y|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?d:d&&d.parent,n,t,i,a);return null===e.firstChild&&(e.firstChild=D),null!==d&&(p?null==d.child&&null!==D.parent&&(d.child=D):null===d.next&&(d.next=D,D.prev=d)),D}(e,t,n,i,a),function La(){return jt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=n,d.value=i,d.attrs=a;const p=function Wn(){const e=jt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();d.injectorIndex=null===p?-1:p.injectorIndex}return Ji(d,!0),d}function sf(e,t,n,i){if(0===n)return-1;const a=t.length;for(let d=0;d<n;d++)t.push(i),e.blueprint.push(i),e.data.push(null);return a}function A_(e,t,n,i,a){const d=I_(t,qi),p=Ot(),y=2&i;try{on(-1),y&&t.length>en&&T_(e,t,en,!1),hr(y?2:0,a);const R=y?d:null,L=si(R);try{null!==R&&(R.dirty=!1),n(i,a)}finally{Vs(R,L)}}finally{y&&null===t[qi]&&C_(t,qi),on(p),hr(y?3:1,a)}}function Vg(e,t,n){if(js(t)){const i=Dr(null);try{const d=t.directiveEnd;for(let p=t.directiveStart;p<d;p++){const y=e.data[p];y.contentQueries&&y.contentQueries(1,n[p],p)}}finally{Dr(i)}}}function $g(e,t,n){Ko()&&(function zI(e,t,n,i){const a=n.directiveStart,d=n.directiveEnd;Zr(n)&&function XI(e,t,n){const i=vr(t,e),a=R_(n);let p=16;n.signals?p=4096:n.onPush&&(p=64);const y=Dp(e,Cp(e,a,null,p,i,t,null,e[Ni].rendererFactory.createRenderer(i,n),null,null,null));e[t.index]=y}(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||Rl(n,t),Hr(i,t);const p=n.initialInputs;for(let y=a;y<d;y++){const D=e.data[y],R=Js(t,e,y,n);Hr(R,t),null!==p&&JI(0,y-a,R,D,0,p),ni(D)&&(Bn(n.index,t)[Un]=Js(t,e,y,n))}}(e,t,n,vr(n,t)),64==(64&n.flags)&&x_(e,t,n))}function Wg(e,t,n=vr){const i=t.localNames;if(null!==i){let a=t.index+1;for(let d=0;d<i.length;d+=2){const p=i[d+1],y=-1===p?n(t,e):e[p];e[a++]=y}}}function R_(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=zg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function zg(e,t,n,i,a,d,p,y,D,R,L){const G=en+i,ue=G+a,ve=function NI(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:dn);return n}(G,ue),Ue="function"==typeof R?R():R;return ve[lt]={type:e,blueprint:ve,template:n,queries:null,viewQuery:y,declTNode:t,data:ve.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:D,consts:Ue,incompleteFirstPass:!1,ssrId:L}}let M_=e=>null;function P_(e,t,n,i){for(let a in e)if(e.hasOwnProperty(a)){n=null===n?{}:n;const d=e[a];null===i?N_(n,t,a,d):i.hasOwnProperty(a)&&N_(n,t,i[a],d)}return n}function N_(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function Gg(e,t,n,i){if(Ko()){const a=null===i?null:{"":-1},d=function ZI(e,t){const n=e.directiveRegistry;let i=null,a=null;if(n)for(let d=0;d<n.length;d++){const p=n[d];if(Wr(t,p.selectors,!1))if(i||(i=[]),ni(p))if(null!==p.findHostDirectiveDefs){const y=[];a=a||new Map,p.findHostDirectiveDefs(p,y,a),i.unshift(...y,p),Zg(e,t,y.length)}else i.unshift(p),Zg(e,t,0);else a=a||new Map,p.findHostDirectiveDefs?.(p,i,a),i.push(p)}return null===i?null:[i,a]}(e,n);let p,y;null===d?p=y=null:[p,y]=d,null!==p&&O_(e,t,n,p,a,y),a&&function KI(e,t,n){if(t){const i=e.localNames=[];for(let a=0;a<t.length;a+=2){const d=n[t[a+1]];if(null==d)throw new he(-301,!1);i.push(t[a],d)}}}(n,i,a)}n.mergedAttrs=Xr(n.mergedAttrs,n.attrs)}function O_(e,t,n,i,a,d){for(let R=0;R<i.length;R++)Cs(Rl(n,t),e,i[R].type);!function qI(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let R=0;R<i.length;R++){const L=i[R];L.providersResolver&&L.providersResolver(L)}let p=!1,y=!1,D=sf(e,t,i.length,null);for(let R=0;R<i.length;R++){const L=i[R];n.mergedAttrs=Xr(n.mergedAttrs,L.hostAttrs),QI(e,n,t,D,L),YI(D,L,a),null!==L.contentQueries&&(n.flags|=4),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(n.flags|=64);const G=L.type.prototype;!p&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),p=!0),!y&&(G.ngOnChanges||G.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),y=!0),D++}!function BI(e,t,n){const a=t.directiveEnd,d=e.data,p=t.attrs,y=[];let D=null,R=null;for(let L=t.directiveStart;L<a;L++){const G=d[L],ue=n?n.get(G):null,Ue=ue?ue.outputs:null;D=P_(G.inputs,L,D,ue?ue.inputs:null),R=P_(G.outputs,L,R,Ue);const Qe=null===D||null===p||Ms(t)?null:eC(D,L,p);y.push(Qe)}null!==D&&(D.hasOwnProperty("class")&&(t.flags|=8),D.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=y,t.inputs=D,t.outputs=R}(e,n,d)}function x_(e,t,n){const i=n.directiveStart,a=n.directiveEnd,d=n.index,p=function Tl(){return jt.lFrame.currentDirectiveIndex}();try{on(d);for(let y=i;y<a;y++){const D=e.data[y],R=t[y];Ys(y),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&GI(D,R)}}finally{on(-1),Ys(p)}}function GI(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Zg(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function YI(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;ni(t)&&(n[""]=e)}}function QI(e,t,n,i,a){e.data[i]=a;const d=a.factory||(a.factory=mi(a.type)),p=new ys(d,ni(a),Gd);e.blueprint[i]=p,n[i]=p,function $I(e,t,n,i,a){const d=a.hostBindings;if(d){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const y=~t.index;(function WI(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(p)!=y&&p.push(y),p.push(n,i,d)}}(e,t,i,sf(e,n,a.hostVars,dn),a)}function Du(e,t,n,i,a,d){const p=vr(e,t);!function Kg(e,t,n,i,a,d,p){if(null==d)e.removeAttribute(t,a,n);else{const y=null==p?fe(d):p(d,i||"",a);e.setAttribute(t,a,y,n)}}(t[Lt],p,d,e.value,n,i,a)}function JI(e,t,n,i,a,d){const p=d[t];if(null!==p)for(let y=0;y<p.length;)k_(i,n,p[y++],p[y++],p[y++])}function k_(e,t,n,i,a){const d=Dr(null);try{const p=e.inputTransforms;null!==p&&p.hasOwnProperty(i)&&(a=p[i].call(t,a)),null!==e.setInput?e.setInput(t,a,n,i):t[i]=a}finally{Dr(d)}}function eC(e,t,n){let i=null,a=0;for(;a<n.length;){const d=n[a];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===i&&(i=[]);const p=e[d];for(let y=0;y<p.length;y+=2)if(p[y]===t){i.push(d,p[y+1],n[a+1]);break}}a+=2}else a+=2;else a+=4}return i}function L_(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null,null]}function F_(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const d=n[i+1];if(-1!==d){const p=e.data[d];v(n[i]),p.contentQueries(2,t[d],d)}}}function Dp(e,t){return e[Yi]?e[Ls][Cr]=t:e[Yi]=t,e[Ls]=t,t}function Yg(e,t,n){v(0);const i=Dr(null);try{t(e,n)}finally{Dr(i)}}function U_(e){return e[pi]||(e[pi]=[])}function B_(e){return e.cleanup||(e.cleanup=[])}function H_(e,t){const n=e[Gr],i=n?n.get(Ca,null):null;i&&i.handleError(t)}function qg(e,t,n,i,a){for(let d=0;d<n.length;){const p=n[d++],y=n[d++];k_(e.data[p],t[p],i,y,a)}}function tC(e,t){const n=Bn(t,e),i=n[lt];!function nC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n);const a=n[Nn];null!==a&&null===n[ei]&&(n[ei]=Yh(a,n[Gr])),Qg(i,n,n[Un])}function Qg(e,t,n){w(t);try{const i=e.viewQuery;null!==i&&Yg(1,i,n);const a=e.template;null!==a&&A_(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&F_(e,t),e.staticViewQueries&&Yg(2,e.viewQuery,n);const d=e.components;null!==d&&function rC(e,t){for(let n=0;n<t.length;n++)tC(e,t[n])}(t,d)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[Zt]&=-5,Ce()}}let V_=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,i,a){const d=typeof Zone>"u"?null:Zone.current,p=function je(e,t,n){const i=Object.create(vn);n&&(i.consumerAllowSignalWrites=!0),i.fn=e,i.schedule=t;const a=p=>{i.cleanupFn=p};return i.ref={notify:()=>_i(i),run:()=>{if(i.dirty=!1,i.hasRun&&!go(i))return;i.hasRun=!0;const p=si(i);try{i.cleanupFn(),i.cleanupFn=bt,i.fn(a)}finally{Vs(i,p)}},cleanup:()=>i.cleanupFn()},i.ref}(n,R=>{this.all.has(R)&&this.queue.set(R,d)},a);let y;this.all.add(p),p.notify();const D=()=>{p.cleanup(),y?.(),this.all.delete(p),this.queue.delete(p)};return y=i?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[n,i]of this.queue)this.queue.delete(n),i?i.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Mt({token:e,providedIn:"root",factory:()=>new e})}return e})();function wp(e,t,n){let i=n?e.styles:null,a=n?e.classes:null,d=0;if(null!==t)for(let p=0;p<t.length;p++){const y=t[p];"number"==typeof y?d=y:1==d?a=xe(a,y):2==d&&(i=xe(i,y+": "+t[++p]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=a:e.classesWithoutHost=a}function af(e,t,n,i,a=!1){for(;null!==n;){const d=t[n.index];null!==d&&i.push(Fn(d)),rn(d)&&$_(d,i);const p=n.type;if(8&p)af(e,t,n.child,i);else if(32&p){const y=qr(n,t);let D;for(;D=y();)i.push(D)}else if(16&p){const y=Fc(t,n);if(Array.isArray(y))i.push(...y);else{const D=fa(t[wn]);af(D[lt],D,y,i,!0)}}n=a?n.projectionNext:n.next}return i}function $_(e,t){for(let n=Kn;n<e.length;n++){const i=e[n],a=i[lt].firstChild;null!==a&&af(i[lt],i,a,t)}e[Oi]!==e[Nn]&&t.push(e[Oi])}function bp(e,t,n,i=!0){const a=t[Ni],d=a.rendererFactory,p=a.afterRenderEventManager;d.begin?.(),p?.begin();try{W_(e,t,e.template,n)}catch(D){throw i&&H_(t,D),D}finally{d.end?.(),a.effectManager?.flush(),p?.end()}}function W_(e,t,n,i){const a=t[Zt];if(256!=(256&a)){t[Ni].effectManager?.flush(),w(t);try{Zo(t),function Io(e){return jt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&A_(e,t,n,2,i);const p=3==(3&a);if(p){const R=e.preOrderCheckHooks;null!==R&&Sl(t,R,null)}else{const R=e.preOrderHooks;null!==R&&Ba(t,R,0,null),sc(t,0)}if(function oC(e){for(let t=uu(e);null!==t;t=bs(t)){if(!t[ti])continue;const n=t[gi];for(let i=0;i<n.length;i++){_s(n[i])}}}(t),z_(t,2),null!==e.contentQueries&&F_(e,t),p){const R=e.contentCheckHooks;null!==R&&Sl(t,R)}else{const R=e.contentHooks;null!==R&&Ba(t,R,1),sc(t,1)}!function PI(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const i=I_(t,Qi);try{for(let a=0;a<n.length;a++){const d=n[a];if(d<0)on(~d);else{const p=d,y=n[++a],D=n[++a];Wu(y,p),i.dirty=!1;const R=si(i);try{D(2,t[p])}finally{Vs(i,R)}}}}finally{null===t[Qi]&&C_(t,Qi),on(-1)}}(e,t);const y=e.components;null!==y&&Z_(t,y,0);const D=e.viewQuery;if(null!==D&&Yg(2,D,i),p){const R=e.viewCheckHooks;null!==R&&Sl(t,R)}else{const R=e.viewHooks;null!==R&&Ba(t,R,2),sc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Zt]&=-73,Bu(t)}finally{Ce()}}}function z_(e,t){for(let n=uu(e);null!==n;n=bs(n))for(let i=Kn;i<n.length;i++)G_(n[i],t)}function aC(e,t,n){G_(Bn(t,e),n)}function G_(e,t){if(!function Fu(e){return 128==(128&e[Zt])}(e))return;const n=e[lt],i=e[Zt];if(80&i&&0===t||1024&i||2===t)W_(n,e,n.template,e[Un]);else if(e[fs]>0){z_(e,1);const a=n.components;null!==a&&Z_(e,a,1)}}function Z_(e,t,n){for(let i=0;i<t.length;i++)aC(e,t[i],n)}class uf{get rootNodes(){const t=this._lView,n=t[lt];return af(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Un]}set context(t){this._lView[Un]=t}get destroyed(){return 256==(256&this._lView[Zt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[gn];if(rn(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(Q(t,i),Ka(n,i))}this._attachedToViewContainer=!1}pe(this._lView[lt],this._lView)}onDestroy(t){!function ju(e,t){if(256==(256&e[Zt]))throw new he(911,!1);null===e[Si]&&(e[Si]=[]),e[Si].push(t)}(this._lView,t)}markForCheck(){ml(this._cdRefInjectingView||this._lView)}detach(){this._lView[Zt]&=-129}reattach(){this._lView[Zt]|=128}detectChanges(){bp(this._lView[lt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function u(e,t){hu(e,t,t[Lt],2,null,null)}(this._lView[lt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=t}}class uC extends uf{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;bp(t[lt],t,t[Un],!1)}checkNoChanges(){}get context(){return null}}class K_ extends $d{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Gt(t);return new lf(n,this.ngModule)}}function Y_(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class cC{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=yt(i);const a=this.injector.get(t,Qh,i);return a!==Qh||n===Qh?a:this.parentInjector.get(t,n,i)}}class lf extends lp{get inputs(){const t=this.componentDef,n=t.inputTransforms,i=Y_(t.inputs);if(null!==n)for(const a of i)n.hasOwnProperty(a.propName)&&(a.transform=n[a.propName]);return i}get outputs(){return Y_(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function kr(e){return e.map(Ki).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,a){let d=(a=a||this.ngModule)instanceof oo?a:a?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const p=d?new cC(t,d):t,y=p.get(hp,null);if(null===y)throw new he(407,!1);const G={rendererFactory:y,sanitizer:p.get(Og,null),effectManager:p.get(V_,null),afterRenderEventManager:p.get(Iu,null)},ue=y.createRenderer(null,this.componentDef),ve=this.componentDef.selectors[0][0]||"div",Ue=i?function OI(e,t,n,i){const d=i.get(__,!1)||n===tt.ShadowDom,p=e.selectRootElement(t,d);return function xI(e){M_(e)}(p),p}(ue,i,this.componentDef.encapsulation,p):al(ue,ve,function lC(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(ve)),Ft=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ze=null;null!==Ue&&(ze=Yh(Ue,p,!0));const tn=zg(0,null,null,1,0,null,null,null,null,null,null),yn=Cp(null,tn,null,Ft,null,null,G,ue,p,null,ze);let Yn,Rs;w(yn);try{const vl=this.componentDef;let ch,t_=null;vl.findHostDirectiveDefs?(ch=[],t_=new Map,vl.findHostDirectiveDefs(vl,ch,t_),ch.push(vl)):ch=[vl];const MT=function hC(e,t){const n=e[lt],i=en;return e[i]=t,Zd(n,i,2,"#host",null)}(yn,Ue),PT=function fC(e,t,n,i,a,d,p){const y=a[lt];!function pC(e,t,n,i){for(const a of e)t.mergedAttrs=Xr(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(wp(t,t.mergedAttrs,!0),null!==n&&Lf(i,n,t))}(i,e,t,p);let D=null;null!==t&&(D=Yh(t,a[Gr]));const R=d.rendererFactory.createRenderer(t,n);let L=16;n.signals?L=4096:n.onPush&&(L=64);const G=Cp(a,R_(n),null,L,a[e.index],e,d,R,null,null,D);return y.firstCreatePass&&Zg(y,e,i.length-1),Dp(a,G),a[e.index]=G}(MT,Ue,vl,ch,yn,G,ue);Rs=Lu(tn,en),Ue&&function mC(e,t,n,i){if(i)_n(e,n,["ng-version",fp.full]);else{const{attrs:a,classes:d}=function hs(e){const t=[],n=[];let i=1,a=2;for(;i<e.length;){let d=e[i];if("string"==typeof d)2===a?""!==d&&t.push(d,e[++i]):8===a&&n.push(d);else{if(!lr(a))break;a=d}i++}return{attrs:t,classes:n}}(t.selectors[0]);a&&_n(e,n,a),d&&d.length>0&&kf(e,n,d.join(" "))}}(ue,vl,Ue,i),void 0!==n&&function _C(e,t,n){const i=e.projection=[];for(let a=0;a<t.length;a++){const d=n[a];i.push(null!=d?Array.from(d):null)}}(Rs,this.ngContentSelectors,n),Yn=function gC(e,t,n,i,a,d){const p=tr(),y=a[lt],D=vr(p,a);O_(y,a,p,n,null,i);for(let L=0;L<n.length;L++)Hr(Js(a,y,p.directiveStart+L,p),a);x_(y,a,p),D&&Hr(D,a);const R=Js(a,y,p.directiveStart+p.componentOffset,p);if(e[Un]=a[Un]=R,null!==d)for(const L of d)L(R,t);return Vg(y,p,e),R}(PT,vl,ch,t_,yn,[vC]),Qg(tn,yn,null)}finally{Ce()}return new dC(this.componentType,Yn,Ir(Rs,yn),yn,Rs)}}class dC extends Rg{constructor(t,n,i,a,d){super(),this.location=i,this._rootLView=a,this._tNode=d,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new uC(a),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let a;if(null!==i&&(a=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const d=this._rootLView;qg(d[lt],d,a,t,n),this.previousInputValues.set(t,n),ml(Bn(this._tNode.index,d))}}get injector(){return new wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function vC(){const e=tr();Xo(We()[lt],e)}function Xg(e){let t=function q_(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let a;if(ni(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new he(903,!1);a=t.\u0275dir}if(a){if(n){i.push(a);const p=e;p.inputs=Tp(e.inputs),p.inputTransforms=Tp(e.inputTransforms),p.declaredInputs=Tp(e.declaredInputs),p.outputs=Tp(e.outputs);const y=a.hostBindings;y&&CC(e,y);const D=a.viewQuery,R=a.contentQueries;if(D&&EC(e,D),R&&IC(e,R),q(e.inputs,a.inputs),q(e.declaredInputs,a.declaredInputs),q(e.outputs,a.outputs),null!==a.inputTransforms&&(null===p.inputTransforms&&(p.inputTransforms={}),q(p.inputTransforms,a.inputTransforms)),ni(a)&&a.data.animation){const L=e.data;L.animation=(L.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let p=0;p<d.length;p++){const y=d[p];y&&y.ngInherit&&y(e),y===Xg&&(n=!1)}}t=Object.getPrototypeOf(t)}!function yC(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const a=e[i];a.hostVars=t+=a.hostVars,a.hostAttrs=Xr(a.hostAttrs,n=Xr(n,a.hostAttrs))}}(i)}function Tp(e){return e===zt?{}:e===ne?[]:e}function EC(e,t){const n=e.viewQuery;e.viewQuery=n?(i,a)=>{t(i,a),n(i,a)}:t}function IC(e,t){const n=e.contentQueries;e.contentQueries=n?(i,a,d)=>{t(i,a,d),n(i,a,d)}:t}function CC(e,t){const n=e.hostBindings;e.hostBindings=n?(i,a)=>{t(i,a),n(i,a)}:t}function ev(e){const t=e.inputConfig,n={};for(const i in t)if(t.hasOwnProperty(i)){const a=t[i];Array.isArray(a)&&a[2]&&(n[i]=a[2])}e.inputTransforms=n}function Sp(e){return!!Jg(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Jg(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function zi(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function em(e,t,n,i){const a=We();return zi(a,vs(),t)&&(Jt(),Du(Cn(),a,e,t,n,i)),em}function fv(e,t,n,i,a,d,p,y){const D=We(),R=Jt(),L=e+en,G=R.firstCreatePass?function ZC(e,t,n,i,a,d,p,y,D){const R=t.consts,L=Zd(t,e,4,p||null,Gs(R,y));Gg(t,n,L,Gs(R,D)),Xo(t,L);const G=L.tView=zg(2,L,i,a,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,R,null);return null!==t.queries&&(t.queries.template(t,L),G.queries=t.queries.embeddedTView(L)),L}(L,R,D,t,n,i,a,d,p):R.data[L];Ji(G,!1);const ue=pv(R,D,G,e);Ua()&&No(R,D,ue,G),Hr(ue,D),Dp(D,D[L]=L_(ue,D,ue,G)),Bo(G)&&$g(R,D,G),null!=p&&Wg(D,G,y)}let pv=function gv(e,t,n,i){return $i(!0),t[Lt].createComment("")};function om(e,t,n){const i=We();return zi(i,vs(),t)&&function uo(e,t,n,i,a,d,p,y){const D=vr(t,n);let L,R=t.inputs;!y&&null!=R&&(L=R[i])?(qg(e,n,L,i,a),Zr(t)&&function HI(e,t){const n=Bn(t,e);16&n[Zt]||(n[Zt]|=64)}(n,t.index)):3&t.type&&(i=function jI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),a=null!=p?p(a,t.value||"",i):a,d.setProperty(D,i,a))}(Jt(),Cn(),i,e,t,i[Lt],n,!1),om}function am(e,t,n,i,a){const p=a?"class":"style";qg(e,n,t.inputs[p],p,i)}function Np(e,t,n,i){const a=We(),d=Jt(),p=en+e,y=a[Lt],D=d.firstCreatePass?function XC(e,t,n,i,a,d){const p=t.consts,D=Zd(t,e,2,i,Gs(p,a));return Gg(t,n,D,Gs(p,d)),null!==D.attrs&&wp(D,D.attrs,!1),null!==D.mergedAttrs&&wp(D,D.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,D),D}(p,d,a,t,n,i):d.data[p],R=mv(d,a,D,y,t,e);a[p]=R;const L=Bo(D);return Ji(D,!0),Lf(y,R,D),32!=(32&D.flags)&&Ua()&&No(d,a,R,D),0===function Ri(){return jt.lFrame.elementDepthCount}()&&Hr(R,a),function Hu(){jt.lFrame.elementDepthCount++}(),L&&($g(d,a,D),Vg(d,D,a)),null!==i&&Wg(a,D),Np}function Op(){let e=tr();Eo()?function qo(){jt.lFrame.isParent=!1}():(e=e.parent,Ji(e,!1));const t=e;(function Dl(e){return jt.skipHydrationRootTNode===e})(t)&&function vo(){jt.skipHydrationRootTNode=null}(),function td(){jt.lFrame.elementDepthCount--}();const n=Jt();return n.firstCreatePass&&(Xo(n,e),js(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function oc(e){return 0!=(8&e.flags)}(t)&&am(n,t,We(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Ii(e){return 0!=(16&e.flags)}(t)&&am(n,t,We(),t.stylesWithoutHost,!1),Op}function um(e,t,n,i){return Np(e,t,n,i),Op(),um}let mv=(e,t,n,i,a,d)=>($i(!0),al(i,a,function Zu(){return jt.lFrame.currentNamespace}()));function yv(){return We()}function dm(e){return!!e&&"function"==typeof e.then}function Ev(e){return!!e&&"function"==typeof e.subscribe}function hm(e,t,n,i){const a=We(),d=Jt(),p=tr();return function Cv(e,t,n,i,a,d,p){const y=Bo(i),R=e.firstCreatePass&&B_(e),L=t[Un],G=U_(t);let ue=!0;if(3&i.type||p){const Qe=vr(i,t),vt=p?p(Qe):Qe,Ft=G.length,ze=p?yn=>p(Fn(yn[i.index])):i.index;let tn=null;if(!p&&y&&(tn=function s0(e,t,n,i){const a=e.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const p=a[d];if(p===n&&a[d+1]===i){const y=t[pi],D=a[d+2];return y.length>D?y[D]:null}"string"==typeof p&&(d+=2)}return null}(e,t,a,i.index)),null!==tn)(tn.__ngLastListenerFn__||tn).__ngNextListenerFn__=d,tn.__ngLastListenerFn__=d,ue=!1;else{d=wv(i,t,L,d,!1);const yn=n.listen(vt,a,d);G.push(d,yn),R&&R.push(a,ze,Ft,Ft+1)}}else d=wv(i,t,L,d,!1);const ve=i.outputs;let Ue;if(ue&&null!==ve&&(Ue=ve[a])){const Qe=Ue.length;if(Qe)for(let vt=0;vt<Qe;vt+=2){const Yn=t[Ue[vt]][Ue[vt+1]].subscribe(d),Rs=G.length;G.push(d,Yn),R&&R.push(a,i.index,Rs,-(Rs+1))}}}(d,a,a[Lt],p,e,t,i),hm}function Dv(e,t,n,i){try{return hr(6,t,n),!1!==n(i)}catch(a){return H_(e,a),!1}finally{hr(7,t,n)}}function wv(e,t,n,i,a){return function d(p){if(p===Function)return i;ml(e.componentOffset>-1?Bn(e.index,t):t);let D=Dv(t,n,i,p),R=d.__ngNextListenerFn__;for(;R;)D=Dv(t,n,R,p)&&D,R=R.__ngNextListenerFn__;return a&&!1===D&&p.preventDefault(),D}}function bv(e=1){return function Ye(e){return(jt.lFrame.contextLView=function nt(e,t){for(;e>0;)t=t[Lr],e--;return t}(e,jt.lFrame.contextLView))[Un]}(e)}function xp(e,t){return e<<17|t<<2}function Yl(e){return e>>17&32767}function pm(e){return 2|e}function Qc(e){return(131068&e)>>2}function gm(e,t){return-131069&e|t<<2}function mm(e){return 1|e}function kv(e,t,n,i,a){const d=e[n+1],p=null===t;let y=i?Yl(d):Qc(d),D=!1;for(;0!==y&&(!1===D||p);){const L=e[y+1];p0(e[y],t)&&(D=!0,e[y+1]=i?mm(L):pm(L)),y=i?Yl(L):Qc(L)}D&&(e[n+1]=i?pm(d):mm(d))}function p0(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ws(e,t)>=0}function _m(e,t){return function Da(e,t,n,i){const a=We(),d=Jt(),p=function Br(e){const t=jt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);d.firstUpdatePass&&function Wv(e,t,n,i){const a=e.data;if(null===a[n+1]){const d=a[Ot()],p=function $v(e,t){return t>=e.expandoStartIndex}(e,n);(function Kv(e,t){return 0!=(e.flags&(t?8:16))})(d,i)&&null===t&&!p&&(t=!1),t=function D0(e,t,n,i){const a=function zu(e){const t=jt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let d=i?t.residualClasses:t.residualStyles;if(null===a)0===(i?t.classBindings:t.styleBindings)&&(n=pf(n=vm(null,e,t,n,i),t.attrs,i),d=null);else{const p=t.directiveStylingLast;if(-1===p||e[p]!==a)if(n=vm(a,e,t,n,i),null===d){let D=function w0(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Qc(i))return e[Yl(i)]}(e,t,i);void 0!==D&&Array.isArray(D)&&(D=vm(null,e,t,D[1],i),D=pf(D,t.attrs,i),function b0(e,t,n,i){e[Yl(n?t.classBindings:t.styleBindings)]=i}(e,t,i,D))}else d=function T0(e,t,n){let i;const a=t.directiveEnd;for(let d=1+t.directiveStylingLast;d<a;d++)i=pf(i,e[d].hostAttrs,n);return pf(i,t.attrs,n)}(e,t,i)}return void 0!==d&&(i?t.residualClasses=d:t.residualStyles=d),n}(a,d,t,i),function h0(e,t,n,i,a,d){let p=d?t.classBindings:t.styleBindings,y=Yl(p),D=Qc(p);e[i]=n;let L,R=!1;if(Array.isArray(n)?(L=n[1],(null===L||ws(n,L)>0)&&(R=!0)):L=n,a)if(0!==D){const ue=Yl(e[y+1]);e[i+1]=xp(ue,y),0!==ue&&(e[ue+1]=gm(e[ue+1],i)),e[y+1]=function c0(e,t){return 131071&e|t<<17}(e[y+1],i)}else e[i+1]=xp(y,0),0!==y&&(e[y+1]=gm(e[y+1],i)),y=i;else e[i+1]=xp(D,0),0===y?y=i:e[D+1]=gm(e[D+1],i),D=i;R&&(e[i+1]=pm(e[i+1])),kv(e,L,i,!0),kv(e,L,i,!1),function f0(e,t,n,i,a){const d=a?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof t&&ws(d,t)>=0&&(n[i+1]=mm(n[i+1]))}(t,L,e,i,d),p=xp(y,D),d?t.classBindings=p:t.styleBindings=p}(a,d,t,n,p,i)}}(d,e,p,i),t!==dn&&zi(a,p,t)&&function Gv(e,t,n,i,a,d,p,y){if(!(3&t.type))return;const D=e.data,R=D[y+1],L=function d0(e){return 1==(1&e)}(R)?Zv(D,t,n,a,Qc(R),p):void 0;kp(L)||(kp(d)||function l0(e){return 2==(2&e)}(R)&&(d=Zv(D,null,n,a,y,p)),function Ph(e,t,n,i,a){if(t)a?e.addClass(n,i):e.removeClass(n,i);else{let d=-1===i.indexOf("-")?void 0:Mo.DashCase;null==a?e.removeStyle(n,i,d):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),d|=Mo.Important),e.setStyle(n,i,a,d))}}(i,p,zo(Ot(),n),a,d))}(d,d.data[Ot()],a,a[Lt],e,a[p+1]=function M0(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=le(ya(e)))),e}(t,n),i,p)}(e,t,null,!0),_m}function vm(e,t,n,i,a){let d=null;const p=n.directiveEnd;let y=n.directiveStylingLast;for(-1===y?y=n.directiveStart:y++;y<p&&(d=t[y],i=pf(i,d.hostAttrs,a),d!==e);)y++;return null!==e&&(n.directiveStylingLast=y),i}function pf(e,t,n){const i=n?1:2;let a=-1;if(null!==t)for(let d=0;d<t.length;d++){const p=t[d];"number"==typeof p?a=p:a===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Mi(e,p,!!n||t[++d]))}return void 0===e?null:e}function Zv(e,t,n,i,a,d){const p=null===t;let y;for(;a>0;){const D=e[a],R=Array.isArray(D),L=R?D[1]:D,G=null===L;let ue=n[a+1];ue===dn&&(ue=G?ne:void 0);let ve=G?_c(ue,i):L===i?ue:void 0;if(R&&!kp(ve)&&(ve=_c(D,i)),kp(ve)&&(y=ve,p))return y;const Ue=e[a+1];a=p?Yl(Ue):Qc(Ue)}if(null!==t){let D=d?t.residualClasses:t.residualStyles;null!=D&&(y=_c(D,i))}return y}function kp(e){return void 0!==e}function Yv(e,t=""){const n=We(),i=Jt(),a=e+en,d=i.firstCreatePass?Zd(i,a,1,t,null):i.data[a],p=qv(i,n,d,t,e);n[a]=p,Ua()&&No(i,n,p,d),Ji(d,!1)}let qv=(e,t,n,i,a)=>($i(!0),function cu(e,t){return e.createText(t)}(t[Lt],i));function Lp(e,t,n){const i=We(),a=function Yd(e,t,n,i){return zi(e,vs(),n)?t+fe(n)+i:dn}(i,e,t,n);return a!==dn&&function _l(e,t,n){const i=zo(t,e);!function bd(e,t,n){e.setValue(t,n)}(e[Lt],i,n)}(i,Ot(),a),Lp}const Xc=void 0;var X0=["en",[["a","p"],["AM","PM"],Xc],[["AM","PM"],Xc,Xc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xc,"{1} 'at' {0}",Xc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Q0(e){const n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let ih={};function ym(e){const t=function J0(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=vy(t);if(n)return n;const i=t.split("-")[0];if(n=vy(i),n)return n;if("en"===i)return X0;throw new he(701,!1)}function _y(e){return ym(e)[sh.PluralCase]}function vy(e){return e in ih||(ih[e]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[e]),ih[e]}var sh=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(sh||{});const oh="en-US";let yy=oh;function Cm(e,t,n,i,a){if(e=Be(e),Array.isArray(e))for(let d=0;d<e.length;d++)Cm(e[d],t,n,i,a);else{const d=Jt(),p=We(),y=tr();let D=so(e)?e:Be(e.provide);const R=np(e),L=1048575&y.providerIndexes,G=y.directiveStart,ue=y.providerIndexes>>20;if(so(e)||!e.multi){const ve=new ys(R,a,Gd),Ue=wm(D,t,a?L:L+ue,G);-1===Ue?(Cs(Rl(y,p),d,D),Dm(d,e,t.length),t.push(D),y.directiveStart++,y.directiveEnd++,a&&(y.providerIndexes+=1048576),n.push(ve),p.push(ve)):(n[Ue]=ve,p[Ue]=ve)}else{const ve=wm(D,t,L+ue,G),Ue=wm(D,t,L,L+ue),vt=Ue>=0&&n[Ue];if(a&&!vt||!a&&!(ve>=0&&n[ve])){Cs(Rl(y,p),d,D);const Ft=function QD(e,t,n,i,a){const d=new ys(e,n,Gd);return d.multi=[],d.index=t,d.componentProviders=0,Wy(d,a,i&&!n),d}(a?qD:YD,n.length,a,i,R);!a&&vt&&(n[Ue].providerFactory=Ft),Dm(d,e,t.length,0),t.push(D),y.directiveStart++,y.directiveEnd++,a&&(y.providerIndexes+=1048576),n.push(Ft),p.push(Ft)}else Dm(d,e,ve>-1?ve:Ue,Wy(n[a?Ue:ve],R,!a&&i));!a&&i&&vt&&n[Ue].componentProviders++}}}function Dm(e,t,n,i){const a=so(t),d=function kd(e){return!!e.useClass}(t);if(a||d){const D=(d?Be(t.useClass):t).prototype.ngOnDestroy;if(D){const R=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const L=R.indexOf(n);-1===L?R.push(n,[i,D]):R[L+1].push(i,D)}else R.push(n,D)}}}function Wy(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function wm(e,t,n,i){for(let a=n;a<i;a++)if(t[a]===e)return a;return-1}function YD(e,t,n,i){return bm(this.multi,[])}function qD(e,t,n,i){const a=this.multi;let d;if(this.providerFactory){const p=this.providerFactory.componentProviders,y=Js(n,n[lt],this.providerFactory.index,i);d=y.slice(0,p),bm(a,d);for(let D=p;D<y.length;D++)d.push(y[D])}else d=[],bm(a,d);return d}function bm(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function zy(e,t=[]){return n=>{n.providersResolver=(i,a)=>function KD(e,t,n){const i=Jt();if(i.firstCreatePass){const a=ni(e);Cm(n,i.data,i.blueprint,a,!0),Cm(t,i.data,i.blueprint,a,!1)}}(i,a?a(e):e,t)}}class Jc{}class Gy{}function XD(e,t){return new Tm(e,t??null,[])}class Tm extends Jc{constructor(t,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new K_(this);const a=cr(t);this._bootstrapComponents=Qt(a.bootstrap),this._r3Injector=ef(t,n,[{provide:Jc,useValue:this},{provide:$d,useValue:this.componentFactoryResolver},...i],le(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Sm extends Gy{constructor(t){super(),this.moduleType=t}create(t){return new Tm(this.moduleType,t,[])}}class Zy extends Jc{constructor(t){super(),this.componentFactoryResolver=new K_(this),this.instance=null;const n=new pl([...t.providers,{provide:Jc,useValue:this},{provide:$d,useValue:this.componentFactoryResolver}],t.parent||Gc(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Ky(e,t,n=null){return new Zy({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let ew=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const i=vu(0,n.type),a=i.length>0?Ky([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,a)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Mt({token:e,providedIn:"environment",factory:()=>new e(mt(oo))})}return e})();function Yy(e){e.getStandaloneInjector=t=>t.get(ew).getOrCreateStandaloneInjector(e)}function nE(e,t,n,i){return function rE(e,t,n,i,a,d){const p=t+n;return zi(e,p,a)?function wu(e,t,n){return e[t]=n}(e,p+1,d?i.call(d,a):i(a)):function Ef(e,t){const n=e[t];return n===dn?void 0:n}(e,p+1)}(We(),function Nr(){const e=jt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),e,t,n,i)}function bw(){return this._results[Symbol.iterator]()}class Rm{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Oo)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Rm.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=bw)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const a=function fr(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function vh(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let a=e[i],d=t[i];if(n&&(a=n(a),d=n(d)),d!==a)return!1}return!0}(i._results,a,n))&&(i._results=a,i.length=a.length,i.last=a[this.length-1],i.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Sw(e,t,n,i=!0){const a=t[lt];if(function g(e,t,n,i){const a=Kn+i,d=n.length;i>0&&(n[a-1][Cr]=t),i<d-Kn?(t[Cr]=n[a],Za(n,Kn+i,t)):(n.push(t),t[Cr]=null),t[gn]=n;const p=t[Fs];null!==p&&n!==p&&function A(e,t){const n=e[gi];t[wn]!==t[gn][gn][wn]&&(e[ti]=!0),null===n?e[gi]=[t]:n.push(t)}(p,t);const y=t[er];null!==y&&y.insertView(e),t[Zt]|=128}(a,t,e,n),i){const d=_a(n,e),p=t[Lt],y=ga(p,e[Oi]);null!==y&&function f(e,t,n,i,a,d){i[Nn]=a,i[or]=t,hu(e,i,n,1,a,d)}(a,e[or],p,t,y,d)}}let Cf=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Mw}return e})();const Aw=Cf,Rw=class extends Aw{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){const a=function Tw(e,t,n,i){const a=t.tView,y=Cp(e,a,n,4096&e[Zt]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);y[Fs]=e[t.index];const R=e[er];return null!==R&&(y[er]=R.createEmbeddedView(a)),Qg(a,y,n),y}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:i});return new uf(a)}};function Mw(){return Hp(tr(),We())}function Hp(e,t){return 4&e.type?new Rw(t,e,Ir(e,t)):null}let $p=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Lw}return e})();function Lw(){return pE(tr(),We())}const Fw=$p,hE=class extends Fw{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Ir(this._hostTNode,this._hostLView)}get injector(){return new wr(this._hostTNode,this._hostLView)}get parentInjector(){const t=wo(this._hostTNode,this._hostLView);if(Jo(t)){const n=Ha(t,this._hostLView),i=ja(t);return new wr(n[lt].data[i+8],n)}return new wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=fE(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Kn}createEmbeddedView(t,n,i){let a,d;"number"==typeof i?a=i:null!=i&&(a=i.index,d=i.injector);const y=t.createEmbeddedViewImpl(n||{},d,null);return this.insertImpl(y,a,false),y}createComponent(t,n,i,a,d){const p=t&&!function qu(e){return"function"==typeof e}(t);let y;if(p)y=n;else{const Qe=n||{};y=Qe.index,i=Qe.injector,a=Qe.projectableNodes,d=Qe.environmentInjector||Qe.ngModuleRef}const D=p?t:new lf(Gt(t)),R=i||this.parentInjector;if(!d&&null==D.ngModule){const vt=(p?R:this.parentInjector).get(oo,null);vt&&(d=vt)}Gt(D.componentType??{});const ve=D.create(R,a,null,d);return this.insertImpl(ve.hostView,y,false),ve}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,i){const a=t._lView;if(function Uu(e){return rn(e[gn])}(a)){const D=this.indexOf(t);if(-1!==D)this.detach(D);else{const R=a[gn],L=new hE(R,R[or],R[gn]);L.detach(L.indexOf(t))}}const p=this._adjustIndex(n),y=this._lContainer;return Sw(y,a,p,!i),t.attachToViewContainerRef(),Za(Mm(y),p,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=fE(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=Q(this._lContainer,n);i&&(Ka(Mm(this._lContainer),n),pe(i[lt],i))}detach(t){const n=this._adjustIndex(t,-1),i=Q(this._lContainer,n);return i&&null!=Ka(Mm(this._lContainer),n)?new uf(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function fE(e){return e[8]}function Mm(e){return e[8]||(e[8]=[])}function pE(e,t){let n;const i=t[e.index];return rn(i)?n=i:(n=L_(i,t,null,e),t[e.index]=n,Dp(t,n)),gE(n,t,e,i),new hE(n,e,t)}let gE=function mE(e,t,n,i){if(e[Oi])return;let a;a=8&n.type?Fn(i):function Uw(e,t){const n=e[Lt],i=n.createComment(""),a=vr(t,e);return pr(n,ga(n,a),i,function kc(e,t){return e.nextSibling(t)}(n,a),!1),i}(t,n),e[Oi]=a};class Pm{constructor(t){this.queryList=t,this.matches=null}clone(){return new Pm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nm{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let d=0;d<i;d++){const p=n.getByIndex(d);a.push(this.queries[p.indexInDeclarationView].clone())}return new Nm(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==wE(t,n).matches&&this.queries[n].setDirty()}}class _E{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class Om{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const a=null!==n?n.length:0,d=this.getByIndex(i).embeddedTView(t,a);d&&(d.indexInDeclarationView=i,null!==n?n.push(d):n=[d])}return null!==n?new Om(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class xm{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new xm(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let a=0;a<i.length;a++){const d=i[a];this.matchTNodeWithReadOption(t,n,Hw(n,d)),this.matchTNodeWithReadOption(t,n,jn(n,t,d,!1,!1))}else i===Cf?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,jn(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const a=this.metadata.read;if(null!==a)if(a===li||a===$p||a===Cf&&4&n.type)this.addMatch(n.index,-2);else{const d=jn(n,t,a,!1,!1);null!==d&&this.addMatch(n.index,d)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Hw(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function $w(e,t,n,i){return-1===n?function Vw(e,t){return 11&e.type?Ir(e,t):4&e.type?Hp(e,t):null}(t,e):-2===n?function Ww(e,t,n){return n===li?Ir(t,e):n===Cf?Hp(t,e):n===$p?pE(t,e):void 0}(e,t,i):Js(e,e[lt],n,t)}function vE(e,t,n,i){const a=t[er].queries[i];if(null===a.matches){const d=e.data,p=n.matches,y=[];for(let D=0;D<p.length;D+=2){const R=p[D];y.push(R<0?null:$w(t,d[R],p[D+1],n.metadata.read))}a.matches=y}return a.matches}function km(e,t,n,i){const a=e.queries.getByIndex(n),d=a.matches;if(null!==d){const p=vE(e,t,a,n);for(let y=0;y<d.length;y+=2){const D=d[y];if(D>0)i.push(p[y/2]);else{const R=d[y+1],L=t[-D];for(let G=Kn;G<L.length;G++){const ue=L[G];ue[Fs]===ue[gn]&&km(ue[lt],ue,R,i)}if(null!==L[gi]){const G=L[gi];for(let ue=0;ue<G.length;ue++){const ve=G[ue];km(ve[lt],ve,R,i)}}}}}return i}function yE(e){const t=We(),n=Jt(),i=Fa();v(i+1);const a=wE(n,i);if(e.dirty&&function Cl(e){return 4==(4&e[Zt])}(t)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const d=a.crossesNgTemplate?km(n,t,i,[]):vE(n,t,a,i);e.reset(d,Yc),e.notifyOnChanges()}return!0}return!1}function EE(e,t,n,i){const a=Jt();if(a.firstCreatePass){const d=tr();(function DE(e,t,n){null===e.queries&&(e.queries=new Om),e.queries.track(new xm(t,n))})(a,new _E(t,n,i),d.index),function Zw(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),2==(2&n)&&(a.staticContentQueries=!0)}!function CE(e,t,n){const i=new Rm(4==(4&n));(function FI(e,t,n,i){const a=U_(t);a.push(n),e.firstCreatePass&&B_(e).push(i,a.length-1)})(e,t,i,i.destroy),null===t[er]&&(t[er]=new Nm),t[er].queries.push(new Pm(i))}(a,We(),n)}function IE(){return function Gw(e,t){return e[er].queries[t].queryList}(We(),Fa())}function wE(e,t){return e.queries.getByIndex(t)}function Lm(e){return!!cr(e)}const HE=new _t("Application Initializer");let Hm=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=wt(HE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const a of this.appInits){const d=a();if(dm(d))n.push(d);else if(Ev(d)){const p=new Promise((y,D)=>{d.subscribe({complete:y,error:D})});n.push(p)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(a=>{this.reject(a)}),0===n.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),VE=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const zp=new _t("LocaleId",{providedIn:"root",factory:()=>wt(zp,St.Optional|St.SkipSelf)||function gb(){return typeof $localize<"u"&&$localize.locale||oh}()}),mb=new _t("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let $E=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new re.X(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class vb{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let yb=(()=>{class e{compileModuleSync(n){return new Sm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),d=Qt(cr(n).declarations).reduce((p,y)=>{const D=Gt(y);return D&&p.push(new lf(D)),p},[]);return new vb(i,d)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ZE=new _t(""),KE=new _t("");let Wm,Hb=(()=>{class e{constructor(n,i,a){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wm||(function Vb(e){Wm=e}(a),a.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{o.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,a){let d=-1;i&&i>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==d),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:d,updateCb:a})}whenStable(n,i,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,a){return[]}static#e=this.\u0275fac=function(i){return new(i||e)(mt(o),mt(YE),mt(KE))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac})}return e})(),YE=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Wm?.findTestabilityInTree(this,n,i)??null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),ql=null;const qE=new _t("AllowMultipleToken"),zm=new _t("PlatformDestroyListeners"),Gm=new _t("appBootstrapListener");class zb{constructor(t,n){this.name=t,this.token=n}}function JE(e,t,n=[]){const i=`Platform: ${t}`,a=new _t(i);return(d=[])=>{let p=Zm();if(!p||p.injector.get(qE,!1)){const y=[...n,...d,{provide:a,useValue:!0}];e?e(y):function Gb(e){if(ql&&!ql.get(qE,!1))throw new he(400,!1);(function QE(){!function Bi(e){Ui=e}(()=>{throw new he(600,!1)})})(),ql=e;const t=e.get(tI);(function XE(e){e.get(sp,null)?.forEach(n=>n())})(e)}(function eI(e=[],t){return ao.create({name:t,providers:[{provide:fl,useValue:"platform"},{provide:zm,useValue:new Set([()=>ql=null])},...e]})}(y,i))}return function Kb(e){const t=Zm();if(!t)throw new he(401,!1);return t}()}}function Zm(){return ql?.get(tI)??null}let tI=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const a=function Yb(e="zone.js",t){return"noop"===e?new B:"zone.js"===e?new o(t):e}(i?.ngZone,function nI(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return a.run(()=>{const d=function JD(e,t,n){return new Tm(e,t,n)}(n.moduleType,this.injector,function aI(e){return[{provide:o,useFactory:e},{provide:Ts,multi:!0,useFactory:()=>{const t=wt(Qb,{optional:!0});return()=>t.initialize()}},{provide:oI,useFactory:qb},{provide:$,useFactory:_e}]}(()=>a)),p=d.injector.get(Ca,null);return a.runOutsideAngular(()=>{const y=a.onError.subscribe({next:D=>{p.handleError(D)}});d.onDestroy(()=>{Zp(this._modules,d),y.unsubscribe()})}),function rI(e,t,n){try{const i=n();return dm(i)?i.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(p,a,()=>{const y=d.injector.get(Hm);return y.runInitializers(),y.donePromise.then(()=>(function Ey(e){$e(e,"Expected localeId to be defined"),"string"==typeof e&&(yy=e.toLowerCase().replace(/_/g,"-"))}(d.injector.get(zp,oh)||oh),this._moduleDoBootstrap(d),d))})})}bootstrapModule(n,i=[]){const a=iI({},i);return function $b(e,t,n){const i=new Sm(n);return Promise.resolve(i)}(0,0,n).then(d=>this.bootstrapModuleFactory(d,a))}_moduleDoBootstrap(n){const i=n.injector.get(lh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>i.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new he(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(zm,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||e)(mt(ao))};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function iI(e,t){return Array.isArray(t)?t.reduce(iI,e):{...e,...t}}let lh=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wt(oI),this.zoneIsStable=wt($),this.componentTypes=[],this.components=[],this.isStable=wt($E).hasPendingTasks.pipe((0,Ie.w)(n=>n?(0,ie.of)(!1):this.zoneIsStable),(0,ye.x)(),(0,ae.B)()),this._injector=wt(oo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const a=n instanceof lp;if(!this._injector.get(Hm).done)throw!a&&wi(n),new he(405,!1);let p;p=a?n:this._injector.get($d).resolveComponentFactory(n),this.componentTypes.push(p.componentType);const y=function Wb(e){return e.isBoundToModule}(p)?void 0:this._injector.get(Jc),R=p.create(ao.NULL,[],i||p.selector,y),L=R.location.nativeElement,G=R.injector.get(ZE,null);return G?.registerApplication(L),R.onDestroy(()=>{this.detachView(R.hostView),Zp(this.components,R),G?.unregisterApplication(L)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Zp(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(Gm,[]);i.push(...this._bootstrapListeners),i.forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Zp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new he(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Zp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const oI=new _t("",{providedIn:"root",factory:()=>wt(Ca).handleError.bind(void 0)});function qb(){const e=wt(o),t=wt(Ca);return n=>e.runOutsideAngular(()=>t.handleError(n))}let Qb=(()=>{class e{constructor(){this.zone=wt(o),this.applicationRef=wt(lh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Mt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Jb(){return!1}let eT=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=tT}return e})();function tT(e){return function nT(e,t,n){if(Zr(e)&&!n){const i=Bn(e.index,t);return new uf(i,i)}return 47&e.type?new uf(t[wn],t):null}(tr(),We(),16==(16&e))}class dI{constructor(){}supports(t){return Sp(t)}create(t){return new uT(t)}}const aT=(e,t)=>t;class uT{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||aT}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,a=0,d=null;for(;n||i;){const p=!i||n&&n.currentIndex<fI(i,a,d)?n:i,y=fI(p,a,d),D=p.currentIndex;if(p===i)a--,i=i._nextRemoved;else if(n=n._next,null==p.previousIndex)a++;else{d||(d=[]);const R=y-a,L=D-a;if(R!=L){for(let ue=0;ue<R;ue++){const ve=ue<d.length?d[ue]:d[ue]=0,Ue=ve+ue;L<=Ue&&Ue<R&&(d[ue]=ve+1)}d[p.previousIndex]=L-R}}y!==D&&t(p,y,D)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Sp(t))throw new he(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,d,p,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let y=0;y<this.length;y++)d=t[y],p=this._trackByFn(y,d),null!==n&&Object.is(n.trackById,p)?(i&&(n=this._verifyReinsertion(n,d,p,y)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,p,y),i=!0),n=n._next}else a=0,function RC(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,y=>{p=this._trackByFn(a,y),null!==n&&Object.is(n.trackById,p)?(i&&(n=this._verifyReinsertion(n,y,p,a)),Object.is(n.item,y)||this._addIdentityChange(n,y)):(n=this._mismatch(n,y,p,a),i=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,a){let d;return null===t?d=this._itTail:(d=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,d,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,d,a)):t=this._addAfter(new lT(n,i),d,a),t}_verifyReinsertion(t,n,i,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==d?t=this._reinsertAfter(d,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,d=t._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new hI),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hI),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class lT{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cT{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class hI{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new cT,this.map.set(n,i)),i.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fI(e,t,n){const i=e.previousIndex;if(null===i)return i;let a=0;return n&&i<n.length&&(a=n[i]),i+t+a}class pI{constructor(){}supports(t){return t instanceof Map||Jg(t)}create(){return new dT}}class dT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Jg(t)))throw new he(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const d=this._getOrCreateRecordForKey(a,i);n=this._insertBeforeOrAppend(n,d)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const d=a._prev,p=a._next;return d&&(d._next=p),p&&(p._prev=d),a._next=null,a._prev=null,a}const i=new hT(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class hT{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gI(){return new Xm([new dI])}let Xm=(()=>{class e{static#e=this.\u0275prov=Mt({token:e,providedIn:"root",factory:gI});constructor(n){this.factories=n}static create(n,i){if(null!=i){const a=i.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||gI()),deps:[[e,new Ja,new ua]]}}find(n){const i=this.factories.find(a=>a.supports(n));if(null!=i)return i;throw new he(901,!1)}}return e})();function mI(){return new Jm([new pI])}let Jm=(()=>{class e{static#e=this.\u0275prov=Mt({token:e,providedIn:"root",factory:mI});constructor(n){this.factories=n}static create(n,i){if(i){const a=i.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||mI()),deps:[[e,new Ja,new ua]]}}find(n){const i=this.factories.find(a=>a.supports(n));if(i)return i;throw new he(901,!1)}}return e})();const gT=JE(null,"core",[]);let mT=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(i){return new(i||e)(mt(lh))};static#t=this.\u0275mod=lo({type:e});static#n=this.\u0275inj=mn({})}return e})();function ST(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function RT(e){const t=Gt(e);if(!t)return null;const n=new lf(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},7213:(dt,De,P)=>{P.d(De,{zQ:()=>hn,ww:()=>an,rT:()=>Se,f7:()=>Dt,L6:()=>Ze,_Q:()=>gt,lh:()=>at,Qv:()=>Ne,nw:()=>Ut}),P(340);var X=P(6814),W=P(5879),z=P(8326),re=P(7217),ie=P(8645),ae=P(2096),Ie=P(5592),ye=P(2459),Z=P(3019),q=P(3093),le=P(4664),xe=P(7398),Fe=P(4552);class Xe extends ie.x{constructor(ct=1/0,ee=1/0,oe=Fe.l){super(),this._bufferSize=ct,this._windowTime=ee,this._timestampProvider=oe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ee===1/0,this._bufferSize=Math.max(1,ct),this._windowTime=Math.max(1,ee)}next(ct){const{isStopped:ee,_buffer:oe,_infiniteTimeWindow:Ee,_timestampProvider:me,_windowTime:Re}=this;ee||(oe.push(ct),!Ee&&oe.push(me.now()+Re)),this._trimBuffer(),super.next(ct)}_subscribe(ct){this._throwIfClosed(),this._trimBuffer();const ee=this._innerSubscribe(ct),{_infiniteTimeWindow:oe,_buffer:Ee}=this,me=Ee.slice();for(let Re=0;Re<me.length&&!ct.closed;Re+=oe?1:2)ct.next(me[Re]);return this._checkFinalizedStatuses(ct),ee}_trimBuffer(){const{_bufferSize:ct,_timestampProvider:ee,_buffer:oe,_infiniteTimeWindow:Ee}=this,me=(Ee?1:2)*ct;if(ct<1/0&&me<oe.length&&oe.splice(0,oe.length-me),!Ee){const Re=ee.now();let Me=0;for(let $e=1;$e<oe.length&&oe[$e]<=Re;$e+=2)Me=$e;Me&&oe.splice(0,Me+1)}}}var Be=P(3020);function Je(ut,ct,ee){let oe,Ee=!1;return ut&&"object"==typeof ut?({bufferSize:oe=1/0,windowTime:ct=1/0,refCount:Ee=!1,scheduler:ee}=ut):oe=ut??1/0,(0,Be.B)({connector:()=>new Xe(oe,ct,ee),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ee})}var Ve=P(1374),Ct=P(4674);function ft(ut,ct){return(0,Ct.m)(ct)?(0,le.w)(()=>ut,ct):(0,le.w)(()=>ut)}var he=P(5137),O=P(2181),fe=P(7142);const Ne=new W.OlP("angularfire2.auth.use-emulator"),Ze=new W.OlP("angularfire2.auth.settings"),gt=new W.OlP("angularfire2.auth.tenant-id"),Se=new W.OlP("angularfire2.auth.langugage-code"),at=new W.OlP("angularfire2.auth.use-device-language"),Dt=new W.OlP("angularfire.auth.persistence"),Ut=(ut,ct,ee,oe,Ee,me,Re,Me)=>(0,re.cc)(`${ut.name}.auth`,"AngularFireAuth",ut.name,()=>{const $e=ct.runOutsideAngular(()=>ut.auth());if(ee&&$e.useEmulator(...ee),oe&&($e.tenantId=oe),$e.languageCode=Ee,me&&$e.useDeviceLanguage(),Re)for(const[qe,Dn]of Object.entries(Re))$e.settings[qe]=Dn;return Me&&$e.setPersistence(Me),$e},[ee,oe,Ee,me,Re,Me]);let hn=(()=>{class ut{authState;idToken;user;idTokenResult;credential;constructor(ee,oe,Ee,me,Re,Me,$e,qe,Dn,Rt,$t,Mt){const un=new ie.x,mn=(0,ae.of)(void 0).pipe((0,q.Q)(Re.outsideAngular),(0,le.w)(()=>me.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,340)))),(0,xe.U)(()=>(0,re.on)(ee,me,oe)),(0,xe.U)(sn=>Ut(sn,me,Me,qe,Dn,Rt,$e,$t)),Je({bufferSize:1,refCount:!1}));if((0,X.PM)(Ee))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ae.of)(null);else{mn.pipe((0,Ve.P)()).subscribe();const sn=mn.pipe((0,le.w)(nn=>nn.getRedirectResult().then(zn=>zn,()=>null)),z.iC,Je({bufferSize:1,refCount:!1})),Yt=mn.pipe((0,le.w)(nn=>new Ie.y(zn=>({unsubscribe:me.runOutsideAngular(()=>nn.onAuthStateChanged(xn=>zn.next(xn),xn=>zn.error(xn),()=>zn.complete()))})))),it=mn.pipe((0,le.w)(nn=>new Ie.y(zn=>({unsubscribe:me.runOutsideAngular(()=>nn.onIdTokenChanged(xn=>zn.next(xn),xn=>zn.error(xn),()=>zn.complete()))}))));this.authState=sn.pipe(ft(Yt),(0,he.R)(Re.outsideAngular),(0,q.Q)(Re.insideAngular)),this.user=sn.pipe(ft(it),(0,he.R)(Re.outsideAngular),(0,q.Q)(Re.insideAngular)),this.idToken=this.user.pipe((0,le.w)(nn=>nn?(0,ye.D)(nn.getIdToken()):(0,ae.of)(null))),this.idTokenResult=this.user.pipe((0,le.w)(nn=>nn?(0,ye.D)(nn.getIdTokenResult()):(0,ae.of)(null))),this.credential=(0,Z.T)(sn,un,this.authState.pipe((0,O.h)(nn=>!nn))).pipe((0,xe.U)(nn=>nn?.user?nn:null),(0,he.R)(Re.outsideAngular),(0,q.Q)(Re.insideAngular))}return(0,re.pX)(this,mn,me,{spy:{apply:(sn,Yt,it)=>{(sn.startsWith("signIn")||sn.startsWith("createUser"))&&it.then(nn=>un.next(nn))}}})}static \u0275fac=function(oe){return new(oe||ut)(W.LFG(re.Dh),W.LFG(re.xv,8),W.LFG(W.Lbi),W.LFG(W.R0b),W.LFG(z.HU),W.LFG(Ne,8),W.LFG(Ze,8),W.LFG(gt,8),W.LFG(Se,8),W.LFG(at,8),W.LFG(Dt,8),W.LFG(z.Rf,8))};static \u0275prov=W.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"any"})}return ut})(),an=(()=>{class ut{constructor(){fe.Z.registerVersion("angularfire",z.q4.full,"auth-compat")}static \u0275fac=function(oe){return new(oe||ut)};static \u0275mod=W.oAB({type:ut});static \u0275inj=W.cJS({providers:[hn]})}return ut})()},7217:(dt,De,P)=>{P.d(De,{Dh:()=>Ie,GT:()=>ie,cc:()=>Fe,hO:()=>xe,on:()=>Z,pX:()=>re,xv:()=>ye});var _=P(5879),X=P(8326),W=P(7142);const z=["ngOnDestroy"],re=(Ve,Ct,ft,he={})=>new Proxy(Ve,{get:(O,fe)=>ft.runOutsideAngular(()=>{if(Ve[fe])return he?.spy?.get&&he.spy.get(fe,Ve[fe]),Ve[fe];if(z.indexOf(fe)>-1)return()=>{};const Le=Ct.toPromise().then(Ne=>{const Ze=Ne?.[fe];return"function"==typeof Ze?Ze.bind(Ne):Ze?.then?Ze.then(gt=>ft.run(()=>gt)):ft.run(()=>Ze)});return new Proxy(()=>{},{get:(Ne,Ze)=>Le[Ze],apply:(Ne,Ze,gt)=>Le.then(Se=>{const at=Se?.(...gt);return he?.spy?.apply&&he.spy.apply(fe,gt,at),at})})})}),ie=(Ve,Ct)=>{Ct.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(he=>{Object.defineProperty(Ve.prototype,he,Object.getOwnPropertyDescriptor(ft.prototype||ft,he))})})};class ae{constructor(Ct){return Ct}}const Ie=new _.OlP("angularfire2.app.options"),ye=new _.OlP("angularfire2.app.name");function Z(Ve,Ct,ft){const O="object"==typeof ft&&ft||{};O.name=O.name||"string"==typeof ft&&ft||"[DEFAULT]";const Le=W.Z.apps.filter(Ne=>Ne&&Ne.name===O.name)[0]||Ct.runOutsideAngular(()=>W.Z.initializeApp(Ve,O));try{if(JSON.stringify(Ve)!==JSON.stringify(Le.options)){const Ne=!!module.hot;q("error",`${Le.name} Firebase App already initialized with different options${Ne?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ae(Le)}const q=(Ve,...Ct)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Ve](...Ct)},le={provide:ae,useFactory:Z,deps:[Ie,_.R0b,[new _.FiY,ye]]};let xe=(()=>{class Ve{static initializeApp(ft,he){return{ngModule:Ve,providers:[{provide:Ie,useValue:ft},{provide:ye,useValue:he}]}}constructor(ft){W.Z.registerVersion("angularfire",X.q4.full,"core"),W.Z.registerVersion("angularfire",X.q4.full,"app-compat"),W.Z.registerVersion("angular",_.q4F.full,ft.toString())}static \u0275fac=function(he){return new(he||Ve)(_.LFG(_.Lbi))};static \u0275mod=_.oAB({type:Ve});static \u0275inj=_.cJS({providers:[le]})}return Ve})();function Fe(Ve,Ct,ft,he,O){const[,fe,Le]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===Ve)||[];if(fe)return function Xe(Ve,Ct){try{return Ve.toString()===Ct.toString()}catch{return Ve===Ct}}(O,Le)||(Je("error",`${Ct} was already initialized on the ${ft} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),Je("warn",{is:O,was:Le})),fe;{const Ne=he();return globalThis.\u0275AngularfireInstanceCache.push([Ve,Ne,O]),Ne}}const Be=typeof module<"u"&&!!module.hot,Je=(Ve,...Ct)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Ve](...Ct)};globalThis.\u0275AngularfireInstanceCache||=[]},8326:(dt,De,P)=>{P.d(De,{q4:()=>Xe,iC:()=>Dt,fc:()=>Se,HU:()=>Le,Rf:()=>Ct});var _=P(5879),X=P(534);(0,X.registerVersion)("firebase","10.11.1","app");var re=P(1954),ae=P(2631);const ye=new class Ie extends ae.v{}(class ie extends re.o{constructor(ct,ee){super(ct,ee),this.scheduler=ct,this.work=ee}schedule(ct,ee=0){return ee>0?super.schedule(ct,ee):(this.delay=ee,this.state=ct,this.scheduler.flush(this),this)}execute(ct,ee){return ee>0||this.closed?super.execute(ct,ee):this._execute(ct,ee)}requestAsyncId(ct,ee,oe=0){return null!=oe&&oe>0||null==oe&&this.delay>0?super.requestAsyncId(ct,ee,oe):(ct.flush(this),0)}});var q=P(6321),le=P(9397),xe=P(3093),Fe=P(5137);const Xe=new _.GfV("ANGULARFIRE2_VERSION");class Ct{constructor(){return((ut,ct)=>{const ee=(0,X.getApps)(),oe=[];return ee.forEach(Ee=>{Ee.container.getProvider(ut).instances.forEach(Re=>{oe.includes(Re)||oe.push(Re)})}),oe})(ft)}}const ft="app-check";function he(){}class O{zone;delegate;constructor(ct,ee=ye){this.zone=ct,this.delegate=ee}now(){return this.delegate.now()}schedule(ct,ee,oe){const Ee=this.zone;return this.delegate.schedule(function(Re){Ee.runGuarded(()=>{ct.apply(this,[Re])})},ee,oe)}}class fe{zone;task=null;constructor(ct){this.zone=ct}call(ct,ee){const oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",he,{},he,he)),ee.pipe((0,le.b)({next:oe,complete:oe,error:oe})).subscribe(ct).add(oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Le=(()=>{class ut{ngZone;outsideAngular;insideAngular;constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new O(Zone.current)),this.insideAngular=ee.run(()=>new O(Zone.current,q.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(oe){return new(oe||ut)(_.LFG(_.R0b))};static \u0275prov=_.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();function Ne(){const ut=globalThis.\u0275AngularFireScheduler;if(!ut)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return ut}function Se(ut){return ut.pipe((0,xe.Q)(Ne().outsideAngular))}function Dt(ut){return function Ut(ut){return function(ee){return(ee=ee.lift(new fe(ut.ngZone))).pipe((0,Fe.R)(ut.outsideAngular),(0,xe.Q)(ut.insideAngular))}}(Ne())(ut)}},6593:(dt,De,P)=>{P.d(De,{Dx:()=>br,b2:()=>Yt,q6:()=>Mt});var _=P(5879),X=P(6814);class W extends X.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class z extends W{static makeCurrent(){(0,X.HT)(new z)}onAndCancel(H,U,V){return H.addEventListener(U,V),()=>{H.removeEventListener(U,V)}}dispatchEvent(H,U){H.dispatchEvent(U)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,U){return(U=U||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,U){return"window"===U?window:"document"===U?H:"body"===U?H.body:null}getBaseHref(H){const U=function ie(){return re=re||document.querySelector("base"),re?re.getAttribute("href"):null}();return null==U?null:function Ie(j){ae=ae||document.createElement("a"),ae.setAttribute("href",j);const H=ae.pathname;return"/"===H.charAt(0)?H:`/${H}`}(U)}resetBaseElement(){re=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,X.Mx)(document.cookie,H)}}let ae,re=null,Z=(()=>{class j{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(V){return new(V||j)};static#t=this.\u0275prov=_.Yz7({token:j,factory:j.\u0275fac})}return j})();const q=new _.OlP("EventManagerPlugins");let le=(()=>{class j{constructor(U,V){this._zone=V,this._eventNameToPlugin=new Map,U.forEach(ce=>{ce.manager=this}),this._plugins=U.slice().reverse()}addEventListener(U,V,ce){return this._findPluginFor(V).addEventListener(U,V,ce)}getZone(){return this._zone}_findPluginFor(U){let V=this._eventNameToPlugin.get(U);if(V)return V;if(V=this._plugins.find(Oe=>Oe.supports(U)),!V)throw new _.vHH(5101,!1);return this._eventNameToPlugin.set(U,V),V}static#e=this.\u0275fac=function(V){return new(V||j)(_.LFG(q),_.LFG(_.R0b))};static#t=this.\u0275prov=_.Yz7({token:j,factory:j.\u0275fac})}return j})();class xe{constructor(H){this._doc=H}}const Fe="ng-app-id";let Xe=(()=>{class j{constructor(U,V,ce,Oe={}){this.doc=U,this.appId=V,this.nonce=ce,this.platformId=Oe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,X.PM)(Oe),this.resetHostNodes()}addStyles(U){for(const V of U)1===this.changeUsageCount(V,1)&&this.onStyleAdded(V)}removeStyles(U){for(const V of U)this.changeUsageCount(V,-1)<=0&&this.onStyleRemoved(V)}ngOnDestroy(){const U=this.styleNodesInDOM;U&&(U.forEach(V=>V.remove()),U.clear());for(const V of this.getAllStyles())this.onStyleRemoved(V);this.resetHostNodes()}addHost(U){this.hostNodes.add(U);for(const V of this.getAllStyles())this.addStyleToHost(U,V)}removeHost(U){this.hostNodes.delete(U)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(U){for(const V of this.hostNodes)this.addStyleToHost(V,U)}onStyleRemoved(U){const V=this.styleRef;V.get(U)?.elements?.forEach(ce=>ce.remove()),V.delete(U)}collectServerRenderedStyles(){const U=this.doc.head?.querySelectorAll(`style[${Fe}="${this.appId}"]`);if(U?.length){const V=new Map;return U.forEach(ce=>{null!=ce.textContent&&V.set(ce.textContent,ce)}),V}return null}changeUsageCount(U,V){const ce=this.styleRef;if(ce.has(U)){const Oe=ce.get(U);return Oe.usage+=V,Oe.usage}return ce.set(U,{usage:V,elements:[]}),V}getStyleElement(U,V){const ce=this.styleNodesInDOM,Oe=ce?.get(V);if(Oe?.parentNode===U)return ce.delete(V),Oe.removeAttribute(Fe),Oe;{const st=this.doc.createElement("style");return this.nonce&&st.setAttribute("nonce",this.nonce),st.textContent=V,this.platformIsServer&&st.setAttribute(Fe,this.appId),st}}addStyleToHost(U,V){const ce=this.getStyleElement(U,V);U.appendChild(ce);const Oe=this.styleRef,st=Oe.get(V)?.elements;st?st.push(ce):Oe.set(V,{elements:[ce],usage:1})}resetHostNodes(){const U=this.hostNodes;U.clear(),U.add(this.doc.head)}static#e=this.\u0275fac=function(V){return new(V||j)(_.LFG(X.K0),_.LFG(_.AFp),_.LFG(_.Ojb,8),_.LFG(_.Lbi))};static#t=this.\u0275prov=_.Yz7({token:j,factory:j.\u0275fac})}return j})();const Be={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Je=/%COMP%/g,O=new _.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ne(j,H){return H.map(U=>U.replace(Je,j))}let Ze=(()=>{class j{constructor(U,V,ce,Oe,st,mt,xt,wt=null){this.eventManager=U,this.sharedStylesHost=V,this.appId=ce,this.removeStylesOnCompDestroy=Oe,this.doc=st,this.platformId=mt,this.ngZone=xt,this.nonce=wt,this.rendererByCompId=new Map,this.platformIsServer=(0,X.PM)(mt),this.defaultRenderer=new gt(U,st,xt,this.platformIsServer)}createRenderer(U,V){if(!U||!V)return this.defaultRenderer;this.platformIsServer&&V.encapsulation===_.ifc.ShadowDom&&(V={...V,encapsulation:_.ifc.Emulated});const ce=this.getOrCreateRenderer(U,V);return ce instanceof an?ce.applyToHost(U):ce instanceof hn&&ce.applyStyles(),ce}getOrCreateRenderer(U,V){const ce=this.rendererByCompId;let Oe=ce.get(V.id);if(!Oe){const st=this.doc,mt=this.ngZone,xt=this.eventManager,wt=this.sharedStylesHost,yt=this.removeStylesOnCompDestroy,pn=this.platformIsServer;switch(V.encapsulation){case _.ifc.Emulated:Oe=new an(xt,wt,V,this.appId,yt,st,mt,pn);break;case _.ifc.ShadowDom:return new Ut(xt,wt,U,V,st,mt,this.nonce,pn);default:Oe=new hn(xt,wt,V,yt,st,mt,pn)}ce.set(V.id,Oe)}return Oe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(V){return new(V||j)(_.LFG(le),_.LFG(Xe),_.LFG(_.AFp),_.LFG(O),_.LFG(X.K0),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(_.Ojb))};static#t=this.\u0275prov=_.Yz7({token:j,factory:j.\u0275fac})}return j})();class gt{constructor(H,U,V,ce){this.eventManager=H,this.doc=U,this.ngZone=V,this.platformIsServer=ce,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(H,U){return U?this.doc.createElementNS(Be[U]||U,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,U){(Dt(H)?H.content:H).appendChild(U)}insertBefore(H,U,V){H&&(Dt(H)?H.content:H).insertBefore(U,V)}removeChild(H,U){H&&H.removeChild(U)}selectRootElement(H,U){let V="string"==typeof H?this.doc.querySelector(H):H;if(!V)throw new _.vHH(-5104,!1);return U||(V.textContent=""),V}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,U,V,ce){if(ce){U=ce+":"+U;const Oe=Be[ce];Oe?H.setAttributeNS(Oe,U,V):H.setAttribute(U,V)}else H.setAttribute(U,V)}removeAttribute(H,U,V){if(V){const ce=Be[V];ce?H.removeAttributeNS(ce,U):H.removeAttribute(`${V}:${U}`)}else H.removeAttribute(U)}addClass(H,U){H.classList.add(U)}removeClass(H,U){H.classList.remove(U)}setStyle(H,U,V,ce){ce&(_.JOm.DashCase|_.JOm.Important)?H.style.setProperty(U,V,ce&_.JOm.Important?"important":""):H.style[U]=V}removeStyle(H,U,V){V&_.JOm.DashCase?H.style.removeProperty(U):H.style[U]=""}setProperty(H,U,V){H[U]=V}setValue(H,U){H.nodeValue=U}listen(H,U,V){if("string"==typeof H&&!(H=(0,X.q)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${U}`);return this.eventManager.addEventListener(H,U,this.decoratePreventDefault(V))}decoratePreventDefault(H){return U=>{if("__ngUnwrap__"===U)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H(U)):H(U))&&U.preventDefault()}}}function Dt(j){return"TEMPLATE"===j.tagName&&void 0!==j.content}class Ut extends gt{constructor(H,U,V,ce,Oe,st,mt,xt){super(H,Oe,st,xt),this.sharedStylesHost=U,this.hostEl=V,this.shadowRoot=V.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const wt=Ne(ce.id,ce.styles);for(const yt of wt){const pn=document.createElement("style");mt&&pn.setAttribute("nonce",mt),pn.textContent=yt,this.shadowRoot.appendChild(pn)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,U){return super.appendChild(this.nodeOrShadowRoot(H),U)}insertBefore(H,U,V){return super.insertBefore(this.nodeOrShadowRoot(H),U,V)}removeChild(H,U){return super.removeChild(this.nodeOrShadowRoot(H),U)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hn extends gt{constructor(H,U,V,ce,Oe,st,mt,xt){super(H,Oe,st,mt),this.sharedStylesHost=U,this.removeStylesOnCompDestroy=ce,this.styles=xt?Ne(xt,V.styles):V.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class an extends hn{constructor(H,U,V,ce,Oe,st,mt,xt){const wt=ce+"-"+V.id;super(H,U,V,Oe,st,mt,xt,wt),this.contentAttr=function fe(j){return"_ngcontent-%COMP%".replace(Je,j)}(wt),this.hostAttr=function Le(j){return"_nghost-%COMP%".replace(Je,j)}(wt)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,U){const V=super.createElement(H,U);return super.setAttribute(V,this.contentAttr,""),V}}let ut=(()=>{class j extends xe{constructor(U){super(U)}supports(U){return!0}addEventListener(U,V,ce){return U.addEventListener(V,ce,!1),()=>this.removeEventListener(U,V,ce)}removeEventListener(U,V,ce){return U.removeEventListener(V,ce)}static#e=this.\u0275fac=function(V){return new(V||j)(_.LFG(X.K0))};static#t=this.\u0275prov=_.Yz7({token:j,factory:j.\u0275fac})}return j})();const ct=["alt","control","meta","shift"],ee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oe={alt:j=>j.altKey,control:j=>j.ctrlKey,meta:j=>j.metaKey,shift:j=>j.shiftKey};let Ee=(()=>{class j extends xe{constructor(U){super(U)}supports(U){return null!=j.parseEventName(U)}addEventListener(U,V,ce){const Oe=j.parseEventName(V),st=j.eventCallback(Oe.fullKey,ce,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,X.q)().onAndCancel(U,Oe.domEventName,st))}static parseEventName(U){const V=U.toLowerCase().split("."),ce=V.shift();if(0===V.length||"keydown"!==ce&&"keyup"!==ce)return null;const Oe=j._normalizeKey(V.pop());let st="",mt=V.indexOf("code");if(mt>-1&&(V.splice(mt,1),st="code."),ct.forEach(wt=>{const yt=V.indexOf(wt);yt>-1&&(V.splice(yt,1),st+=wt+".")}),st+=Oe,0!=V.length||0===Oe.length)return null;const xt={};return xt.domEventName=ce,xt.fullKey=st,xt}static matchEventFullKeyCode(U,V){let ce=ee[U.key]||U.key,Oe="";return V.indexOf("code.")>-1&&(ce=U.code,Oe="code."),!(null==ce||!ce)&&(ce=ce.toLowerCase()," "===ce?ce="space":"."===ce&&(ce="dot"),ct.forEach(st=>{st!==ce&&(0,oe[st])(U)&&(Oe+=st+".")}),Oe+=ce,Oe===V)}static eventCallback(U,V,ce){return Oe=>{j.matchEventFullKeyCode(Oe,U)&&ce.runGuarded(()=>V(Oe))}}static _normalizeKey(U){return"esc"===U?"escape":U}static#e=this.\u0275fac=function(V){return new(V||j)(_.LFG(X.K0))};static#t=this.\u0275prov=_.Yz7({token:j,factory:j.\u0275fac})}return j})();const Mt=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:X.bD},{provide:_.g9A,useValue:function qe(){z.makeCurrent()},multi:!0},{provide:X.K0,useFactory:function Rt(){return(0,_.RDi)(document),document},deps:[]}]),un=new _.OlP(""),mn=[{provide:_.rWj,useClass:class ye{addToWindow(H){_.dqk.getAngularTestability=(V,ce=!0)=>{const Oe=H.findTestabilityInTree(V,ce);if(null==Oe)throw new _.vHH(5103,!1);return Oe},_.dqk.getAllAngularTestabilities=()=>H.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>H.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(V=>{const ce=_.dqk.getAllAngularTestabilities();let Oe=ce.length,st=!1;const mt=function(xt){st=st||xt,Oe--,0==Oe&&V(st)};ce.forEach(xt=>{xt.whenStable(mt)})})}findTestabilityInTree(H,U,V){return null==U?null:H.getTestability(U)??(V?(0,X.q)().isShadowRoot(U)?this.findTestabilityInTree(H,U.host,!0):this.findTestabilityInTree(H,U.parentElement,!0):null)}},deps:[]},{provide:_.lri,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]}],sn=[{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function Dn(){return new _.qLn},deps:[]},{provide:q,useClass:ut,multi:!0,deps:[X.K0,_.R0b,_.Lbi]},{provide:q,useClass:Ee,multi:!0,deps:[X.K0]},Ze,Xe,le,{provide:_.FYo,useExisting:Ze},{provide:X.JF,useClass:Z,deps:[]},[]];let Yt=(()=>{class j{constructor(U){}static withServerTransition(U){return{ngModule:j,providers:[{provide:_.AFp,useValue:U.appId}]}}static#e=this.\u0275fac=function(V){return new(V||j)(_.LFG(un,12))};static#t=this.\u0275mod=_.oAB({type:j});static#n=this.\u0275inj=_.cJS({providers:[...sn,...mn],imports:[X.ez,_.hGG]})}return j})(),br=(()=>{class j{constructor(U){this._doc=U}getTitle(){return this._doc.title}setTitle(U){this._doc.title=U||""}static#e=this.\u0275fac=function(V){return new(V||j)(_.LFG(X.K0))};static#t=this.\u0275prov=_.Yz7({token:j,factory:function(V){let ce=null;return ce=V?new V:function xn(){return new br((0,_.LFG)(X.K0))}(),ce},providedIn:"root"})}return j})();typeof window<"u"&&window},3781:(dt,De,P)=>{P.d(De,{F0:()=>Bn,rH:()=>Uu,Bz:()=>nd,lC:()=>Yi});var _=P(5879),X=P(5592),W=P(4674),re=P(2459),ie=P(2096),ae=P(5619),Ie=P(7453),ye=P(2737),Z=P(7400),q=P(4564),le=P(2714),xe=P(8251),Fe=P(7103);function Xe(...v){const C=(0,q.yG)(v),m=(0,q.jO)(v),{args:w,keys:S}=(0,Ie.D)(v);if(0===w.length)return(0,re.D)([],C);const F=new X.y(function Be(v,C,m=ye.y){return w=>{Je(C,()=>{const{length:S}=v,F=new Array(S);let K=S,we=S;for(let Ce=0;Ce<S;Ce++)Je(C,()=>{const Ye=(0,re.D)(v[Ce],C);let nt=!1;Ye.subscribe((0,xe.x)(w,Ot=>{F[Ce]=Ot,nt||(nt=!0,we--),we||w.next(m(F.slice()))},()=>{--K||w.complete()}))},w)},w)}}(w,C,S?K=>(0,le.n)(S,K):ye.y));return m?F.pipe((0,Z.Z)(m)):F}function Je(v,C,m){v?(0,Fe.f)(m,v,C):C()}var Ve=P(6973),Ct=P(5211),ft=P(4829);function he(v){return new X.y(C=>{(0,ft.Xf)(v()).subscribe(C)})}var O=P(8407);function fe(v,C){const m=(0,W.m)(v)?v:()=>v,w=S=>S.error(m());return new X.y(C?S=>C.schedule(w,0,S):w)}var Le=P(6232),Ne=P(7394),Ze=P(9360);function gt(){return(0,Ze.e)((v,C)=>{let m=null;v._refCount++;const w=(0,xe.x)(C,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(m=null);const S=v._connection,F=m;m=null,S&&(!F||S===F)&&S.unsubscribe(),C.unsubscribe()});v.subscribe(w),w.closed||(m=v.connect())})}class Se extends X.y{constructor(C,m){super(),this.source=C,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,Ze.A)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,C?.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new Ne.w0;const m=this.getSubject();C.add(this.source.subscribe((0,xe.x)(m,void 0,()=>{this._teardown(),m.complete()},w=>{this._teardown(),m.error(w)},()=>this._teardown()))),C.closed&&(this._connection=null,C=Ne.w0.EMPTY)}return C}refCount(){return gt()(this)}}var at=P(8645),Dt=P(6814),Ut=P(7398),hn=P(4664),an=P(8180),ut=P(7921),ct=P(2181),ee=P(1631),oe=P(1374),Ee=P(6328),me=P(9397);function Re(v){return(0,Ze.e)((C,m)=>{let F,w=null,S=!1;w=C.subscribe((0,xe.x)(m,void 0,void 0,K=>{F=(0,ft.Xf)(v(K,Re(v)(C))),w?(w.unsubscribe(),w=null,F.subscribe(m)):S=!0})),S&&(w.unsubscribe(),w=null,F.subscribe(m))})}var Me=P(6699),$e=P(3572);function qe(v){return v<=0?()=>Le.E:(0,Ze.e)((C,m)=>{let w=[];C.subscribe((0,xe.x)(m,S=>{w.push(S),v<w.length&&w.shift()},()=>{for(const S of w)m.next(S);m.complete()},void 0,()=>{w=null}))})}var Dn=P(3026),Mt=P(4716),un=P(2420),sn=P(7537),Yt=P(6593);const it="primary",nn=Symbol("RouteTitle");class zn{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const m=this.params[C];return Array.isArray(m)?m[0]:m}return null}getAll(C){if(this.has(C)){const m=this.params[C];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function xn(v){return new zn(v)}function br(v,C,m){const w=m.path.split("/");if(w.length>v.length||"full"===m.pathMatch&&(C.hasChildren()||w.length<v.length))return null;const S={};for(let F=0;F<w.length;F++){const K=w[F],we=v[F];if(K.startsWith(":"))S[K.substring(1)]=we;else if(K!==we.path)return null}return{consumed:v.slice(0,w.length),posParams:S}}function Tn(v,C){const m=v?Object.keys(v):void 0,w=C?Object.keys(C):void 0;if(!m||!w||m.length!=w.length)return!1;let S;for(let F=0;F<m.length;F++)if(S=m[F],!St(v[S],C[S]))return!1;return!0}function St(v,C){if(Array.isArray(v)&&Array.isArray(C)){if(v.length!==C.length)return!1;const m=[...v].sort(),w=[...C].sort();return m.every((S,F)=>w[F]===S)}return v===C}function Ht(v){return v.length>0?v[v.length-1]:null}function At(v){return function z(v){return!!v&&(v instanceof X.y||(0,W.m)(v.lift)&&(0,W.m)(v.subscribe))}(v)?v:(0,_.QGY)(v)?(0,re.D)(Promise.resolve(v)):(0,ie.of)(v)}const En={exact:function Pn(v,C,m){if(!Gn(v.segments,C.segments)||!Kt(v.segments,C.segments,m)||v.numberOfChildren!==C.numberOfChildren)return!1;for(const w in C.children)if(!v.children[w]||!Pn(v.children[w],C.children[w],m))return!1;return!0},subset:_t},Sn={exact:function Xt(v,C){return Tn(v,C)},subset:function Pi(v,C){return Object.keys(C).length<=Object.keys(v).length&&Object.keys(C).every(m=>St(v[m],C[m]))},ignored:()=>!0};function qn(v,C,m){return En[m.paths](v.root,C.root,m.matrixParams)&&Sn[m.queryParams](v.queryParams,C.queryParams)&&!("exact"===m.fragment&&v.fragment!==C.fragment)}function _t(v,C,m){return xr(v,C,C.segments,m)}function xr(v,C,m,w){if(v.segments.length>m.length){const S=v.segments.slice(0,m.length);return!(!Gn(S,m)||C.hasChildren()||!Kt(S,m,w))}if(v.segments.length===m.length){if(!Gn(v.segments,m)||!Kt(v.segments,m,w))return!1;for(const S in C.children)if(!v.children[S]||!_t(v.children[S],C.children[S],w))return!1;return!0}{const S=m.slice(0,v.segments.length),F=m.slice(v.segments.length);return!!(Gn(v.segments,S)&&Kt(v.segments,S,w)&&v.children[it])&&xr(v.children[it],C,F,w)}}function Kt(v,C,m){return C.every((w,S)=>Sn[m](v[S].parameters,w.parameters))}class mr{constructor(C=new Bt([],{}),m={},w=null){this.root=C,this.queryParams=m,this.fragment=w}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xn(this.queryParams)),this._queryParamMap}toString(){return Qr.serialize(this)}}class Bt{constructor(C,m){this.segments=C,this.children=m,this.parent=null,Object.values(m).forEach(w=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sr(this)}}class kn{constructor(C,m){this.path=C,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=xn(this.parameters)),this._parameterMap}toString(){return ce(this)}}function Gn(v,C){return v.length===C.length&&v.every((m,w)=>m.path===C[w].path)}let ir=(()=>{class v{static#e=this.\u0275fac=function(w){return new(w||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:function(){return new Ln},providedIn:"root"})}return v})();class Ln{parse(C){const m=new He(C);return new mr(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(C){const m=`/${_r(C.root,!0)}`,w=function st(v){const C=Object.keys(v).map(m=>{const w=v[m];return Array.isArray(w)?w.map(S=>`${te(m)}=${te(S)}`).join("&"):`${te(m)}=${te(w)}`}).filter(m=>!!m);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${m}${w}${"string"==typeof C.fragment?`#${function j(v){return encodeURI(v)}(C.fragment)}`:""}`}}const Qr=new Ln;function sr(v){return v.segments.map(C=>ce(C)).join("/")}function _r(v,C){if(!v.hasChildren())return sr(v);if(C){const m=v.children[it]?_r(v.children[it],!1):"",w=[];return Object.entries(v.children).forEach(([S,F])=>{S!==it&&w.push(`${S}:${_r(F,!1)}`)}),w.length>0?`${m}(${w.join("//")})`:m}{const m=function rr(v,C){let m=[];return Object.entries(v.children).forEach(([w,S])=>{w===it&&(m=m.concat(C(S,w)))}),Object.entries(v.children).forEach(([w,S])=>{w!==it&&(m=m.concat(C(S,w)))}),m}(v,(w,S)=>S===it?[_r(v.children[it],!1)]:[`${S}:${_r(w,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[it]?`${sr(v)}/${m[0]}`:`${sr(v)}/(${m.join("//")})`}}function Sr(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function te(v){return Sr(v).replace(/%3B/gi,";")}function H(v){return Sr(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function U(v){return decodeURIComponent(v)}function V(v){return U(v.replace(/\+/g,"%20"))}function ce(v){return`${H(v.path)}${function Oe(v){return Object.keys(v).map(C=>`;${H(C)}=${H(v[C])}`).join("")}(v.parameters)}`}const mt=/^[^\/()?;#]+/;function xt(v){const C=v.match(mt);return C?C[0]:""}const wt=/^[^\/()?;=#]+/,pn=/^[^=?&#]+/,J=/^[^&#]+/;class He{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(C.length>0||Object.keys(m).length>0)&&(w[it]=new Bt(C,m)),w}parseSegment(){const C=xt(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new _.vHH(4009,!1);return this.capture(C),new kn(U(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const m=function yt(v){const C=v.match(wt);return C?C[0]:""}(this.remaining);if(!m)return;this.capture(m);let w="";if(this.consumeOptional("=")){const S=xt(this.remaining);S&&(w=S,this.capture(w))}C[U(m)]=U(w)}parseQueryParam(C){const m=function ge(v){const C=v.match(pn);return C?C[0]:""}(this.remaining);if(!m)return;this.capture(m);let w="";if(this.consumeOptional("=")){const K=function se(v){const C=v.match(J);return C?C[0]:""}(this.remaining);K&&(w=K,this.capture(w))}const S=V(m),F=V(w);if(C.hasOwnProperty(S)){let K=C[S];Array.isArray(K)||(K=[K],C[S]=K),K.push(F)}else C[S]=F}parseParens(C){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=xt(this.remaining),S=this.remaining[w.length];if("/"!==S&&")"!==S&&";"!==S)throw new _.vHH(4010,!1);let F;w.indexOf(":")>-1?(F=w.slice(0,w.indexOf(":")),this.capture(F),this.capture(":")):C&&(F=it);const K=this.parseChildren();m[F]=1===Object.keys(K).length?K[it]:new Bt([],K),this.consumeOptional("//")}return m}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new _.vHH(4011,!1)}}function Ke(v){return v.segments.length>0?new Bt([],{[it]:v}):v}function rt(v){const C={};for(const w of Object.keys(v.children)){const F=rt(v.children[w]);if(w===it&&0===F.segments.length&&F.hasChildren())for(const[K,we]of Object.entries(F.children))C[K]=we;else(F.segments.length>0||F.hasChildren())&&(C[w]=F)}return function tt(v){if(1===v.numberOfChildren&&v.children[it]){const C=v.children[it];return new Bt(v.segments.concat(C.segments),C.children)}return v}(new Bt(v.segments,C))}function zt(v){return v instanceof mr}function de(v){let C;const S=Ke(function m(F){const K={};for(const Ce of F.children){const Ye=m(Ce);K[Ce.outlet]=Ye}const we=new Bt(F.url,K);return F===v&&(C=we),we}(v.root));return C??S}function Pe(v,C,m,w){let S=v;for(;S.parent;)S=S.parent;if(0===C.length)return Tt(S,S,S,m,w);const F=function Nt(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new kt(!0,0,v);let C=0,m=!1;const w=v.reduce((S,F,K)=>{if("object"==typeof F&&null!=F){if(F.outlets){const we={};return Object.entries(F.outlets).forEach(([Ce,Ye])=>{we[Ce]="string"==typeof Ye?Ye.split("/"):Ye}),[...S,{outlets:we}]}if(F.segmentPath)return[...S,F.segmentPath]}return"string"!=typeof F?[...S,F]:0===K?(F.split("/").forEach((we,Ce)=>{0==Ce&&"."===we||(0==Ce&&""===we?m=!0:".."===we?C++:""!=we&&S.push(we))}),S):[...S,F]},[]);return new kt(m,C,w)}(C);if(F.toRoot())return Tt(S,S,new Bt([],{}),m,w);const K=function Ar(v,C,m){if(v.isAbsolute)return new _n(C,!0,0);if(!m)return new _n(C,!1,NaN);if(null===m.parent)return new _n(m,!0,0);const w=Ge(v.commands[0])?0:1;return function Qn(v,C,m){let w=v,S=C,F=m;for(;F>S;){if(F-=S,w=w.parent,!w)throw new _.vHH(4005,!1);S=w.segments.length}return new _n(w,!1,S-F)}(m,m.segments.length-1+w,v.numberOfDoubleDots)}(F,S,v),we=K.processChildren?di(K.segmentGroup,K.index,F.commands):In(K.segmentGroup,K.index,F.commands);return Tt(S,K.segmentGroup,we,m,w)}function Ge(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function pt(v){return"object"==typeof v&&null!=v&&v.outlets}function Tt(v,C,m,w,S){let K,F={};w&&Object.entries(w).forEach(([Ce,Ye])=>{F[Ce]=Array.isArray(Ye)?Ye.map(nt=>`${nt}`):`${Ye}`}),K=v===C?m:Pt(v,C,m);const we=Ke(rt(K));return new mr(we,F,S)}function Pt(v,C,m){const w={};return Object.entries(v.children).forEach(([S,F])=>{w[S]=F===C?m:Pt(F,C,m)}),new Bt(v.segments,w)}class kt{constructor(C,m,w){if(this.isAbsolute=C,this.numberOfDoubleDots=m,this.commands=w,C&&w.length>0&&Ge(w[0]))throw new _.vHH(4003,!1);const S=w.find(pt);if(S&&S!==Ht(w))throw new _.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _n{constructor(C,m,w){this.segmentGroup=C,this.processChildren=m,this.index=w}}function In(v,C,m){if(v||(v=new Bt([],{})),0===v.segments.length&&v.hasChildren())return di(v,C,m);const w=function Gi(v,C,m){let w=0,S=C;const F={match:!1,pathIndex:0,commandIndex:0};for(;S<v.segments.length;){if(w>=m.length)return F;const K=v.segments[S],we=m[w];if(pt(we))break;const Ce=`${we}`,Ye=w<m.length-1?m[w+1]:null;if(S>0&&void 0===Ce)break;if(Ce&&Ye&&"object"==typeof Ye&&void 0===Ye.outlets){if(!lr(Ce,Ye,K))return F;w+=2}else{if(!lr(Ce,{},K))return F;w++}S++}return{match:!0,pathIndex:S,commandIndex:w}}(v,C,m),S=m.slice(w.commandIndex);if(w.match&&w.pathIndex<v.segments.length){const F=new Bt(v.segments.slice(0,w.pathIndex),{});return F.children[it]=new Bt(v.segments.slice(w.pathIndex),v.children),di(F,0,S)}return w.match&&0===S.length?new Bt(v.segments,{}):w.match&&!v.hasChildren()?Ms(v,C,m):w.match?di(v,0,S):Ms(v,C,m)}function di(v,C,m){if(0===m.length)return new Bt(v.segments,{});{const w=function Xr(v){return pt(v[0])?v[0].outlets:{[it]:v}}(m),S={};if(Object.keys(w).some(F=>F!==it)&&v.children[it]&&1===v.numberOfChildren&&0===v.children[it].segments.length){const F=di(v.children[it],C,m);return new Bt(v.segments,F.children)}return Object.entries(w).forEach(([F,K])=>{"string"==typeof K&&(K=[K]),null!==K&&(S[F]=In(v.children[F],C,K))}),Object.entries(v.children).forEach(([F,K])=>{void 0===w[F]&&(S[F]=K)}),new Bt(v.segments,S)}}function Ms(v,C,m){const w=v.segments.slice(0,C);let S=0;for(;S<m.length;){const F=m[S];if(pt(F)){const Ce=Ps(F.outlets);return new Bt(w,Ce)}if(0===S&&Ge(m[0])){w.push(new kn(v.segments[C].path,Ns(m[0]))),S++;continue}const K=pt(F)?F.outlets[it]:`${F}`,we=S<m.length-1?m[S+1]:null;K&&we&&Ge(we)?(w.push(new kn(K,Ns(we))),S+=2):(w.push(new kn(K,{})),S++)}return new Bt(w,{})}function Ps(v){const C={};return Object.entries(v).forEach(([m,w])=>{"string"==typeof w&&(w=[w]),null!==w&&(C[m]=Ms(new Bt([],{}),0,w))}),C}function Ns(v){const C={};return Object.entries(v).forEach(([m,w])=>C[m]=`${w}`),C}function lr(v,C,m){return v==m.path&&Tn(C,m.parameters)}const Zi="imperative";class Wr{constructor(C,m){this.id=C,this.url=m}}class ko extends Wr{constructor(C,m,w="imperative",S=null){super(C,m),this.type=0,this.navigationTrigger=w,this.restoredState=S}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hi extends Wr{constructor(C,m,w){super(C,m),this.urlAfterRedirects=w,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Os extends Wr{constructor(C,m,w,S){super(C,m),this.reason=w,this.code=S,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ds extends Wr{constructor(C,m,w,S){super(C,m),this.reason=w,this.code=S,this.type=16}}class Xn extends Wr{constructor(C,m,w,S){super(C,m),this.error=w,this.target=S,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ki extends Wr{constructor(C,m,w,S){super(C,m),this.urlAfterRedirects=w,this.state=S,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kr extends Wr{constructor(C,m,w,S){super(C,m),this.urlAfterRedirects=w,this.state=S,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hs extends Wr{constructor(C,m,w,S,F){super(C,m),this.urlAfterRedirects=w,this.state=S,this.shouldActivate=F,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xs extends Wr{constructor(C,m,w,S){super(C,m),this.urlAfterRedirects=w,this.state=S,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Su extends Wr{constructor(C,m,w,S){super(C,m),this.urlAfterRedirects=w,this.state=S,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Au{constructor(C){this.route=C,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zr{constructor(C){this.route=C,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lo{constructor(C){this.snapshot=C,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ru{constructor(C){this.snapshot=C,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lo{constructor(C){this.snapshot=C,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ba{constructor(C){this.snapshot=C,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Di{constructor(C,m,w){this.routerEvent=C,this.position=m,this.anchor=w,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gt{}class Zn{constructor(C){this.url=C}}class wi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new cr,this.attachRef=null}}let cr=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(m,w){const S=this.getOrCreateContext(m);S.outlet=w,this.contexts.set(m,S)}onChildOutletDestroyed(m){const w=this.getContext(m);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let w=this.getContext(m);return w||(w=new wi,this.contexts.set(m,w)),w}getContext(m){return this.contexts.get(m)||null}static#e=this.\u0275fac=function(w){return new(w||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();class ks{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const m=this.pathFromRoot(C);return m.length>1?m[m.length-2]:null}children(C){const m=co(C,this._root);return m?m.children.map(w=>w.value):[]}firstChild(C){const m=co(C,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(C){const m=bi(C,this._root);return m.length<2?[]:m[m.length-2].children.map(S=>S.value).filter(S=>S!==C)}pathFromRoot(C){return bi(C,this._root).map(m=>m.value)}}function co(v,C){if(v===C.value)return C;for(const m of C.children){const w=co(v,m);if(w)return w}return null}function bi(v,C){if(v===C.value)return[C];for(const m of C.children){const w=bi(v,m);if(w.length)return w.unshift(C),w}return[]}class Jr{constructor(C,m){this.value=C,this.children=m}toString(){return`TreeNode(${this.value})`}}function fi(v){const C={};return v&&v.children.forEach(m=>C[m.value.outlet]=m),C}class Nn extends ks{constructor(C,m){super(C),this.snapshot=m,Un(this,C)}toString(){return this.snapshot.toString()}}function lt(v,C){const m=function Zt(v,C){const K=new or([],{},{},"",{},it,C,null,{});return new pi("",new Jr(K,[]))}(0,C),w=new ae.X([new kn("",{})]),S=new ae.X({}),F=new ae.X({}),K=new ae.X({}),we=new ae.X(""),Ce=new gn(w,S,K,we,F,it,C,m.root);return Ce.snapshot=m.root,new Nn(new Jr(Ce,[]),m)}class gn{constructor(C,m,w,S,F,K,we,Ce){this.urlSubject=C,this.paramsSubject=m,this.queryParamsSubject=w,this.fragmentSubject=S,this.dataSubject=F,this.outlet=K,this.component=we,this._futureSnapshot=Ce,this.title=this.dataSubject?.pipe((0,Ut.U)(Ye=>Ye[nn]))??(0,ie.of)(void 0),this.url=C,this.params=m,this.queryParams=w,this.fragment=S,this.data=F}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ut.U)(C=>xn(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ut.U)(C=>xn(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cr(v,C="emptyOnly"){const m=v.pathFromRoot;let w=0;if("always"!==C)for(w=m.length-1;w>=1;){const S=m[w],F=m[w-1];if(S.routeConfig&&""===S.routeConfig.path)w--;else{if(F.component)break;w--}}return function fs(v){return v.reduce((C,m)=>({params:{...C.params,...m.params},data:{...C.data,...m.data},resolve:{...m.data,...C.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(w))}class or{get title(){return this.data?.[nn]}constructor(C,m,w,S,F,K,we,Ce,Ye){this.url=C,this.params=m,this.queryParams=w,this.fragment=S,this.data=F,this.outlet=K,this.component=we,this.routeConfig=Ce,this._resolve=Ye}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pi extends ks{constructor(C,m){super(m),this.url=C,Un(this,m)}toString(){return Gr(this._root)}}function Un(v,C){C.value._routerState=v,C.children.forEach(m=>Un(v,m))}function Gr(v){const C=v.children.length>0?` { ${v.children.map(Gr).join(", ")} } `:"";return`${v.value}${C}`}function Ni(v){if(v.snapshot){const C=v.snapshot,m=v._futureSnapshot;v.snapshot=m,Tn(C.queryParams,m.queryParams)||v.queryParamsSubject.next(m.queryParams),C.fragment!==m.fragment&&v.fragmentSubject.next(m.fragment),Tn(C.params,m.params)||v.paramsSubject.next(m.params),function Tr(v,C){if(v.length!==C.length)return!1;for(let m=0;m<v.length;++m)if(!Tn(v[m],C[m]))return!1;return!0}(C.url,m.url)||v.urlSubject.next(m.url),Tn(C.data,m.data)||v.dataSubject.next(m.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function Lt(v,C){const m=Tn(v.params,C.params)&&function $r(v,C){return Gn(v,C)&&v.every((m,w)=>Tn(m.parameters,C[w].parameters))}(v.url,C.url);return m&&!(!v.parent!=!C.parent)&&(!v.parent||Lt(v.parent,C.parent))}let Yi=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.parentContexts=(0,_.f3M)(cr),this.location=(0,_.f3M)(_.s_b),this.changeDetector=(0,_.f3M)(_.sBO),this.environmentInjector=(0,_.f3M)(_.lqb),this.inputBinder=(0,_.f3M)(Lr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:w,previousValue:S}=m.name;if(w)return;this.isTrackedInParentContexts(S)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(S)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,w){this.activated=m,this._activatedRoute=w,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,w){if(this.isActivated)throw new _.vHH(4013,!1);this._activatedRoute=m;const S=this.location,K=m.snapshot.component,we=this.parentContexts.getOrCreateContext(this.name).children,Ce=new Ls(m,we,S.injector);this.activated=S.createComponent(K,{index:S.length,injector:Ce,environmentInjector:w??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(w){return new(w||v)};static#t=this.\u0275dir=_.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.TTD]})}return v})();class Ls{constructor(C,m,w){this.route=C,this.childContexts=m,this.parent=w}get(C,m){return C===gn?this.route:C===cr?this.childContexts:this.parent.get(C,m)}}const Lr=new _.OlP("");let wn=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:w}=m,S=Xe([w.queryParams,w.params,w.data]).pipe((0,hn.w)(([F,K,we],Ce)=>(we={...F,...K,...we},0===Ce?(0,ie.of)(we):Promise.resolve(we)))).subscribe(F=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==w||null===w.component)return void this.unsubscribeFromRouteData(m);const K=(0,_.qFp)(w.component);if(K)for(const{templateName:we}of K.inputs)m.activatedComponentRef.setInput(we,F[we]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,S)}static#e=this.\u0275fac=function(w){return new(w||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac})}return v})();function Ti(v,C,m){if(m&&v.shouldReuseRoute(C.value,m.value.snapshot)){const w=m.value;w._futureSnapshot=C.value;const S=function er(v,C,m){return C.children.map(w=>{for(const S of m.children)if(v.shouldReuseRoute(w.value,S.value.snapshot))return Ti(v,w,S);return Ti(v,w)})}(v,C,m);return new Jr(w,S)}{if(v.shouldAttach(C.value)){const F=v.retrieve(C.value);if(null!==F){const K=F.route;return K.value._futureSnapshot=C.value,K.children=C.children.map(we=>Ti(v,we)),K}}const w=function Us(v){return new gn(new ae.X(v.url),new ae.X(v.params),new ae.X(v.queryParams),new ae.X(v.fragment),new ae.X(v.data),v.outlet,v.component,v)}(C.value),S=C.children.map(F=>Ti(v,F));return new Jr(w,S)}}const Bs="ngNavigationCancelingError";function Si(v,C){const{redirectTo:m,navigationBehaviorOptions:w}=zt(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,S=ei(!1,0,C);return S.url=m,S.navigationBehaviorOptions=w,S}function ei(v,C,m){const w=new Error("NavigationCancelingError: "+(v||""));return w[Bs]=!0,w.cancellationCode=C,m&&(w.url=m),w}function Qi(v){return v&&v[Bs]}let en=(()=>{class v{static#e=this.\u0275fac=function(w){return new(w||v)};static#t=this.\u0275cmp=_.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(w,S){1&w&&_._UZ(0,"router-outlet")},dependencies:[Yi],encapsulation:2})}return v})();function Vn(v){const C=v.children&&v.children.map(Vn),m=C?{...v,children:C}:{...v};return!m.component&&!m.loadComponent&&(C||m.loadChildren)&&m.outlet&&m.outlet!==it&&(m.component=en),m}function rn(v){return v.outlet||it}function Zr(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let C=v.parent;C;C=C.parent){const m=C.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class ki{constructor(C,m,w,S,F){this.routeReuseStrategy=C,this.futureState=m,this.currState=w,this.forwardEvent=S,this.inputBindingEnabled=F}activate(C){const m=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,w,C),Ni(this.futureState.root),this.activateChildRoutes(m,w,C)}deactivateChildRoutes(C,m,w){const S=fi(m);C.children.forEach(F=>{const K=F.value.outlet;this.deactivateRoutes(F,S[K],w),delete S[K]}),Object.values(S).forEach(F=>{this.deactivateRouteAndItsChildren(F,w)})}deactivateRoutes(C,m,w){const S=C.value,F=m?m.value:null;if(S===F)if(S.component){const K=w.getContext(S.outlet);K&&this.deactivateChildRoutes(C,m,K.children)}else this.deactivateChildRoutes(C,m,w);else F&&this.deactivateRouteAndItsChildren(m,w)}deactivateRouteAndItsChildren(C,m){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,m):this.deactivateRouteAndOutlet(C,m)}detachAndStoreRouteSubtree(C,m){const w=m.getContext(C.value.outlet),S=w&&C.value.component?w.children:m,F=fi(C);for(const K of Object.keys(F))this.deactivateRouteAndItsChildren(F[K],S);if(w&&w.outlet){const K=w.outlet.detach(),we=w.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:K,route:C,contexts:we})}}deactivateRouteAndOutlet(C,m){const w=m.getContext(C.value.outlet),S=w&&C.value.component?w.children:m,F=fi(C);for(const K of Object.keys(F))this.deactivateRouteAndItsChildren(F[K],S);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.route=null)}activateChildRoutes(C,m,w){const S=fi(m);C.children.forEach(F=>{this.activateRoutes(F,S[F.value.outlet],w),this.forwardEvent(new ba(F.value.snapshot))}),C.children.length&&this.forwardEvent(new Ru(C.value.snapshot))}activateRoutes(C,m,w){const S=C.value,F=m?m.value:null;if(Ni(S),S===F)if(S.component){const K=w.getOrCreateContext(S.outlet);this.activateChildRoutes(C,m,K.children)}else this.activateChildRoutes(C,m,w);else if(S.component){const K=w.getOrCreateContext(S.outlet);if(this.routeReuseStrategy.shouldAttach(S.snapshot)){const we=this.routeReuseStrategy.retrieve(S.snapshot);this.routeReuseStrategy.store(S.snapshot,null),K.children.onOutletReAttached(we.contexts),K.attachRef=we.componentRef,K.route=we.route.value,K.outlet&&K.outlet.attach(we.componentRef,we.route.value),Ni(we.route.value),this.activateChildRoutes(C,null,K.children)}else{const we=Zr(S.snapshot);K.attachRef=null,K.route=S,K.injector=we,K.outlet&&K.outlet.activateWith(S,K.injector),this.activateChildRoutes(C,null,K.children)}}else this.activateChildRoutes(C,null,w)}}class Ta{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class ps{constructor(C,m){this.component=C,this.route=m}}function Pu(v,C,m){const w=v._root;return ar(w,C?C._root:null,m,[w.value])}function Ai(v,C){const m=Symbol(),w=C.get(v,m);return w===m?"function"!=typeof v||(0,_.Z0I)(v)?C.get(v):v:w}function ar(v,C,m,w,S={canDeactivateChecks:[],canActivateChecks:[]}){const F=fi(C);return v.children.forEach(K=>{(function El(v,C,m,w,S={canDeactivateChecks:[],canActivateChecks:[]}){const F=v.value,K=C?C.value:null,we=m?m.getContext(v.value.outlet):null;if(K&&F.routeConfig===K.routeConfig){const Ce=function Ql(v,C,m){if("function"==typeof m)return m(v,C);switch(m){case"pathParamsChange":return!Gn(v.url,C.url);case"pathParamsOrQueryParamsChange":return!Gn(v.url,C.url)||!Tn(v.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lt(v,C)||!Tn(v.queryParams,C.queryParams);default:return!Lt(v,C)}}(K,F,F.routeConfig.runGuardsAndResolvers);Ce?S.canActivateChecks.push(new Ta(w)):(F.data=K.data,F._resolvedData=K._resolvedData),ar(v,C,F.component?we?we.children:null:m,w,S),Ce&&we&&we.outlet&&we.outlet.isActivated&&S.canDeactivateChecks.push(new ps(we.outlet.component,K))}else K&&An(C,we,S),S.canActivateChecks.push(new Ta(w)),ar(v,null,F.component?we?we.children:null:m,w,S)})(K,F[K.value.outlet],m,w.concat([K.value]),S),delete F[K.value.outlet]}),Object.entries(F).forEach(([K,we])=>An(we,m.getContext(K),S)),S}function An(v,C,m){const w=fi(v),S=v.value;Object.entries(w).forEach(([F,K])=>{An(K,S.component?C?C.children.getContext(F):null:C,m)}),m.canDeactivateChecks.push(new ps(S.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,S))}function gs(v){return"function"==typeof v}function Ho(v){return v instanceof Ve.K||"EmptyError"===v?.name}const ho=Symbol("INITIAL_VALUE");function Xi(){return(0,hn.w)(v=>Xe(v.map(C=>C.pipe((0,an.q)(1),(0,ut.O)(ho)))).pipe((0,Ut.U)(C=>{for(const m of C)if(!0!==m){if(m===ho)return ho;if(!1===m||m instanceof mr)return m}return!0}),(0,ct.h)(C=>C!==ho),(0,an.q)(1)))}function Pa(v){return(0,O.z)((0,me.b)(C=>{if(zt(C))throw Si(0,C)}),(0,Ut.U)(C=>!0===C))}class ri{constructor(C){this.segmentGroup=C||null}}class ii{constructor(C){this.urlTree=C}}function _i(v){return fe(new ri(v))}function si(v){return fe(new ii(v))}class $s{constructor(C,m){this.urlSerializer=C,this.urlTree=m}noMatchError(C){return new _.vHH(4002,!1)}lineralizeSegments(C,m){let w=[],S=m.root;for(;;){if(w=w.concat(S.segments),0===S.numberOfChildren)return(0,ie.of)(w);if(S.numberOfChildren>1||!S.children[it])return fe(new _.vHH(4e3,!1));S=S.children[it]}}applyRedirectCommands(C,m,w){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),C,w)}applyRedirectCreateUrlTree(C,m,w,S){const F=this.createSegmentGroup(C,m.root,w,S);return new mr(F,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(C,m){const w={};return Object.entries(C).forEach(([S,F])=>{if("string"==typeof F&&F.startsWith(":")){const we=F.substring(1);w[S]=m[we]}else w[S]=F}),w}createSegmentGroup(C,m,w,S){const F=this.createSegments(C,m.segments,w,S);let K={};return Object.entries(m.children).forEach(([we,Ce])=>{K[we]=this.createSegmentGroup(C,Ce,w,S)}),new Bt(F,K)}createSegments(C,m,w,S){return m.map(F=>F.path.startsWith(":")?this.findPosParam(C,F,S):this.findOrReturn(F,w))}findPosParam(C,m,w){const S=w[m.path.substring(1)];if(!S)throw new _.vHH(4001,!1);return S}findOrReturn(C,m){let w=0;for(const S of m){if(S.path===C.path)return m.splice(w),S;w++}return C}}const oi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mo(v,C,m,w,S){const F=vi(v,C,m);return F.matched?(w=function yl(v,C){return v.providers&&!v._injector&&(v._injector=(0,_.MMx)(v.providers,C,`Route: ${v.path}`)),v._injector??C}(C,w),function po(v,C,m,w){const S=C.canMatch;if(!S||0===S.length)return(0,ie.of)(!0);const F=S.map(K=>{const we=Ai(K,v);return At(function Aa(v){return v&&gs(v.canMatch)}(we)?we.canMatch(C,m):v.runInContext(()=>we(C,m)))});return(0,ie.of)(F).pipe(Xi(),Pa())}(w,C,m).pipe((0,Ut.U)(K=>!0===K?F:{...oi}))):(0,ie.of)(F)}function vi(v,C,m){if(""===C.path)return"full"===C.pathMatch&&(v.hasChildren()||m.length>0)?{...oi}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const S=(C.matcher||br)(m,v,C);if(!S)return{...oi};const F={};Object.entries(S.posParams??{}).forEach(([we,Ce])=>{F[we]=Ce.path});const K=S.consumed.length>0?{...F,...S.consumed[S.consumed.length-1].parameters}:F;return{matched:!0,consumedSegments:S.consumed,remainingSegments:m.slice(S.consumed.length),parameters:K,positionalParamSegments:S.posParams??{}}}function Hn(v,C,m,w){return m.length>0&&function yi(v,C,m){return m.some(w=>Ws(v,C,w)&&rn(w)!==it)}(v,m,w)?{segmentGroup:new Bt(C,$o(w,new Bt(m,v.children))),slicedSegments:[]}:0===m.length&&function Mr(v,C,m){return m.some(w=>Ws(v,C,w))}(v,m,w)?{segmentGroup:new Bt(v.segments,Fi(v,0,m,w,v.children)),slicedSegments:m}:{segmentGroup:new Bt(v.segments,v.children),slicedSegments:m}}function Fi(v,C,m,w,S){const F={};for(const K of w)if(Ws(v,m,K)&&!S[rn(K)]){const we=new Bt([],{});F[rn(K)]=we}return{...S,...F}}function $o(v,C){const m={};m[it]=C;for(const w of v)if(""===w.path&&rn(w)!==it){const S=new Bt([],{});m[rn(w)]=S}return m}function Ws(v,C,m){return(!(v.hasChildren()||C.length>0)||"full"!==m.pathMatch)&&""===m.path}class Ei{constructor(C,m,w,S,F,K,we){this.injector=C,this.configLoader=m,this.rootComponentType=w,this.config=S,this.urlTree=F,this.paramsInheritanceStrategy=K,this.urlSerializer=we,this.allowRedirects=!0,this.applyRedirects=new $s(this.urlSerializer,this.urlTree)}noMatchError(C){return new _.vHH(4002,!1)}recognize(){const C=Hn(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,C,it).pipe(Re(m=>{if(m instanceof ii)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof ri?this.noMatchError(m):m}),(0,Ut.U)(m=>{const w=new or([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,{}),S=new Jr(w,m),F=new pi("",S),K=function ne(v,C,m=null,w=null){return Pe(de(v),C,m,w)}(w,[],this.urlTree.queryParams,this.urlTree.fragment);return K.queryParams=this.urlTree.queryParams,F.url=this.urlSerializer.serialize(K),this.inheritParamsAndData(F._root),{state:F,tree:K}}))}match(C){return this.processSegmentGroup(this.injector,this.config,C.root,it).pipe(Re(w=>{throw w instanceof ri?this.noMatchError(w):w}))}inheritParamsAndData(C){const m=C.value,w=Cr(m,this.paramsInheritanceStrategy);m.params=Object.freeze(w.params),m.data=Object.freeze(w.data),C.children.forEach(S=>this.inheritParamsAndData(S))}processSegmentGroup(C,m,w,S){return 0===w.segments.length&&w.hasChildren()?this.processChildren(C,m,w):this.processSegment(C,m,w,w.segments,S,!0)}processChildren(C,m,w){const S=[];for(const F of Object.keys(w.children))"primary"===F?S.unshift(F):S.push(F);return(0,re.D)(S).pipe((0,Ee.b)(F=>{const K=w.children[F],we=function js(v,C){const m=v.filter(w=>rn(w)===C);return m.push(...v.filter(w=>rn(w)!==C)),m}(m,F);return this.processSegmentGroup(C,we,K,F)}),(0,Me.R)((F,K)=>(F.push(...K),F)),(0,$e.d)(null),function Rt(v,C){const m=arguments.length>=2;return w=>w.pipe(v?(0,ct.h)((S,F)=>v(S,F,w)):ye.y,qe(1),m?(0,$e.d)(C):(0,Dn.T)(()=>new Ve.K))}(),(0,ee.z)(F=>{if(null===F)return _i(w);const K=_o(F);return function Bi(v){v.sort((C,m)=>C.value.outlet===it?-1:m.value.outlet===it?1:C.value.outlet.localeCompare(m.value.outlet))}(K),(0,ie.of)(K)}))}processSegment(C,m,w,S,F,K){return(0,re.D)(m).pipe((0,Ee.b)(we=>this.processSegmentAgainstRoute(we._injector??C,m,we,w,S,F,K).pipe(Re(Ce=>{if(Ce instanceof ri)return(0,ie.of)(null);throw Ce}))),(0,oe.P)(we=>!!we),Re(we=>{if(Ho(we))return function xu(v,C,m){return 0===C.length&&!v.children[m]}(w,S,F)?(0,ie.of)([]):_i(w);throw we}))}processSegmentAgainstRoute(C,m,w,S,F,K,we){return function Wo(v,C,m,w){return!!(rn(v)===w||w!==it&&Ws(C,m,v))&&("**"===v.path||vi(C,v,m).matched)}(w,S,F,K)?void 0===w.redirectTo?this.matchSegmentAgainstRoute(C,S,w,F,K,we):we&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,S,m,w,F,K):_i(S):_i(S)}expandSegmentAgainstRouteUsingRedirect(C,m,w,S,F,K){return"**"===S.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,w,S,K):this.expandRegularSegmentAgainstRouteUsingRedirect(C,m,w,S,F,K)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,m,w,S){const F=this.applyRedirects.applyRedirectCommands([],w.redirectTo,{});return w.redirectTo.startsWith("/")?si(F):this.applyRedirects.lineralizeSegments(w,F).pipe((0,ee.z)(K=>{const we=new Bt(K,{});return this.processSegment(C,m,we,K,S,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,m,w,S,F,K){const{matched:we,consumedSegments:Ce,remainingSegments:Ye,positionalParamSegments:nt}=vi(m,S,F);if(!we)return _i(m);const Ot=this.applyRedirects.applyRedirectCommands(Ce,S.redirectTo,nt);return S.redirectTo.startsWith("/")?si(Ot):this.applyRedirects.lineralizeSegments(S,Ot).pipe((0,ee.z)(on=>this.processSegment(C,w,m,on.concat(Ye),K,!1)))}matchSegmentAgainstRoute(C,m,w,S,F,K){let we;if("**"===w.path){const Ce=S.length>0?Ht(S).parameters:{},Ye=new or(S,Ce,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Oa(w),rn(w),w.component??w._loadedComponent??null,w,I(w));we=(0,ie.of)({snapshot:Ye,consumedSegments:[],remainingSegments:[]}),m.children={}}else we=mo(m,w,S,C).pipe((0,Ut.U)(({matched:Ce,consumedSegments:Ye,remainingSegments:nt,parameters:Ot})=>Ce?{snapshot:new or(Ye,Ot,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Oa(w),rn(w),w.component??w._loadedComponent??null,w,I(w)),consumedSegments:Ye,remainingSegments:nt}:null));return we.pipe((0,hn.w)(Ce=>null===Ce?_i(m):this.getChildConfig(C=w._injector??C,w,S).pipe((0,hn.w)(({routes:Ye})=>{const nt=w._loadedInjector??C,{snapshot:Ot,consumedSegments:on,remainingSegments:Cn}=Ce,{segmentGroup:yr,slicedSegments:Qo}=Hn(m,on,Cn,Ye);if(0===Qo.length&&yr.hasChildren())return this.processChildren(nt,Ye,yr).pipe((0,Ut.U)(Co=>null===Co?null:[new Jr(Ot,Co)]));if(0===Ye.length&&0===Qo.length)return(0,ie.of)([new Jr(Ot,[])]);const Gu=rn(w)===F;return this.processSegment(nt,Ye,yr,Qo,Gu?it:F,!0).pipe((0,Ut.U)(Co=>[new Jr(Ot,Co)]))}))))}getChildConfig(C,m,w){return m.children?(0,ie.of)({routes:m.children,injector:C}):m.loadChildren?void 0!==m._loadedRoutes?(0,ie.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Hs(v,C,m,w){const S=C.canLoad;if(void 0===S||0===S.length)return(0,ie.of)(!0);const F=S.map(K=>{const we=Ai(K,v);return At(function Xl(v){return v&&gs(v.canLoad)}(we)?we.canLoad(C,m):v.runInContext(()=>we(C,m)))});return(0,ie.of)(F).pipe(Xi(),Pa())}(C,m,w).pipe((0,ee.z)(S=>S?this.configLoader.loadChildren(C,m).pipe((0,me.b)(F=>{m._loadedRoutes=F.routes,m._loadedInjector=F.injector})):function go(v){return fe(ei(!1,3))}())):(0,ie.of)({routes:[],injector:C})}}function Na(v){const C=v.value.routeConfig;return C&&""===C.path}function _o(v){const C=[],m=new Set;for(const w of v){if(!Na(w)){C.push(w);continue}const S=C.find(F=>w.value.routeConfig===F.value.routeConfig);void 0!==S?(S.children.push(...w.children),m.add(S)):C.push(w)}for(const w of m){const S=_o(w.children);C.push(new Jr(w.value,S))}return C.filter(w=>!m.has(w))}function Oa(v){return v.data||{}}function I(v){return v.resolve||{}}function bt(v){return"string"==typeof v.title||null===v.title}function vn(v){return(0,hn.w)(C=>{const m=v(C);return m?(0,re.D)(m).pipe((0,Ut.U)(()=>C)):(0,ie.of)(C)})}const ln=new _.OlP("ROUTES");let fn=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,_.f3M)(_.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,ie.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const w=At(m.loadComponent()).pipe((0,Ut.U)(bn),(0,me.b)(F=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=F}),(0,Mt.x)(()=>{this.componentLoaders.delete(m)})),S=new Se(w,()=>new at.x).pipe(gt());return this.componentLoaders.set(m,S),S}loadChildren(m,w){if(this.childrenLoaders.get(w))return this.childrenLoaders.get(w);if(w._loadedRoutes)return(0,ie.of)({routes:w._loadedRoutes,injector:w._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(w);const F=function Wt(v,C,m,w){return At(v.loadChildren()).pipe((0,Ut.U)(bn),(0,ee.z)(S=>S instanceof _.YKP||Array.isArray(S)?(0,ie.of)(S):(0,re.D)(C.compileModuleAsync(S))),(0,Ut.U)(S=>{w&&w(v);let F,K,we=!1;return Array.isArray(S)?(K=S,!0):(F=S.create(m).injector,K=F.get(ln,[],{optional:!0,self:!0}).flat()),{routes:K.map(Vn),injector:F}}))}(w,this.compiler,m,this.onLoadEndListener).pipe((0,Mt.x)(()=>{this.childrenLoaders.delete(w)})),K=new Se(F,()=>new at.x).pipe(gt());return this.childrenLoaders.set(w,K),K}static#e=this.\u0275fac=function(w){return new(w||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function bn(v){return function $n(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let Rn=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new at.x,this.transitionAbortSubject=new at.x,this.configLoader=(0,_.f3M)(fn),this.environmentInjector=(0,_.f3M)(_.lqb),this.urlSerializer=(0,_.f3M)(ir),this.rootContexts=(0,_.f3M)(cr),this.inputBindingEnabled=null!==(0,_.f3M)(Lr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ie.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=S=>this.events.next(new zr(S)),this.configLoader.onLoadStartListener=S=>this.events.next(new Au(S))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const w=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:w})}setupNavigations(m,w,S){return this.transitions=new ae.X({id:0,currentUrlTree:w,currentRawUrl:w,currentBrowserUrl:w,extractedUrl:m.urlHandlingStrategy.extract(w),urlAfterRedirects:m.urlHandlingStrategy.extract(w),rawUrl:w,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zi,restoredState:null,currentSnapshot:S.snapshot,targetSnapshot:null,currentRouterState:S,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ct.h)(F=>0!==F.id),(0,Ut.U)(F=>({...F,extractedUrl:m.urlHandlingStrategy.extract(F.rawUrl)})),(0,hn.w)(F=>{this.currentTransition=F;let K=!1,we=!1;return(0,ie.of)(F).pipe((0,me.b)(Ce=>{this.currentNavigation={id:Ce.id,initialUrl:Ce.rawUrl,extractedUrl:Ce.extractedUrl,trigger:Ce.source,extras:Ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,hn.w)(Ce=>{const Ye=Ce.currentBrowserUrl.toString(),nt=!m.navigated||Ce.extractedUrl.toString()!==Ye||Ye!==Ce.currentUrlTree.toString();if(!nt&&"reload"!==(Ce.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const on="";return this.events.next(new ds(Ce.id,this.urlSerializer.serialize(Ce.rawUrl),on,0)),Ce.resolve(null),Le.E}if(m.urlHandlingStrategy.shouldProcessUrl(Ce.rawUrl))return(0,ie.of)(Ce).pipe((0,hn.w)(on=>{const Cn=this.transitions?.getValue();return this.events.next(new ko(on.id,this.urlSerializer.serialize(on.extractedUrl),on.source,on.restoredState)),Cn!==this.transitions?.getValue()?Le.E:Promise.resolve(on)}),function x(v,C,m,w,S,F){return(0,ee.z)(K=>function Ui(v,C,m,w,S,F,K="emptyOnly"){return new Ei(v,C,m,w,S,K,F).recognize()}(v,C,m,w,K.extractedUrl,S,F).pipe((0,Ut.U)(({state:we,tree:Ce})=>({...K,targetSnapshot:we,urlAfterRedirects:Ce}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,me.b)(on=>{F.targetSnapshot=on.targetSnapshot,F.urlAfterRedirects=on.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:on.urlAfterRedirects};const Cn=new Ki(on.id,this.urlSerializer.serialize(on.extractedUrl),this.urlSerializer.serialize(on.urlAfterRedirects),on.targetSnapshot);this.events.next(Cn)}));if(nt&&m.urlHandlingStrategy.shouldProcessUrl(Ce.currentRawUrl)){const{id:on,extractedUrl:Cn,source:yr,restoredState:Qo,extras:Gu}=Ce,Co=new ko(on,this.urlSerializer.serialize(Cn),yr,Qo);this.events.next(Co);const Zu=lt(0,this.rootComponentType).snapshot;return this.currentTransition=F={...Ce,targetSnapshot:Zu,urlAfterRedirects:Cn,extras:{...Gu,skipLocationChange:!1,replaceUrl:!1}},(0,ie.of)(F)}{const on="";return this.events.next(new ds(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),on,1)),Ce.resolve(null),Le.E}}),(0,me.b)(Ce=>{const Ye=new kr(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot);this.events.next(Ye)}),(0,Ut.U)(Ce=>(this.currentTransition=F={...Ce,guards:Pu(Ce.targetSnapshot,Ce.currentSnapshot,this.rootContexts)},F)),function Ma(v,C){return(0,ee.z)(m=>{const{targetSnapshot:w,currentSnapshot:S,guards:{canActivateChecks:F,canDeactivateChecks:K}}=m;return 0===K.length&&0===F.length?(0,ie.of)({...m,guardsResult:!0}):function mi(v,C,m,w){return(0,re.D)(v).pipe((0,ee.z)(S=>function Dr(v,C,m,w,S){const F=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!F||0===F.length)return(0,ie.of)(!0);const K=F.map(we=>{const Ce=Zr(C)??S,Ye=Ai(we,Ce);return At(function Ou(v){return v&&gs(v.canDeactivate)}(Ye)?Ye.canDeactivate(v,C,m,w):Ce.runInContext(()=>Ye(v,C,m,w))).pipe((0,oe.P)())});return(0,ie.of)(K).pipe(Xi())}(S.component,S.route,m,C,w)),(0,oe.P)(S=>!0!==S,!0))}(K,w,S,v).pipe((0,ee.z)(we=>we&&function Il(v){return"boolean"==typeof v}(we)?function Fr(v,C,m,w){return(0,re.D)(C).pipe((0,Ee.b)(S=>(0,Ct.z)(function Vo(v,C){return null!==v&&C&&C(new lo(v)),(0,ie.of)(!0)}(S.route.parent,w),function fo(v,C){return null!==v&&C&&C(new Lo(v)),(0,ie.of)(!0)}(S.route,w),function Li(v,C,m){const w=C[C.length-1],F=C.slice(0,C.length-1).reverse().map(K=>function Sa(v){const C=v.routeConfig?v.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:v,guards:C}:null}(K)).filter(K=>null!==K).map(K=>he(()=>{const we=K.guards.map(Ce=>{const Ye=Zr(K.node)??m,nt=Ai(Ce,Ye);return At(function Nu(v){return v&&gs(v.canActivateChild)}(nt)?nt.canActivateChild(w,v):Ye.runInContext(()=>nt(w,v))).pipe((0,oe.P)())});return(0,ie.of)(we).pipe(Xi())}));return(0,ie.of)(F).pipe(Xi())}(v,S.path,m),function ur(v,C,m){const w=C.routeConfig?C.routeConfig.canActivate:null;if(!w||0===w.length)return(0,ie.of)(!0);const S=w.map(F=>he(()=>{const K=Zr(C)??m,we=Ai(F,K);return At(function Jl(v){return v&&gs(v.canActivate)}(we)?we.canActivate(C,v):K.runInContext(()=>we(C,v))).pipe((0,oe.P)())}));return(0,ie.of)(S).pipe(Xi())}(v,S.route,m))),(0,oe.P)(S=>!0!==S,!0))}(w,F,v,C):(0,ie.of)(we)),(0,Ut.U)(we=>({...m,guardsResult:we})))})}(this.environmentInjector,Ce=>this.events.next(Ce)),(0,me.b)(Ce=>{if(F.guardsResult=Ce.guardsResult,zt(Ce.guardsResult))throw Si(0,Ce.guardsResult);const Ye=new hs(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot,!!Ce.guardsResult);this.events.next(Ye)}),(0,ct.h)(Ce=>!!Ce.guardsResult||(this.cancelNavigationTransition(Ce,"",3),!1)),vn(Ce=>{if(Ce.guards.canActivateChecks.length)return(0,ie.of)(Ce).pipe((0,me.b)(Ye=>{const nt=new xs(Ye.id,this.urlSerializer.serialize(Ye.extractedUrl),this.urlSerializer.serialize(Ye.urlAfterRedirects),Ye.targetSnapshot);this.events.next(nt)}),(0,hn.w)(Ye=>{let nt=!1;return(0,ie.of)(Ye).pipe(function T(v,C){return(0,ee.z)(m=>{const{targetSnapshot:w,guards:{canActivateChecks:S}}=m;if(!S.length)return(0,ie.of)(m);let F=0;return(0,re.D)(S).pipe((0,Ee.b)(K=>function M(v,C,m,w){const S=v.routeConfig,F=v._resolve;return void 0!==S?.title&&!bt(S)&&(F[nn]=S.title),function Y(v,C,m,w){const S=function Te(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===S.length)return(0,ie.of)({});const F={};return(0,re.D)(S).pipe((0,ee.z)(K=>function je(v,C,m,w){const S=Zr(C)??w,F=Ai(v,S);return At(F.resolve?F.resolve(C,m):S.runInContext(()=>F(C,m)))}(v[K],C,m,w).pipe((0,oe.P)(),(0,me.b)(we=>{F[K]=we}))),qe(1),function $t(v){return(0,Ut.U)(()=>v)}(F),Re(K=>Ho(K)?Le.E:fe(K)))}(F,v,C,w).pipe((0,Ut.U)(K=>(v._resolvedData=K,v.data=Cr(v,m).resolve,S&&bt(S)&&(v.data[nn]=S.title),null)))}(K.route,w,v,C)),(0,me.b)(()=>F++),qe(1),(0,ee.z)(K=>F===S.length?(0,ie.of)(m):Le.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,me.b)({next:()=>nt=!0,complete:()=>{nt||this.cancelNavigationTransition(Ye,"",2)}}))}),(0,me.b)(Ye=>{const nt=new Su(Ye.id,this.urlSerializer.serialize(Ye.extractedUrl),this.urlSerializer.serialize(Ye.urlAfterRedirects),Ye.targetSnapshot);this.events.next(nt)}))}),vn(Ce=>{const Ye=nt=>{const Ot=[];nt.routeConfig?.loadComponent&&!nt.routeConfig._loadedComponent&&Ot.push(this.configLoader.loadComponent(nt.routeConfig).pipe((0,me.b)(on=>{nt.component=on}),(0,Ut.U)(()=>{})));for(const on of nt.children)Ot.push(...Ye(on));return Ot};return Xe(Ye(Ce.targetSnapshot.root)).pipe((0,$e.d)(),(0,an.q)(1))}),vn(()=>this.afterPreactivation()),(0,Ut.U)(Ce=>{const Ye=function Fs(v,C,m){const w=Ti(v,C._root,m?m._root:void 0);return new Nn(w,C)}(m.routeReuseStrategy,Ce.targetSnapshot,Ce.currentRouterState);return this.currentTransition=F={...Ce,targetRouterState:Ye},F}),(0,me.b)(()=>{this.events.next(new Gt)}),((v,C,m,w)=>(0,Ut.U)(S=>(new ki(C,S.targetRouterState,S.currentRouterState,m,w).activate(v),S)))(this.rootContexts,m.routeReuseStrategy,Ce=>this.events.next(Ce),this.inputBindingEnabled),(0,an.q)(1),(0,me.b)({next:Ce=>{K=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hi(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects))),m.titleStrategy?.updateTitle(Ce.targetRouterState.snapshot),Ce.resolve(!0)},complete:()=>{K=!0}}),function mn(v){return(0,Ze.e)((C,m)=>{(0,ft.Xf)(v).subscribe((0,xe.x)(m,()=>m.complete(),un.Z)),!m.closed&&C.subscribe(m)})}(this.transitionAbortSubject.pipe((0,me.b)(Ce=>{throw Ce}))),(0,Mt.x)(()=>{K||we||this.cancelNavigationTransition(F,"",1),this.currentNavigation?.id===F.id&&(this.currentNavigation=null)}),Re(Ce=>{if(we=!0,Qi(Ce))this.events.next(new Os(F.id,this.urlSerializer.serialize(F.extractedUrl),Ce.message,Ce.cancellationCode)),function qi(v){return Qi(v)&&zt(v.url)}(Ce)?this.events.next(new Zn(Ce.url)):F.resolve(!1);else{this.events.next(new Xn(F.id,this.urlSerializer.serialize(F.extractedUrl),Ce,F.targetSnapshot??void 0));try{F.resolve(m.errorHandler(Ce))}catch(Ye){F.reject(Ye)}}return Le.E}))}))}cancelNavigationTransition(m,w,S){const F=new Os(m.id,this.urlSerializer.serialize(m.extractedUrl),w,S);this.events.next(F),m.resolve(!1)}static#e=this.\u0275fac=function(w){return new(w||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function Ur(v){return v!==Zi}let dr=(()=>{class v{buildTitle(m){let w,S=m.root;for(;void 0!==S;)w=this.getResolvedTitleForRoute(S)??w,S=S.children.find(F=>F.outlet===it);return w}getResolvedTitleForRoute(m){return m.data[nn]}static#e=this.\u0275fac=function(w){return new(w||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:function(){return(0,_.f3M)(ji)},providedIn:"root"})}return v})(),ji=(()=>{class v extends dr{constructor(m){super(),this.title=m}updateTitle(m){const w=this.buildTitle(m);void 0!==w&&this.title.setTitle(w)}static#e=this.\u0275fac=function(w){return new(w||v)(_.LFG(Yt.Dx))};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),Pr=(()=>{class v{static#e=this.\u0275fac=function(w){return new(w||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:function(){return(0,_.f3M)(hr)},providedIn:"root"})}return v})();class Hi{shouldDetach(C){return!1}store(C,m){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,m){return C.routeConfig===m.routeConfig}}let hr=(()=>{class v extends Hi{static#e=this.\u0275fac=function(){let m;return function(S){return(m||(m=_.n5z(v)))(S||v)}}();static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const ai=new _.OlP("",{providedIn:"root",factory:()=>({})});let ku=(()=>{class v{static#e=this.\u0275fac=function(w){return new(w||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:function(){return(0,_.f3M)(Fn)},providedIn:"root"})}return v})(),Fn=(()=>{class v{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,w){return m}static#e=this.\u0275fac=function(w){return new(w||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();var zs=function(v){return v[v.COMPLETE=0]="COMPLETE",v[v.FAILED=1]="FAILED",v[v.REDIRECTING=2]="REDIRECTING",v}(zs||{});function zo(v,C){v.events.pipe((0,ct.h)(m=>m instanceof hi||m instanceof Os||m instanceof Xn||m instanceof ds),(0,Ut.U)(m=>m instanceof hi||m instanceof ds?zs.COMPLETE:m instanceof Os&&(0===m.code||1===m.code)?zs.REDIRECTING:zs.FAILED),(0,ct.h)(m=>m!==zs.REDIRECTING),(0,an.q)(1)).subscribe(()=>{C()})}function vr(v){throw v}function ec(v,C,m){return C.parse("/")}const Lu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Go={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bn=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,_.f3M)(_.c2e),this.isNgZoneEnabled=!1,this._events=new at.x,this.options=(0,_.f3M)(ai,{optional:!0})||{},this.pendingTasks=(0,_.f3M)(_.HDt),this.errorHandler=this.options.errorHandler||vr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ec,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,_.f3M)(ku),this.routeReuseStrategy=(0,_.f3M)(Pr),this.titleStrategy=(0,_.f3M)(dr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,_.f3M)(ln,{optional:!0})?.flat()??[],this.navigationTransitions=(0,_.f3M)(Rn),this.urlSerializer=(0,_.f3M)(ir),this.location=(0,_.f3M)(Dt.Ye),this.componentInputBindingEnabled=!!(0,_.f3M)(Lr,{optional:!0}),this.eventsSubscription=new Ne.w0,this.isNgZoneEnabled=(0,_.f3M)(_.R0b)instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new mr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=lt(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const m=this.navigationTransitions.events.subscribe(w=>{try{const{currentTransition:S}=this.navigationTransitions;if(null===S)return void(Fu(w)&&this._events.next(w));if(w instanceof ko)Ur(S.source)&&(this.browserUrlTree=S.extractedUrl);else if(w instanceof ds)this.rawUrlTree=S.rawUrl;else if(w instanceof Ki){if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const F=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(F,S)}this.browserUrlTree=S.urlAfterRedirects}}else if(w instanceof Gt)this.currentUrlTree=S.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl),this.routerState=S.targetRouterState,"deferred"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,S),this.browserUrlTree=S.urlAfterRedirects);else if(w instanceof Os)0!==w.code&&1!==w.code&&(this.navigated=!0),(3===w.code||2===w.code)&&this.restoreHistory(S);else if(w instanceof Zn){const F=this.urlHandlingStrategy.merge(w.url,S.currentRawUrl),K={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ur(S.source)};this.scheduleNavigation(F,Zi,null,K,{resolve:S.resolve,reject:S.reject,promise:S.promise})}w instanceof Xn&&this.restoreHistory(S,!0),w instanceof hi&&(this.navigated=!0),Fu(w)&&this._events.next(w)}catch(S){this.navigationTransitions.transitionAbortSubject.next(S)}});this.eventsSubscription.add(m)}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zi,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const w="popstate"===m.type?"popstate":"hashchange";"popstate"===w&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,w,m.state)},0)}))}navigateToSyncWithBrowser(m,w,S){const F={replaceUrl:!0},K=S?.navigationId?S:null;if(S){const Ce={...S};delete Ce.navigationId,delete Ce.\u0275routerPageId,0!==Object.keys(Ce).length&&(F.state=Ce)}const we=this.parseUrl(m);this.scheduleNavigation(we,w,K,F)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(Vn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(m,w={}){const{relativeTo:S,queryParams:F,fragment:K,queryParamsHandling:we,preserveFragment:Ce}=w,Ye=Ce?this.currentUrlTree.fragment:K;let Ot,nt=null;switch(we){case"merge":nt={...this.currentUrlTree.queryParams,...F};break;case"preserve":nt=this.currentUrlTree.queryParams;break;default:nt=F||null}null!==nt&&(nt=this.removeEmptyProps(nt));try{Ot=de(S?S.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),Ot=this.currentUrlTree.root}return Pe(Ot,m,nt,Ye??null)}navigateByUrl(m,w={skipLocationChange:!1}){const S=zt(m)?m:this.parseUrl(m),F=this.urlHandlingStrategy.merge(S,this.rawUrlTree);return this.scheduleNavigation(F,Zi,null,w)}navigate(m,w={skipLocationChange:!1}){return function Cl(v){for(let C=0;C<v.length;C++)if(null==v[C])throw new _.vHH(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,w),w)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let w;try{w=this.urlSerializer.parse(m)}catch(S){w=this.malformedUriErrorHandler(S,this.urlSerializer,m)}return w}isActive(m,w){let S;if(S=!0===w?{...Lu}:!1===w?{...Go}:w,zt(m))return qn(this.currentUrlTree,m,S);const F=this.parseUrl(m);return qn(this.currentUrlTree,F,S)}removeEmptyProps(m){return Object.keys(m).reduce((w,S)=>{const F=m[S];return null!=F&&(w[S]=F),w},{})}scheduleNavigation(m,w,S,F,K){if(this.disposed)return Promise.resolve(!1);let we,Ce,Ye;K?(we=K.resolve,Ce=K.reject,Ye=K.promise):Ye=new Promise((Ot,on)=>{we=Ot,Ce=on});const nt=this.pendingTasks.add();return zo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(nt))}),this.navigationTransitions.handleNavigationRequest({source:w,restoredState:S,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:m,extras:F,resolve:we,reject:Ce,promise:Ye,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ye.catch(Ot=>Promise.reject(Ot))}setBrowserUrl(m,w){const S=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(S)||w.extras.replaceUrl){const K={...w.extras.state,...this.generateNgRouterState(w.id,this.browserPageId)};this.location.replaceState(S,"",K)}else{const F={...w.extras.state,...this.generateNgRouterState(w.id,this.browserPageId+1)};this.location.go(S,"",F)}}restoreHistory(m,w=!1){if("computed"===this.canceledNavigationResolution){const F=this.currentPageId-this.browserPageId;0!==F?this.location.historyGo(F):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===F&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(w&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,w){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:w}:{navigationId:m}}static#e=this.\u0275fac=function(w){return new(w||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function Fu(v){return!(v instanceof Gt||v instanceof Zn)}let Uu=(()=>{class v{constructor(m,w,S,F,K,we){this.router=m,this.route=w,this.tabIndexAttribute=S,this.renderer=F,this.el=K,this.locationStrategy=we,this.href=null,this.commands=null,this.onChanges=new at.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ce=K.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ce||"area"===Ce,this.isAnchorElement?this.subscription=m.events.subscribe(Ye=>{Ye instanceof hi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,w,S,F,K){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||w||S||F||K||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,_.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,w){const S=this.renderer,F=this.el.nativeElement;null!==w?S.setAttribute(F,m,w):S.removeAttribute(F,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(w){return new(w||v)(_.Y36(Bn),_.Y36(gn),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(Dt.S$))};static#t=this.\u0275dir=_.lG2({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,S){1&w&&_.NdJ("click",function(K){return S.onClick(K.button,K.ctrlKey,K.shiftKey,K.altKey,K.metaKey)}),2&w&&_.uIk("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",_.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",_.VuI],replaceUrl:["replaceUrl","replaceUrl",_.VuI],routerLink:"routerLink"},standalone:!0,features:[_.Xq5,_.TTD]})}return v})();class _s{}let ju=(()=>{class v{constructor(m,w,S,F,K){this.router=m,this.injector=S,this.preloadingStrategy=F,this.loader=K}setUpPreloading(){this.subscription=this.router.events.pipe((0,ct.h)(m=>m instanceof hi),(0,Ee.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,w){const S=[];for(const F of w){F.providers&&!F._injector&&(F._injector=(0,_.MMx)(F.providers,m,`Route: ${F.path}`));const K=F._injector??m,we=F._loadedInjector??K;(F.loadChildren&&!F._loadedRoutes&&void 0===F.canLoad||F.loadComponent&&!F._loadedComponent)&&S.push(this.preloadConfig(K,F)),(F.children||F._loadedRoutes)&&S.push(this.processRoutes(we,F.children??F._loadedRoutes))}return(0,re.D)(S).pipe((0,sn.J)())}preloadConfig(m,w){return this.preloadingStrategy.preload(w,()=>{let S;S=w.loadChildren&&void 0===w.canLoad?this.loader.loadChildren(m,w):(0,ie.of)(null);const F=S.pipe((0,ee.z)(K=>null===K?(0,ie.of)(void 0):(w._loadedRoutes=K.routes,w._loadedInjector=K.injector,this.processRoutes(K.injector??m,K.routes))));if(w.loadComponent&&!w._loadedComponent){const K=this.loader.loadComponent(w);return(0,re.D)([F,K]).pipe((0,sn.J)())}return F})}static#e=this.\u0275fac=function(w){return new(w||v)(_.LFG(Bn),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(_s),_.LFG(fn))};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const xa=new _.OlP("");let jt=(()=>{class v{constructor(m,w,S,F,K={}){this.urlSerializer=m,this.transitions=w,this.viewportScroller=S,this.zone=F,this.options=K,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},K.scrollPositionRestoration=K.scrollPositionRestoration||"disabled",K.anchorScrolling=K.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof ko?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof hi?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof ds&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Di&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,w){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Di(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,w))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(w){_.$Z()};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac})}return v})();function Ri(v,C){return{\u0275kind:v,\u0275providers:C}}function Dl(){const v=(0,_.f3M)(_.zs3);return C=>{const m=v.get(_.z2F);if(C!==m.components[0])return;const w=v.get(Bn),S=v.get(wl);1===v.get(Vu)&&w.initialNavigation(),v.get(Jt,null,_.XFs.Optional)?.setUpPreloading(),v.get(xa,null,_.XFs.Optional)?.init(),w.resetRootComponentType(m.componentTypes[0]),S.closed||(S.next(),S.complete(),S.unsubscribe())}}const wl=new _.OlP("",{factory:()=>new at.x}),Vu=new _.OlP("",{providedIn:"root",factory:()=>1}),Jt=new _.OlP("");function Yo(v){return Ri(0,[{provide:Jt,useExisting:ju},{provide:_s,useExisting:v}])}const Eo=new _.OlP("ROUTER_FORROOT_GUARD"),qo=[Dt.Ye,{provide:ir,useClass:Ln},Bn,cr,{provide:gn,useFactory:function rc(v){return v.routerState.root},deps:[Bn]},fn,[]];function ka(){return new _.PXZ("Router",Bn)}let nd=(()=>{class v{constructor(m){}static forRoot(m,w){return{ngModule:v,providers:[qo,[],{provide:ln,multi:!0,useValue:m},{provide:Eo,useFactory:Io,deps:[[Bn,new _.FiY,new _.tp0]]},{provide:ai,useValue:w||{}},w?.useHash?{provide:Dt.S$,useClass:Dt.Do}:{provide:Dt.S$,useClass:Dt.b0},{provide:xa,useFactory:()=>{const v=(0,_.f3M)(Dt.EM),C=(0,_.f3M)(_.R0b),m=(0,_.f3M)(ai),w=(0,_.f3M)(Rn),S=(0,_.f3M)(ir);return m.scrollOffset&&v.setOffset(m.scrollOffset),new jt(S,w,v,C,m)}},w?.preloadingStrategy?Yo(w.preloadingStrategy).\u0275providers:[],{provide:_.PXZ,multi:!0,useFactory:ka},w?.initialNavigation?vs(w):[],w?.bindToComponentInputs?Ri(8,[wn,{provide:Lr,useExisting:wn}]).\u0275providers:[],[{provide:Br,useFactory:Dl},{provide:_.tb,multi:!0,useExisting:Br}]]}}static forChild(m){return{ngModule:v,providers:[{provide:ln,multi:!0,useValue:m}]}}static#e=this.\u0275fac=function(w){return new(w||v)(_.LFG(Eo,8))};static#t=this.\u0275mod=_.oAB({type:v});static#n=this.\u0275inj=_.cJS({})}return v})();function Io(v){return"guarded"}function vs(v){return["disabled"===v.initialNavigation?Ri(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const C=(0,_.f3M)(Bn);return()=>{C.setUpLocationChangeListener()}}},{provide:Vu,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?Ri(2,[{provide:Vu,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:C=>{const m=C.get(Dt.V_,Promise.resolve());return()=>m.then(()=>new Promise(w=>{const S=C.get(Bn),F=C.get(wl);zo(S,()=>{w(!0)}),C.get(Rn).afterPreactivation=()=>(w(!0),F.closed?(0,ie.of)(void 0):F),S.initialNavigation()}))}}]).\u0275providers:[]]}const Br=new _.OlP("")},3106:(dt,De,P)=>{P.d(De,{Z:()=>Xe});var _=P(9058),X=P(4537),W=P(534),z=P(7879);class re{constructor(Je,Ve){this._delegate=Je,this.firebase=Ve,(0,W._addComponent)(Je,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=Je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this._delegate.automaticDataCollectionEnabled=Je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Je=>{this._delegate.checkDestroyed(),Je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Je,Ve=W._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(Je);return!ft.isInitialized()&&"EXPLICIT"===(null===(Ct=ft.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:Ve})}_removeServiceInstance(Je,Ve=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Je).clearInstance(Ve)}_addComponent(Je){(0,W._addComponent)(this._delegate,Je)}_addOrOverwriteComponent(Je){(0,W._addOrOverwriteComponent)(this._delegate,Je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function ye(){const Be=function Ie(Be){const Je={},Ve={__esModule:!0,initializeApp:function he(Ne,Ze={}){const gt=W.initializeApp(Ne,Ze);if((0,_.r3)(Je,gt.name))return Je[gt.name];const Se=new Be(gt,Ve);return Je[gt.name]=Se,Se},app:ft,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function fe(Ne){const Ze=Ne.name,gt=Ze.replace("-compat","");if(W._registerComponent(Ne)&&"PUBLIC"===Ne.type){const Se=(at=ft())=>{if("function"!=typeof at[gt])throw ae.create("invalid-app-argument",{appName:Ze});return at[gt]()};void 0!==Ne.serviceProps&&(0,_.ZB)(Se,Ne.serviceProps),Ve[gt]=Se,Be.prototype[gt]=function(...at){return this._getService.bind(this,Ze).apply(this,Ne.multipleInstances?at:[])}}return"PUBLIC"===Ne.type?Ve[gt]:null},removeApp:function Ct(Ne){delete Je[Ne]},useAsService:function Le(Ne,Ze){return"serverAuth"===Ze?null:Ze},modularAPIs:W}};function ft(Ne){if(!(0,_.r3)(Je,Ne=Ne||W._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:Ne});return Je[Ne]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function O(){return Object.keys(Je).map(Ne=>Je[Ne])}}),ft.App=Be,Ve}(re);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function Je(Ve){(0,_.ZB)(Be,Ve)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),Be}(),q=new z.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=Z;!function Fe(Be){(0,W.registerVersion)("@firebase/app-compat","0.2.32",Be)}()},534:(dt,De,P)=>{P.r(De),P.d(De,{FirebaseError:()=>z.ZR,SDK_VERSION:()=>rr,_DEFAULT_ENTRY_NAME:()=>St,_addComponent:()=>qn,_addOrOverwriteComponent:()=>Xt,_apps:()=>At,_clearComponents:()=>mr,_components:()=>Sn,_getProvider:()=>Pi,_isFirebaseApp:()=>xr,_isFirebaseServerApp:()=>Kt,_registerComponent:()=>Pn,_removeServiceInstance:()=>_t,_serverApps:()=>En,deleteApp:()=>_r,getApp:()=>Qr,getApps:()=>sr,initializeApp:()=>ir,initializeServerApp:()=>Ln,onLog:()=>j,registerVersion:()=>te,setLogLevel:()=>H});var _=P(5861),X=P(4537),W=P(7879),z=P(9058);const re=(ne,de)=>de.some(Pe=>ne instanceof Pe);let ie,ae;const Z=new WeakMap,q=new WeakMap,le=new WeakMap,xe=new WeakMap,Fe=new WeakMap;let Je={get(ne,de,Pe){if(ne instanceof IDBTransaction){if("done"===de)return q.get(ne);if("objectStoreNames"===de)return ne.objectStoreNames||le.get(ne);if("store"===de)return Pe.objectStoreNames[1]?void 0:Pe.objectStore(Pe.objectStoreNames[0])}return he(ne[de])},set:(ne,de,Pe)=>(ne[de]=Pe,!0),has:(ne,de)=>ne instanceof IDBTransaction&&("done"===de||"store"===de)||de in ne};function ft(ne){return"function"==typeof ne?function Ct(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...de){return ne.apply(O(this),de),he(Z.get(this))}:function(...de){return he(ne.apply(O(this),de))}:function(de,...Pe){const Ge=ne.call(O(this),de,...Pe);return le.set(Ge,de.sort?de.sort():[de]),he(Ge)}}(ne):(ne instanceof IDBTransaction&&function Be(ne){if(q.has(ne))return;const de=new Promise((Pe,Ge)=>{const pt=()=>{ne.removeEventListener("complete",Tt),ne.removeEventListener("error",Pt),ne.removeEventListener("abort",Pt)},Tt=()=>{Pe(),pt()},Pt=()=>{Ge(ne.error||new DOMException("AbortError","AbortError")),pt()};ne.addEventListener("complete",Tt),ne.addEventListener("error",Pt),ne.addEventListener("abort",Pt)});q.set(ne,de)}(ne),re(ne,function Ie(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,Je):ne)}function he(ne){if(ne instanceof IDBRequest)return function Xe(ne){const de=new Promise((Pe,Ge)=>{const pt=()=>{ne.removeEventListener("success",Tt),ne.removeEventListener("error",Pt)},Tt=()=>{Pe(he(ne.result)),pt()},Pt=()=>{Ge(ne.error),pt()};ne.addEventListener("success",Tt),ne.addEventListener("error",Pt)});return de.then(Pe=>{Pe instanceof IDBCursor&&Z.set(Pe,ne)}).catch(()=>{}),Fe.set(de,ne),de}(ne);if(xe.has(ne))return xe.get(ne);const de=ft(ne);return de!==ne&&(xe.set(ne,de),Fe.set(de,ne)),de}const O=ne=>Fe.get(ne),Ne=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],gt=new Map;function Se(ne,de){if(!(ne instanceof IDBDatabase)||de in ne||"string"!=typeof de)return;if(gt.get(de))return gt.get(de);const Pe=de.replace(/FromIndex$/,""),Ge=de!==Pe,pt=Ze.includes(Pe);if(!(Pe in(Ge?IDBIndex:IDBObjectStore).prototype)||!pt&&!Ne.includes(Pe))return;const Tt=function(){var Pt=(0,_.Z)(function*(kt,...Nt){const _n=this.transaction(kt,pt?"readwrite":"readonly");let Ar=_n.store;return Ge&&(Ar=Ar.index(Nt.shift())),(yield Promise.all([Ar[Pe](...Nt),pt&&_n.done]))[0]});return function(Nt){return Pt.apply(this,arguments)}}();return gt.set(de,Tt),Tt}!function Ve(ne){Je=ne(Je)}(ne=>({...ne,get:(de,Pe,Ge)=>Se(de,Pe)||ne.get(de,Pe,Ge),has:(de,Pe)=>!!Se(de,Pe)||ne.has(de,Pe)}));class at{constructor(de){this.container=de}getPlatformInfoString(){return this.container.getProviders().map(Pe=>{if(function Dt(ne){const de=ne.getComponent();return"VERSION"===de?.type}(Pe)){const Ge=Pe.getImmediate();return`${Ge.library}/${Ge.version}`}return null}).filter(Pe=>Pe).join(" ")}}const Ut="@firebase/app",hn="0.10.2",an=new W.Yd("@firebase/app"),St="[DEFAULT]",Ht={[Ut]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},At=new Map,En=new Map,Sn=new Map;function qn(ne,de){try{ne.container.addComponent(de)}catch(Pe){an.debug(`Component ${de.name} failed to register with FirebaseApp ${ne.name}`,Pe)}}function Xt(ne,de){ne.container.addOrOverwriteComponent(de)}function Pn(ne){const de=ne.name;if(Sn.has(de))return an.debug(`There were multiple attempts to register component ${de}.`),!1;Sn.set(de,ne);for(const Pe of At.values())qn(Pe,ne);for(const Pe of En.values())qn(Pe,ne);return!0}function Pi(ne,de){const Pe=ne.container.getProvider("heartbeat").getImmediate({optional:!0});return Pe&&Pe.triggerHeartbeat(),ne.container.getProvider(de)}function _t(ne,de,Pe=St){Pi(ne,de).clearInstance(Pe)}function xr(ne){return void 0!==ne.options}function Kt(ne){return void 0!==ne.settings}function mr(){Sn.clear()}const kn=new z.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class $r{constructor(de,Pe,Ge){this._isDeleted=!1,this._options=Object.assign({},de),this._config=Object.assign({},Pe),this._name=Pe.name,this._automaticDataCollectionEnabled=Pe.automaticDataCollectionEnabled,this._container=Ge,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this.checkDestroyed(),this._automaticDataCollectionEnabled=de}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(de){this._isDeleted=de}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}class Gn extends $r{constructor(de,Pe,Ge,pt){const Tt=void 0!==Pe.automaticDataCollectionEnabled&&Pe.automaticDataCollectionEnabled,Pt={name:Ge,automaticDataCollectionEnabled:Tt};super(void 0!==de.apiKey?de:de.options,Pt,pt),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Tt},Pe),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Pe.releaseOnDeref=void 0,te(Ut,hn,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(de){this.isDeleted||(this._refCount++,void 0!==de&&this._finalizationRegistry.register(de,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){_r(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw kn.create("server-app-deleted")}}const rr="10.11.1";function ir(ne,de={}){let Pe=ne;"object"!=typeof de&&(de={name:de});const Ge=Object.assign({name:St,automaticDataCollectionEnabled:!1},de),pt=Ge.name;if("string"!=typeof pt||!pt)throw kn.create("bad-app-name",{appName:String(pt)});if(Pe||(Pe=(0,z.aH)()),!Pe)throw kn.create("no-options");const Tt=At.get(pt);if(Tt){if((0,z.vZ)(Pe,Tt.options)&&(0,z.vZ)(Ge,Tt.config))return Tt;throw kn.create("duplicate-app",{appName:pt})}const Pt=new X.H0(pt);for(const Nt of Sn.values())Pt.addComponent(Nt);const kt=new $r(Pe,Ge,Pt);return At.set(pt,kt),kt}function Ln(ne,de){if((0,z.jU)())throw kn.create("invalid-server-app-environment");let Pe;void 0===de.automaticDataCollectionEnabled&&(de.automaticDataCollectionEnabled=!1),Pe=xr(ne)?ne.options:ne;const Ge=Object.assign(Object.assign({},de),Pe);if(void 0!==Ge.releaseOnDeref&&delete Ge.releaseOnDeref,void 0!==de.releaseOnDeref&&typeof FinalizationRegistry>"u")throw kn.create("finalization-registry-not-supported",{});const Tt=""+(_n=JSON.stringify(Ge),[..._n].reduce((Ar,Qn)=>Math.imul(31,Ar)+Qn.charCodeAt(0)|0,0)),Pt=En.get(Tt);var _n;if(Pt)return Pt.incRefCount(de.releaseOnDeref),Pt;const kt=new X.H0(Tt);for(const _n of Sn.values())kt.addComponent(_n);const Nt=new Gn(Pe,de,Tt,kt);return En.set(Tt,Nt),Nt}function Qr(ne=St){const de=At.get(ne);if(!de&&ne===St&&(0,z.aH)())return ir();if(!de)throw kn.create("no-app",{appName:ne});return de}function sr(){return Array.from(At.values())}function _r(ne){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,_.Z)(function*(ne){let de=!1;const Pe=ne.name;At.has(Pe)?(de=!0,At.delete(Pe)):En.has(Pe)&&ne.decRefCount()<=0&&(En.delete(Pe),de=!0),de&&(yield Promise.all(ne.container.getProviders().map(Ge=>Ge.delete())),ne.isDeleted=!0)})).apply(this,arguments)}function te(ne,de,Pe){var Ge;let pt=null!==(Ge=Ht[ne])&&void 0!==Ge?Ge:ne;Pe&&(pt+=`-${Pe}`);const Tt=pt.match(/\s|\//),Pt=de.match(/\s|\//);if(Tt||Pt){const kt=[`Unable to register library "${pt}" with version "${de}":`];return Tt&&kt.push(`library name "${pt}" contains illegal characters (whitespace or "/")`),Tt&&Pt&&kt.push("and"),Pt&&kt.push(`version name "${de}" contains illegal characters (whitespace or "/")`),void an.warn(kt.join(" "))}Pn(new X.wA(`${pt}-version`,()=>({library:pt,version:de}),"VERSION"))}function j(ne,de){if(null!==ne&&"function"!=typeof ne)throw kn.create("invalid-log-argument");(0,W.Am)(ne,de)}function H(ne){(0,W.Ub)(ne)}const U="firebase-heartbeat-database",V=1,ce="firebase-heartbeat-store";let Oe=null;function st(){return Oe||(Oe=function fe(ne,de,{blocked:Pe,upgrade:Ge,blocking:pt,terminated:Tt}={}){const Pt=indexedDB.open(ne,de),kt=he(Pt);return Ge&&Pt.addEventListener("upgradeneeded",Nt=>{Ge(he(Pt.result),Nt.oldVersion,Nt.newVersion,he(Pt.transaction),Nt)}),Pe&&Pt.addEventListener("blocked",Nt=>Pe(Nt.oldVersion,Nt.newVersion,Nt)),kt.then(Nt=>{Tt&&Nt.addEventListener("close",()=>Tt()),pt&&Nt.addEventListener("versionchange",_n=>pt(_n.oldVersion,_n.newVersion,_n))}).catch(()=>{}),kt}(U,V,{upgrade:(ne,de)=>{if(0===de)try{ne.createObjectStore(ce)}catch(Pe){console.warn(Pe)}}}).catch(ne=>{throw kn.create("idb-open",{originalErrorMessage:ne.message})})),Oe}function xt(){return(xt=(0,_.Z)(function*(ne){try{const Pe=(yield st()).transaction(ce),Ge=yield Pe.objectStore(ce).get(pn(ne));return yield Pe.done,Ge}catch(de){if(de instanceof z.ZR)an.warn(de.message);else{const Pe=kn.create("idb-get",{originalErrorMessage:de?.message});an.warn(Pe.message)}}})).apply(this,arguments)}function wt(ne,de){return yt.apply(this,arguments)}function yt(){return(yt=(0,_.Z)(function*(ne,de){try{const Ge=(yield st()).transaction(ce,"readwrite");yield Ge.objectStore(ce).put(de,pn(ne)),yield Ge.done}catch(Pe){if(Pe instanceof z.ZR)an.warn(Pe.message);else{const Ge=kn.create("idb-set",{originalErrorMessage:Pe?.message});an.warn(Ge.message)}}})).apply(this,arguments)}function pn(ne){return`${ne.name}!${ne.options.appId}`}class se{constructor(de){this.container=de,this._heartbeatsCache=null;const Pe=this.container.getProvider("app").getImmediate();this._storage=new rt(Pe),this._heartbeatsCachePromise=this._storage.read().then(Ge=>(this._heartbeatsCache=Ge,Ge))}triggerHeartbeat(){var de=this;return(0,_.Z)(function*(){var Pe,Ge;const Tt=de.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pt=He();if((null!=(null===(Pe=de._heartbeatsCache)||void 0===Pe?void 0:Pe.heartbeats)||(de._heartbeatsCache=yield de._heartbeatsCachePromise,null!=(null===(Ge=de._heartbeatsCache)||void 0===Ge?void 0:Ge.heartbeats)))&&de._heartbeatsCache.lastSentHeartbeatDate!==Pt&&!de._heartbeatsCache.heartbeats.some(kt=>kt.date===Pt))return de._heartbeatsCache.heartbeats.push({date:Pt,agent:Tt}),de._heartbeatsCache.heartbeats=de._heartbeatsCache.heartbeats.filter(kt=>{const Nt=new Date(kt.date).valueOf();return Date.now()-Nt<=2592e6}),de._storage.overwrite(de._heartbeatsCache)})()}getHeartbeatsHeader(){var de=this;return(0,_.Z)(function*(){var Pe;if(null===de._heartbeatsCache&&(yield de._heartbeatsCachePromise),null==(null===(Pe=de._heartbeatsCache)||void 0===Pe?void 0:Pe.heartbeats)||0===de._heartbeatsCache.heartbeats.length)return"";const Ge=He(),{heartbeatsToSend:pt,unsentEntries:Tt}=function Ke(ne,de=1024){const Pe=[];let Ge=ne.slice();for(const pt of ne){const Tt=Pe.find(Pt=>Pt.agent===pt.agent);if(Tt){if(Tt.dates.push(pt.date),tt(Pe)>de){Tt.dates.pop();break}}else if(Pe.push({agent:pt.agent,dates:[pt.date]}),tt(Pe)>de){Pe.pop();break}Ge=Ge.slice(1)}return{heartbeatsToSend:Pe,unsentEntries:Ge}}(de._heartbeatsCache.heartbeats),Pt=(0,z.L)(JSON.stringify({version:2,heartbeats:pt}));return de._heartbeatsCache.lastSentHeartbeatDate=Ge,Tt.length>0?(de._heartbeatsCache.heartbeats=Tt,yield de._storage.overwrite(de._heartbeatsCache)):(de._heartbeatsCache.heartbeats=[],de._storage.overwrite(de._heartbeatsCache)),Pt})()}}function He(){return(new Date).toISOString().substring(0,10)}class rt{constructor(de){this.app=de,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,z.hl)()&&(0,z.eu)().then(()=>!0).catch(()=>!1)})()}read(){var de=this;return(0,_.Z)(function*(){if(yield de._canUseIndexedDBPromise){const Ge=yield function mt(ne){return xt.apply(this,arguments)}(de.app);return Ge?.heartbeats?Ge:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(de){var Pe=this;return(0,_.Z)(function*(){var Ge;if(yield Pe._canUseIndexedDBPromise){const Tt=yield Pe.read();return wt(Pe.app,{lastSentHeartbeatDate:null!==(Ge=de.lastSentHeartbeatDate)&&void 0!==Ge?Ge:Tt.lastSentHeartbeatDate,heartbeats:de.heartbeats})}})()}add(de){var Pe=this;return(0,_.Z)(function*(){var Ge;if(yield Pe._canUseIndexedDBPromise){const Tt=yield Pe.read();return wt(Pe.app,{lastSentHeartbeatDate:null!==(Ge=de.lastSentHeartbeatDate)&&void 0!==Ge?Ge:Tt.lastSentHeartbeatDate,heartbeats:[...Tt.heartbeats,...de.heartbeats]})}})()}}function tt(ne){return(0,z.L)(JSON.stringify({version:2,heartbeats:ne})).length}!function zt(ne){Pn(new X.wA("platform-logger",de=>new at(de),"PRIVATE")),Pn(new X.wA("heartbeat",de=>new se(de),"PRIVATE")),te(Ut,hn,ne),te(Ut,hn,"esm2017"),te("fire-js","")}("")},4537:(dt,De,P)=>{P.d(De,{H0:()=>Ie,wA:()=>W,zt:()=>re});var _=P(5861),X=P(9058);class W{constructor(Z,q,le){this.name=Z,this.instanceFactory=q,this.type=le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const z="[DEFAULT]";class re{constructor(Z,q){this.name=Z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const q=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(q)){const le=new X.BH;if(this.instancesDeferred.set(q,le),this.isInitialized(q)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:q});xe&&le.resolve(xe)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(Z){var q;const le=this.normalizeInstanceIdentifier(Z?.identifier),xe=null!==(q=Z?.optional)&&void 0!==q&&q;if(!this.isInitialized(le)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:le})}catch(Fe){if(xe)return null;throw Fe}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function ae(ye){return"EAGER"===ye.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:z})}catch{}for(const[q,le]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(q);try{const Fe=this.getOrInitializeService({instanceIdentifier:xe});le.resolve(Fe)}catch{}}}}clearInstance(Z=z){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,_.Z)(function*(){const q=Array.from(Z.instances.values());yield Promise.all([...q.filter(le=>"INTERNAL"in le).map(le=>le.INTERNAL.delete()),...q.filter(le=>"_delete"in le).map(le=>le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=z){return this.instances.has(Z)}getOptions(Z=z){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:q={}}=Z,le=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(le))throw Error(`${this.name}(${le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:le,options:q});for(const[Fe,Xe]of this.instancesDeferred.entries())le===this.normalizeInstanceIdentifier(Fe)&&Xe.resolve(xe);return xe}onInit(Z,q){var le;const xe=this.normalizeInstanceIdentifier(q),Fe=null!==(le=this.onInitCallbacks.get(xe))&&void 0!==le?le:new Set;Fe.add(Z),this.onInitCallbacks.set(xe,Fe);const Xe=this.instances.get(xe);return Xe&&Z(Xe,xe),()=>{Fe.delete(Z)}}invokeOnInitCallbacks(Z,q){const le=this.onInitCallbacks.get(q);if(le)for(const xe of le)try{xe(Z,q)}catch{}}getOrInitializeService({instanceIdentifier:Z,options:q={}}){let le=this.instances.get(Z);if(!le&&this.component&&(le=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=Z,ye===z?void 0:ye),options:q}),this.instances.set(Z,le),this.instancesOptions.set(Z,q),this.invokeOnInitCallbacks(le,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,le)}catch{}var ye;return le||null}normalizeInstanceIdentifier(Z=z){return this.component?this.component.multipleInstances?Z:z:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ie{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const q=this.getProvider(Z.name);if(q.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);q.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const q=new re(Z,this);return this.providers.set(Z,q),q}getProviders(){return Array.from(this.providers.values())}}},7879:(dt,De,P)=>{P.d(De,{Am:()=>ye,Ub:()=>Ie,Yd:()=>ae,in:()=>X});const _=[];var X=function(Z){return Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",Z}(X||{});const W={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},z=X.INFO,re={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ie=(Z,q,...le)=>{if(q<Z.logLevel)return;const xe=(new Date).toISOString(),Fe=re[q];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Fe](`[${xe}]  ${Z.name}:`,...le)};class ae{constructor(q){this.name=q,this._logLevel=z,this._logHandler=ie,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in X))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?W[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...q),this._logHandler(this,X.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...q),this._logHandler(this,X.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,X.INFO,...q),this._logHandler(this,X.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,X.WARN,...q),this._logHandler(this,X.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...q),this._logHandler(this,X.ERROR,...q)}}function Ie(Z){_.forEach(q=>{q.setLogLevel(Z)})}function ye(Z,q){for(const le of _){let xe=null;q&&q.level&&(xe=W[q.level]),le.userLogHandler=null===Z?null:(Fe,Xe,...Be)=>{const Je=Be.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");Xe>=(xe??Fe.logLevel)&&Z({level:X[Xe].toLowerCase(),message:Je,args:Be,type:Fe.name})}}}},7142:(dt,De,P)=>{P.d(De,{Z:()=>_.Z});var _=P(3106);_.Z.registerVersion("firebase","10.11.1","app-compat")},340:(dt,De,P)=>{P.r(De);var _=P(5861),X=P(3106),W=P(534),z=P(9058),re=P(7879),ie=P(7582),ae=P(4537);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Xe=function xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Be=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ct=new re.Yd("@firebase/auth");function he(f,...u){Ct.logLevel<=re.in.ERROR&&Ct.error(`Auth (${W.SDK_VERSION}): ${f}`,...u)}function O(f,...u){throw gt(f,...u)}function fe(f,...u){return gt(f,...u)}function Le(f,u,c){const g=Object.assign(Object.assign({},Be()),{[u]:c});return new z.LL("auth","Firebase",g).create(u,{appName:f.name})}function Ne(f){return Le(f,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ze(f,u,c){if(!(u instanceof c))throw c.name!==u.constructor.name&&O(f,"argument-error"),Le(f,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gt(f,...u){if("string"!=typeof f){const c=u[0],g=[...u.slice(1)];return g[0]&&(g[0].appName=f.name),f._errorFactory.create(c,...g)}return Je.create(f,...u)}function Se(f,u,...c){if(!f)throw gt(u,...c)}function at(f){const u="INTERNAL ASSERTION FAILED: "+f;throw he(u),new Error(u)}function Dt(f,u){f||at(u)}function Ut(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function hn(){return"http:"===an()||"https:"===an()}function an(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class ee{constructor(u,c){this.shortDelay=u,this.longDelay=c,Dt(c>u,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function ut(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(hn()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function oe(f,u){Dt(f.emulator,"Emulator should always be set here");const{url:c}=f.emulator;return u?`${c}${u.startsWith("/")?u.slice(1):u}`:c}class Ee{static initialize(u,c,g){this.fetchImpl=u,c&&(this.headersImpl=c),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void at("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void at("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void at("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const me={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Re=new ee(3e4,6e4);function Me(f,u){return f.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:f.tenantId}):u}function $e(f,u,c,g){return qe.apply(this,arguments)}function qe(){return(qe=(0,_.Z)(function*(f,u,c,g,A={}){return Dn(f,A,(0,_.Z)(function*(){let k={},Q={};g&&("GET"===u?Q=g:k={body:JSON.stringify(g)});const pe=(0,z.xO)(Object.assign({key:f.config.apiKey},Q)).slice(1),ke=yield f._getAdditionalHeaders();return ke["Content-Type"]="application/json",f.languageCode&&(ke["X-Firebase-Locale"]=f.languageCode),Ee.fetch()(un(f,f.config.apiHost,c,pe),Object.assign({method:u,headers:ke,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Dn(f,u,c){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,_.Z)(function*(f,u,c){f._canInitEmulator=!1;const g=Object.assign(Object.assign({},me),u);try{const A=new sn(f),k=yield Promise.race([c(),A.promise]);A.clearNetworkTimeout();const Q=yield k.json();if("needConfirmation"in Q)throw Yt(f,"account-exists-with-different-credential",Q);if(k.ok&&!("errorMessage"in Q))return Q;{const pe=k.ok?Q.errorMessage:Q.error.message,[ke,ot]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ke)throw Yt(f,"credential-already-in-use",Q);if("EMAIL_EXISTS"===ke)throw Yt(f,"email-already-in-use",Q);if("USER_DISABLED"===ke)throw Yt(f,"user-disabled",Q);const It=g[ke]||ke.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw Le(f,It,ot);O(f,It)}}catch(A){if(A instanceof z.ZR)throw A;O(f,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function $t(f,u,c,g){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,_.Z)(function*(f,u,c,g,A={}){const k=yield $e(f,u,c,g,A);return"mfaPendingCredential"in k&&O(f,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function un(f,u,c,g){const A=`${u}${c}?${g}`;return f.config.emulator?oe(f.config,A):`${f.config.apiScheme}://${A}`}function mn(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sn{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((c,g)=>{this.timer=setTimeout(()=>g(fe(this.auth,"network-request-failed")),Re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yt(f,u,c){const g={appName:f.name};c.email&&(g.email=c.email),c.phoneNumber&&(g.phoneNumber=c.phoneNumber);const A=fe(f,u,g);return A.customData._tokenResponse=c,A}function it(f){return void 0!==f&&void 0!==f.getResponse}function nn(f){return void 0!==f&&void 0!==f.enterprise}class zn{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const c of this.recaptchaEnforcementState)if(c.provider&&c.provider===u)return mn(c.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function br(){return(br=(0,_.Z)(function*(f){return(yield $e(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Tr(f,u){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,_.Z)(function*(f,u){return $e(f,"GET","/v2/recaptchaConfig",Me(f,u))})).apply(this,arguments)}function Ht(){return(Ht=(0,_.Z)(function*(f,u){return $e(f,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function En(){return(En=(0,_.Z)(function*(f,u){return $e(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Sn(f,u){return qn.apply(this,arguments)}function qn(){return(qn=(0,_.Z)(function*(f,u){return $e(f,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Xt(f){if(f)try{const u=new Date(Number(f));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function _t(){return(_t=(0,_.Z)(function*(f,u=!1){const c=(0,z.m9)(f),g=yield c.getIdToken(u),A=Kt(g);Se(A&&A.exp&&A.auth_time&&A.iat,c.auth,"internal-error");const k="object"==typeof A.firebase?A.firebase:void 0,Q=k?.sign_in_provider;return{claims:A,token:g,authTime:Xt(xr(A.auth_time)),issuedAtTime:Xt(xr(A.iat)),expirationTime:Xt(xr(A.exp)),signInProvider:Q||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function xr(f){return 1e3*Number(f)}function Kt(f){const[u,c,g]=f.split(".");if(void 0===u||void 0===c||void 0===g)return he("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,z.tV)(c);return A?JSON.parse(A):(he("Failed to decode base64 JWT payload"),null)}catch(A){return he("Caught error parsing JWT payload as JSON",A?.toString()),null}}function mr(f){const u=Kt(f);return Se(u,"internal-error"),Se(typeof u.exp<"u","internal-error"),Se(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}function Bt(f,u){return kn.apply(this,arguments)}function kn(){return(kn=(0,_.Z)(function*(f,u,c=!1){if(c)return u;try{return yield u}catch(g){throw g instanceof z.ZR&&function $r({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(g)&&f.auth.currentUser===f&&(yield f.auth.signOut()),g}})).apply(this,arguments)}class Gn{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var c;if(u){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const A=(null!==(c=this.user.stsTokenManager.expirationTime)&&void 0!==c?c:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(u=!1){var c=this;if(!this.isRunning)return;const g=this.getInterval(u);this.timerId=setTimeout((0,_.Z)(function*(){yield c.iteration()}),g)}iteration(){var u=this;return(0,_.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(c){return void("auth/network-request-failed"===c?.code&&u.schedule(!0))}u.schedule()})()}}class rr{constructor(u,c){this.createdAt=u,this.lastLoginAt=c,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xt(this.lastLoginAt),this.creationTime=Xt(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ir(f){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,_.Z)(function*(f){var u;const c=f.auth,g=yield f.getIdToken(),A=yield Bt(f,Sn(c,{idToken:g}));Se(A?.users.length,c,"internal-error");const k=A.users[0];f._notifyReloadListener(k);const Q=null!==(u=k.providerUserInfo)&&void 0!==u&&u.length?Sr(k.providerUserInfo):[],pe=function _r(f,u){return[...f.filter(g=>!u.some(A=>A.providerId===g.providerId)),...u]}(f.providerData,Q),It=!!f.isAnonymous&&!(f.email&&k.passwordHash||pe?.length),Et={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:pe,metadata:new rr(k.createdAt,k.lastLoginAt),isAnonymous:It};Object.assign(f,Et)})).apply(this,arguments)}function sr(){return(sr=(0,_.Z)(function*(f){const u=(0,z.m9)(f);yield ir(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function Sr(f){return f.map(u=>{var{providerId:c}=u,g=(0,ie._T)(u,["providerId"]);return{providerId:c,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}function j(){return(j=(0,_.Z)(function*(f,u){const c=yield Dn(f,{},(0,_.Z)(function*(){const g=(0,z.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:A,apiKey:k}=f.config,Q=un(f,A,"/v1/token",`key=${k}`),pe=yield f._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",Ee.fetch()(Q,{method:"POST",headers:pe,body:g})}));return{accessToken:c.access_token,expiresIn:c.expires_in,refreshToken:c.refresh_token}})).apply(this,arguments)}function U(){return(U=(0,_.Z)(function*(f,u){return $e(f,"POST","/v2/accounts:revokeToken",Me(f,u))})).apply(this,arguments)}class V{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){Se(u.idToken,"internal-error"),Se(typeof u.idToken<"u","internal-error"),Se(typeof u.refreshToken<"u","internal-error");const c="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):mr(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,c)}updateFromIdToken(u){Se(0!==u.length,"internal-error");const c=mr(u);this.updateTokensAndExpiration(u,null,c)}getToken(u,c=!1){var g=this;return(0,_.Z)(function*(){return c||!g.accessToken||g.isExpired?(Se(g.refreshToken,u,"user-token-expired"),g.refreshToken?(yield g.refresh(u,g.refreshToken),g.accessToken):null):g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,c){var g=this;return(0,_.Z)(function*(){const{accessToken:A,refreshToken:k,expiresIn:Q}=yield function te(f,u){return j.apply(this,arguments)}(u,c);g.updateTokensAndExpiration(A,k,Number(Q))})()}updateTokensAndExpiration(u,c,g){this.refreshToken=c||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(u,c){const{refreshToken:g,accessToken:A,expirationTime:k}=c,Q=new V;return g&&(Se("string"==typeof g,"internal-error",{appName:u}),Q.refreshToken=g),A&&(Se("string"==typeof A,"internal-error",{appName:u}),Q.accessToken=A),k&&(Se("number"==typeof k,"internal-error",{appName:u}),Q.expirationTime=k),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new V,this.toJSON())}_performRefresh(){return at("not implemented")}}function ce(f,u){Se("string"==typeof f||typeof f>"u","internal-error",{appName:u})}class Oe{constructor(u){var{uid:c,auth:g,stsTokenManager:A}=u,k=(0,ie._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=c,this.auth=g,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new rr(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(u){var c=this;return(0,_.Z)(function*(){const g=yield Bt(c,c.stsTokenManager.getToken(c.auth,u));return Se(g,c.auth,"internal-error"),c.accessToken!==g&&(c.accessToken=g,yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)),g})()}getIdTokenResult(u){return function Pi(f){return _t.apply(this,arguments)}(this,u)}reload(){return function Qr(f){return sr.apply(this,arguments)}(this)}_assign(u){this!==u&&(Se(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(c=>Object.assign({},c)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const c=new Oe(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return c.metadata._copy(this.metadata),c}_onReload(u){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,c=!1){var g=this;return(0,_.Z)(function*(){let A=!1;u.idToken&&u.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(u),A=!0),c&&(yield ir(g)),yield g.auth._persistUserIfCurrent(g),A&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var u=this;return(0,_.Z)(function*(){if((0,W._isFirebaseServerApp)(u.auth.app))return Promise.reject(Ne(u.auth));const c=yield u.getIdToken();return yield Bt(u,function St(f,u){return Ht.apply(this,arguments)}(u.auth,{idToken:c})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,c){var g,A,k,Q,pe,ke,ot,It;const Et=null!==(g=c.displayName)&&void 0!==g?g:void 0,Jn=null!==(A=c.email)&&void 0!==A?A:void 0,pr=null!==(k=c.phoneNumber)&&void 0!==k?k:void 0,ul=null!==(Q=c.photoURL)&&void 0!==Q?Q:void 0,Nc=null!==(pe=c.tenantId)&&void 0!==pe?pe:void 0,Oc=null!==(ke=c._redirectEventId)&&void 0!==ke?ke:void 0,xc=null!==(ot=c.createdAt)&&void 0!==ot?ot:void 0,ga=null!==(It=c.lastLoginAt)&&void 0!==It?It:void 0,{uid:kc,emailVerified:Fl,isAnonymous:Lc,providerData:Ul,stsTokenManager:ll}=c;Se(kc&&ll,u,"internal-error");const Bl=V.fromJSON(this.name,ll);Se("string"==typeof kc,u,"internal-error"),ce(Et,u.name),ce(Jn,u.name),Se("boolean"==typeof Fl,u,"internal-error"),Se("boolean"==typeof Lc,u,"internal-error"),ce(pr,u.name),ce(ul,u.name),ce(Nc,u.name),ce(Oc,u.name),ce(xc,u.name),ce(ga,u.name);const No=new Oe({uid:kc,auth:u,email:Jn,emailVerified:Fl,displayName:Et,isAnonymous:Lc,photoURL:ul,phoneNumber:pr,tenantId:Nc,stsTokenManager:Bl,createdAt:xc,lastLoginAt:ga});return Ul&&Array.isArray(Ul)&&(No.providerData=Ul.map(ma=>Object.assign({},ma))),Oc&&(No._redirectEventId=Oc),No}static _fromIdTokenResponse(u,c,g=!1){return(0,_.Z)(function*(){const A=new V;A.updateFromServerResponse(c);const k=new Oe({uid:c.localId,auth:u,stsTokenManager:A,isAnonymous:g});return yield ir(k),k})()}static _fromGetAccountInfoResponse(u,c,g){return(0,_.Z)(function*(){const A=c.users[0];Se(void 0!==A.localId,"internal-error");const k=void 0!==A.providerUserInfo?Sr(A.providerUserInfo):[],Q=!(A.email&&A.passwordHash||k?.length),pe=new V;pe.updateFromIdToken(g);const ke=new Oe({uid:A.localId,auth:u,stsTokenManager:pe,isAnonymous:Q}),ot={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:k,metadata:new rr(A.createdAt,A.lastLoginAt),isAnonymous:!(A.email&&A.passwordHash||k?.length)};return Object.assign(ke,ot),ke})()}}const st=new Map;function mt(f){Dt(f instanceof Function,"Expected a class definition");let u=st.get(f);return u?(Dt(u instanceof f,"Instance stored in cache mismatched with class"),u):(u=new f,st.set(f,u),u)}const wt=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(c,g){var A=this;return(0,_.Z)(function*(){A.storage[c]=g})()}_get(c){var g=this;return(0,_.Z)(function*(){const A=g.storage[c];return void 0===A?null:A})()}_remove(c){var g=this;return(0,_.Z)(function*(){delete g.storage[c]})()}_addListener(c,g){}_removeListener(c,g){}}return f.type="NONE",f})();function yt(f,u,c){return`firebase:${f}:${u}:${c}`}class pn{constructor(u,c,g){this.persistence=u,this.auth=c,this.userKey=g;const{config:A,name:k}=this.auth;this.fullUserKey=yt(this.userKey,A.apiKey,k),this.fullPersistenceKey=yt("persistence",A.apiKey,k),this.boundEventHandler=c._onStorageEvent.bind(c),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,_.Z)(function*(){const c=yield u.persistence._get(u.fullUserKey);return c?Oe._fromJSON(u.auth,c):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var c=this;return(0,_.Z)(function*(){if(c.persistence===u)return;const g=yield c.getCurrentUser();return yield c.removeCurrentUser(),c.persistence=u,g?c.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,c,g="authUser"){return(0,_.Z)(function*(){if(!c.length)return new pn(mt(wt),u,g);const A=(yield Promise.all(c.map(function(){var ot=(0,_.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let k=A[0]||mt(wt);const Q=yt(g,u.config.apiKey,u.name);let pe=null;for(const ot of c)try{const It=yield ot._get(Q);if(It){const Et=Oe._fromJSON(u,It);ot!==k&&(pe=Et),k=ot;break}}catch{}const ke=A.filter(ot=>ot._shouldAllowMigration);return k._shouldAllowMigration&&ke.length?(k=ke[0],pe&&(yield k._set(Q,pe.toJSON())),yield Promise.all(c.map(function(){var ot=(0,_.Z)(function*(It){if(It!==k)try{yield It._remove(Q)}catch{}});return function(It){return ot.apply(this,arguments)}}())),new pn(k,u,g)):new pn(k,u,g)})()}}function ge(f){const u=f.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Ke(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(J(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(tt(u))return"Blackberry";if(zt(u))return"Webos";if(se(u))return"Safari";if((u.includes("chrome/")||He(u))&&!u.includes("edge/"))return"Chrome";if(rt(u))return"Android";{const g=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function J(f=(0,z.z$)()){return/firefox\//i.test(f)}function se(f=(0,z.z$)()){const u=f.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function He(f=(0,z.z$)()){return/crios\//i.test(f)}function Ke(f=(0,z.z$)()){return/iemobile/i.test(f)}function rt(f=(0,z.z$)()){return/android/i.test(f)}function tt(f=(0,z.z$)()){return/blackberry/i.test(f)}function zt(f=(0,z.z$)()){return/webos/i.test(f)}function ne(f=(0,z.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function pt(f=(0,z.z$)()){return ne(f)||rt(f)||zt(f)||tt(f)||/windows phone/i.test(f)||Ke(f)}function Pt(f,u=[]){let c;switch(f){case"Browser":c=ge((0,z.z$)());break;case"Worker":c=`${ge((0,z.z$)())}-${f}`;break;default:c=f}const g=u.length?u.join(","):"FirebaseCore-web";return`${c}/JsCore/${W.SDK_VERSION}/${g}`}class kt{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,c){const g=k=>new Promise((Q,pe)=>{try{Q(u(k))}catch(ke){pe(ke)}});g.onAbort=c,this.queue.push(g);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(u){var c=this;return(0,_.Z)(function*(){if(c.auth.currentUser===u)return;const g=[];try{for(const A of c.queue)yield A(u),A.onAbort&&g.push(A.onAbort)}catch(A){g.reverse();for(const k of g)try{k()}catch{}throw c.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}function _n(){return(_n=(0,_.Z)(function*(f,u={}){return $e(f,"GET","/v2/passwordPolicy",Me(f,u))})).apply(this,arguments)}class Qn{constructor(u){var c,g,A,k;const Q=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(c=Q.minPasswordLength)&&void 0!==c?c:6,Q.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Q.maxPasswordLength),void 0!==Q.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Q.containsLowercaseCharacter),void 0!==Q.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Q.containsUppercaseCharacter),void 0!==Q.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Q.containsNumericCharacter),void 0!==Q.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Q.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(A=null===(g=u.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==A?A:"",this.forceUpgradeOnSignin=null!==(k=u.forceUpgradeOnSignin)&&void 0!==k&&k,this.schemaVersion=u.schemaVersion}validatePassword(u){var c,g,A,k,Q,pe;const ke={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,ke),this.validatePasswordCharacterOptions(u,ke),ke.isValid&&(ke.isValid=null===(c=ke.meetsMinPasswordLength)||void 0===c||c),ke.isValid&&(ke.isValid=null===(g=ke.meetsMaxPasswordLength)||void 0===g||g),ke.isValid&&(ke.isValid=null===(A=ke.containsLowercaseLetter)||void 0===A||A),ke.isValid&&(ke.isValid=null===(k=ke.containsUppercaseLetter)||void 0===k||k),ke.isValid&&(ke.isValid=null===(Q=ke.containsNumericCharacter)||void 0===Q||Q),ke.isValid&&(ke.isValid=null===(pe=ke.containsNonAlphanumericCharacter)||void 0===pe||pe),ke}validatePasswordLengthOptions(u,c){const g=this.customStrengthOptions.minPasswordLength,A=this.customStrengthOptions.maxPasswordLength;g&&(c.meetsMinPasswordLength=u.length>=g),A&&(c.meetsMaxPasswordLength=u.length<=A)}validatePasswordCharacterOptions(u,c){let g;this.updatePasswordCharacterOptionsStatuses(c,!1,!1,!1,!1);for(let A=0;A<u.length;A++)g=u.charAt(A),this.updatePasswordCharacterOptionsStatuses(c,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(u,c,g,A,k){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=c)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=A)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=k))}}class Xr{constructor(u,c,g,A){this.app=u,this.heartbeatServiceProvider=c,this.appCheckServiceProvider=g,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new di(this),this.idTokenSubscription=new di(this),this.beforeStateQueue=new kt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(u,c){var g=this;return c&&(this._popupRedirectResolver=mt(c)),this._initializationPromise=this.queue((0,_.Z)(function*(){var A,k;if(!g._deleted&&(g.persistenceManager=yield pn.create(g,u),!g._deleted)){if(null!==(A=g._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(c),g.lastNotifiedUid=(null===(k=g.currentUser)||void 0===k?void 0:k.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,_.Z)(function*(){if(u._deleted)return;const c=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||c){if(u.currentUser&&c&&u.currentUser.uid===c.uid)return u._currentUser._assign(c),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(c,!0)}})()}initializeCurrentUserFromIdToken(u){var c=this;return(0,_.Z)(function*(){try{const g=yield Sn(c,{idToken:u}),A=yield Oe._fromGetAccountInfoResponse(c,g,u);yield c.directlySetCurrentUser(A)}catch(g){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",g),yield c.directlySetCurrentUser(null)}})()}initializeCurrentUser(u){var c=this;return(0,_.Z)(function*(){var g;if((0,W._isFirebaseServerApp)(c.app)){const pe=c.app.settings.authIdToken;return pe?new Promise(ke=>{setTimeout(()=>c.initializeCurrentUserFromIdToken(pe).then(ke,ke))}):c.directlySetCurrentUser(null)}const A=yield c.assertedPersistence.getCurrentUser();let k=A,Q=!1;if(u&&c.config.authDomain){yield c.getOrInitRedirectPersistenceManager();const pe=null===(g=c.redirectUser)||void 0===g?void 0:g._redirectEventId,ke=k?._redirectEventId,ot=yield c.tryRedirectSignIn(u);(!pe||pe===ke)&&ot?.user&&(k=ot.user,Q=!0)}if(!k)return c.directlySetCurrentUser(null);if(!k._redirectEventId){if(Q)try{yield c.beforeStateQueue.runMiddleware(k)}catch(pe){k=A,c._popupRedirectResolver._overrideRedirectResult(c,()=>Promise.reject(pe))}return k?c.reloadAndSetCurrentUserOrClear(k):c.directlySetCurrentUser(null)}return Se(c._popupRedirectResolver,c,"argument-error"),yield c.getOrInitRedirectPersistenceManager(),c.redirectUser&&c.redirectUser._redirectEventId===k._redirectEventId?c.directlySetCurrentUser(k):c.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(u){var c=this;return(0,_.Z)(function*(){let g=null;try{g=yield c._popupRedirectResolver._completeRedirectFn(c,u,!0)}catch{yield c._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(u){var c=this;return(0,_.Z)(function*(){try{yield ir(u)}catch(g){if("auth/network-request-failed"!==g?.code)return c.directlySetCurrentUser(null)}return c.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function ct(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var u=this;return(0,_.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var c=this;return(0,_.Z)(function*(){if((0,W._isFirebaseServerApp)(c.app))return Promise.reject(Ne(c));const g=u?(0,z.m9)(u):null;return g&&Se(g.auth.config.apiKey===c.config.apiKey,c,"invalid-user-token"),c._updateCurrentUser(g&&g._clone(c))})()}_updateCurrentUser(u,c=!1){var g=this;return(0,_.Z)(function*(){if(!g._deleted)return u&&Se(g.tenantId===u.tenantId,g,"tenant-id-mismatch"),c||(yield g.beforeStateQueue.runMiddleware(u)),g.queue((0,_.Z)(function*(){yield g.directlySetCurrentUser(u),g.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,_.Z)(function*(){return(0,W._isFirebaseServerApp)(u.app)?Promise.reject(Ne(u)):(yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0))})()}setPersistence(u){var c=this;return(0,W._isFirebaseServerApp)(this.app)?Promise.reject(Ne(this)):this.queue((0,_.Z)(function*(){yield c.assertedPersistence.setPersistence(mt(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var c=this;return(0,_.Z)(function*(){c._getPasswordPolicyInternal()||(yield c._updatePasswordPolicy());const g=c._getPasswordPolicyInternal();return g.schemaVersion!==c.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(c._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,_.Z)(function*(){const c=yield function Nt(f){return _n.apply(this,arguments)}(u),g=new Qn(c);null===u.tenantId?u._projectPasswordPolicy=g:u._tenantPasswordPolicies[u.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new z.LL("auth","Firebase",u())}onAuthStateChanged(u,c,g){return this.registerStateListener(this.authStateSubscription,u,c,g)}beforeAuthStateChanged(u,c){return this.beforeStateQueue.pushCallback(u,c)}onIdTokenChanged(u,c,g){return this.registerStateListener(this.idTokenSubscription,u,c,g)}authStateReady(){return new Promise((u,c)=>{if(this.currentUser)u();else{const g=this.onAuthStateChanged(()=>{g(),u()},c)}})}revokeAccessToken(u){var c=this;return(0,_.Z)(function*(){if(c.currentUser){const g=yield c.currentUser.getIdToken(),A={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:g};null!=c.tenantId&&(A.tenantId=c.tenantId),yield function H(f,u){return U.apply(this,arguments)}(c,A)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,c){var g=this;return(0,_.Z)(function*(){const A=yield g.getOrInitRedirectPersistenceManager(c);return null===u?A.removeCurrentUser():A.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var c=this;return(0,_.Z)(function*(){if(!c.redirectPersistenceManager){const g=u&&mt(u)||c._popupRedirectResolver;Se(g,c,"argument-error"),c.redirectPersistenceManager=yield pn.create(c,[mt(g._redirectPersistence)],"redirectUser"),c.redirectUser=yield c.redirectPersistenceManager.getCurrentUser()}return c.redirectPersistenceManager})()}_redirectUserForId(u){var c=this;return(0,_.Z)(function*(){var g,A;return c._isInitialized&&(yield c.queue((0,_.Z)(function*(){}))),(null===(g=c._currentUser)||void 0===g?void 0:g._redirectEventId)===u?c._currentUser:(null===(A=c.redirectUser)||void 0===A?void 0:A._redirectEventId)===u?c.redirectUser:null})()}_persistUserIfCurrent(u){var c=this;return(0,_.Z)(function*(){if(u===c.currentUser)return c.queue((0,_.Z)(function*(){return c.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,c;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(c=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==c?c:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,c,g,A){if(this._deleted)return()=>{};const k="function"==typeof c?c:c.next.bind(c);let Q=!1;const pe=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(pe,this,"internal-error"),pe.then(()=>{Q||k(this.currentUser)}),"function"==typeof c){const ke=u.addObserver(c,g,A);return()=>{Q=!0,ke()}}{const ke=u.addObserver(c);return()=>{Q=!0,ke()}}}directlySetCurrentUser(u){var c=this;return(0,_.Z)(function*(){c.currentUser&&c.currentUser!==u&&c._currentUser._stopProactiveRefresh(),u&&c.isProactiveRefreshEnabled&&u._startProactiveRefresh(),c.currentUser=u,u?yield c.assertedPersistence.setCurrentUser(u):yield c.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Pt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,_.Z)(function*(){var c;const g={"X-Client-Version":u.clientVersion};u.app.options.appId&&(g["X-Firebase-gmpid"]=u.app.options.appId);const A=yield null===(c=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===c?void 0:c.getHeartbeatsHeader();A&&(g["X-Firebase-Client"]=A);const k=yield u._getAppCheckToken();return k&&(g["X-Firebase-AppCheck"]=k),g})()}_getAppCheckToken(){var u=this;return(0,_.Z)(function*(){var c;const g=yield null===(c=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===c?void 0:c.getToken();return g?.error&&function ft(f,...u){Ct.logLevel<=re.in.WARN&&Ct.warn(`Auth (${W.SDK_VERSION}): ${f}`,...u)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function In(f){return(0,z.m9)(f)}class di{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,z.ne)(c=>this.observer=c)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gi={loadJS:()=>(0,_.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ps(f){return Gi.loadJS(f)}function Wr(f){return`__${f}${Math.floor(1e6*Math.random())}`}class Os{constructor(u){this.type="recaptcha-enterprise",this.auth=In(u)}verify(u="verify",c=!1){var g=this;return(0,_.Z)(function*(){function k(){return k=(0,_.Z)(function*(pe){if(!c){if(null==pe.tenantId&&null!=pe._agentRecaptchaConfig)return pe._agentRecaptchaConfig.siteKey;if(null!=pe.tenantId&&void 0!==pe._tenantRecaptchaConfigs[pe.tenantId])return pe._tenantRecaptchaConfigs[pe.tenantId].siteKey}return new Promise(function(){var ke=(0,_.Z)(function*(ot,It){Tr(pe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Et=>{if(void 0!==Et.recaptchaKey){const Jn=new zn(Et);return null==pe.tenantId?pe._agentRecaptchaConfig=Jn:pe._tenantRecaptchaConfigs[pe.tenantId]=Jn,ot(Jn.siteKey)}It(new Error("recaptcha Enterprise site key undefined"))}).catch(Et=>{It(Et)})});return function(ot,It){return ke.apply(this,arguments)}}())}),k.apply(this,arguments)}function Q(pe,ke,ot){const It=window.grecaptcha;nn(It)?It.enterprise.ready(()=>{It.enterprise.execute(pe,{action:u}).then(Et=>{ke(Et)}).catch(()=>{ke("NO_RECAPTCHA")})}):ot(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pe,ke)=>{(function A(pe){return k.apply(this,arguments)})(g.auth).then(ot=>{if(!c&&nn(window.grecaptcha))Q(ot,pe,ke);else{if(typeof window>"u")return void ke(new Error("RecaptchaVerifier is only supported in browser"));let It=function lr(){return Gi.recaptchaEnterpriseScript}();0!==It.length&&(It+=ot),Ps(It).then(()=>{Q(ot,pe,ke)}).catch(Et=>{ke(Et)})}}).catch(ot=>{ke(ot)})})})()}}function ds(f,u,c){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,_.Z)(function*(f,u,c,g=!1){const A=new Os(f);let k;try{k=yield A.verify(c)}catch{k=yield A.verify(c,!0)}const Q=Object.assign({},u);return Object.assign(Q,g?{captchaResp:k}:{captchaResponse:k}),Object.assign(Q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Q})).apply(this,arguments)}function Ki(f,u,c,g){return kr.apply(this,arguments)}function kr(){return kr=(0,_.Z)(function*(f,u,c,g){var A;if(null!==(A=f._getRecaptchaConfig())&&void 0!==A&&A.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const k=yield ds(f,u,c,"getOobCode"===c);return g(f,k)}return g(f,u).catch(function(){var k=(0,_.Z)(function*(Q){if("auth/missing-recaptcha-token"===Q.code){console.log(`${c} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const pe=yield ds(f,u,c,"getOobCode"===c);return g(f,pe)}return Promise.reject(Q)});return function(Q){return k.apply(this,arguments)}}())}),kr.apply(this,arguments)}function lo(f){const u=f.indexOf(":");return u<0?"":f.substr(0,u+1)}function Lo(f){if(!f)return null;const u=Number(f);return isNaN(u)?null:u}class Di{constructor(u,c){this.providerId=u,this.signInMethod=c}toJSON(){return at("not implemented")}_getIdTokenResponse(u){return at("not implemented")}_linkToIdToken(u,c){return at("not implemented")}_getReauthenticationResolver(u){return at("not implemented")}}function Gt(f,u){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,_.Z)(function*(f,u){return $e(f,"POST","/v1/accounts:resetPassword",Me(f,u))})).apply(this,arguments)}function wi(){return(wi=(0,_.Z)(function*(f,u){return $e(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function cr(f,u){return ks.apply(this,arguments)}function ks(){return(ks=(0,_.Z)(function*(f,u){return $e(f,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function bi(){return(bi=(0,_.Z)(function*(f,u){return $e(f,"POST","/v1/accounts:update",Me(f,u))})).apply(this,arguments)}function Jr(f,u){return fi.apply(this,arguments)}function fi(){return(fi=(0,_.Z)(function*(f,u){return $t(f,"POST","/v1/accounts:signInWithPassword",Me(f,u))})).apply(this,arguments)}function Nn(f,u){return lt.apply(this,arguments)}function lt(){return(lt=(0,_.Z)(function*(f,u){return $e(f,"POST","/v1/accounts:sendOobCode",Me(f,u))})).apply(this,arguments)}function gn(){return(gn=(0,_.Z)(function*(f,u){return Nn(f,u)})).apply(this,arguments)}function Cr(f,u){return fs.apply(this,arguments)}function fs(){return(fs=(0,_.Z)(function*(f,u){return Nn(f,u)})).apply(this,arguments)}function or(f,u){return pi.apply(this,arguments)}function pi(){return(pi=(0,_.Z)(function*(f,u){return Nn(f,u)})).apply(this,arguments)}function Gr(){return(Gr=(0,_.Z)(function*(f,u){return Nn(f,u)})).apply(this,arguments)}function Lt(){return(Lt=(0,_.Z)(function*(f,u){return $t(f,"POST","/v1/accounts:signInWithEmailLink",Me(f,u))})).apply(this,arguments)}function Ls(){return(Ls=(0,_.Z)(function*(f,u){return $t(f,"POST","/v1/accounts:signInWithEmailLink",Me(f,u))})).apply(this,arguments)}class Lr extends Di{constructor(u,c,g,A=null){super("password",g),this._email=u,this._password=c,this._tenantId=A}static _fromEmailAndPassword(u,c){return new Lr(u,c,"password")}static _fromEmailAndCode(u,c,g=null){return new Lr(u,c,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u;if(c?.email&&c?.password){if("password"===c.signInMethod)return this._fromEmailAndPassword(c.email,c.password);if("emailLink"===c.signInMethod)return this._fromEmailAndCode(c.email,c.password,c.tenantId)}return null}_getIdTokenResponse(u){var c=this;return(0,_.Z)(function*(){switch(c.signInMethod){case"password":return Ki(u,{returnSecureToken:!0,email:c._email,password:c._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Jr);case"emailLink":return function Ni(f,u){return Lt.apply(this,arguments)}(u,{email:c._email,oobCode:c._password});default:O(u,"internal-error")}})()}_linkToIdToken(u,c){var g=this;return(0,_.Z)(function*(){switch(g.signInMethod){case"password":return Ki(u,{idToken:c,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cr);case"emailLink":return function Yi(f,u){return Ls.apply(this,arguments)}(u,{idToken:c,email:g._email,oobCode:g._password});default:O(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function wn(f,u){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,_.Z)(function*(f,u){return $t(f,"POST","/v1/accounts:signInWithIdp",Me(f,u))})).apply(this,arguments)}class er extends Di{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const c=new er(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(c.idToken=u.idToken),u.accessToken&&(c.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(c.nonce=u.nonce),u.pendingToken&&(c.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(c.accessToken=u.oauthToken,c.secret=u.oauthTokenSecret):O("argument-error"),c}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:A}=c,k=(0,ie._T)(c,["providerId","signInMethod"]);if(!g||!A)return null;const Q=new er(g,A);return Q.idToken=k.idToken||void 0,Q.accessToken=k.accessToken||void 0,Q.secret=k.secret,Q.nonce=k.nonce,Q.pendingToken=k.pendingToken||null,Q}_getIdTokenResponse(u){return wn(u,this.buildRequest())}_linkToIdToken(u,c){const g=this.buildRequest();return g.idToken=c,wn(u,g)}_getReauthenticationResolver(u){const c=this.buildRequest();return c.autoCreate=!1,wn(u,c)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const c={};this.idToken&&(c.id_token=this.idToken),this.accessToken&&(c.access_token=this.accessToken),this.secret&&(c.oauth_token_secret=this.secret),c.providerId=this.providerId,this.nonce&&!this.pendingToken&&(c.nonce=this.nonce),u.postBody=(0,z.xO)(c)}return u}}function Bs(){return(Bs=(0,_.Z)(function*(f,u){return $e(f,"POST","/v1/accounts:sendVerificationCode",Me(f,u))})).apply(this,arguments)}function ei(){return(ei=(0,_.Z)(function*(f,u){return $t(f,"POST","/v1/accounts:signInWithPhoneNumber",Me(f,u))})).apply(this,arguments)}function Qi(){return(Qi=(0,_.Z)(function*(f,u){const c=yield $t(f,"POST","/v1/accounts:signInWithPhoneNumber",Me(f,u));if(c.temporaryProof)throw Yt(f,"account-exists-with-different-credential",c);return c})).apply(this,arguments)}const en={USER_NOT_FOUND:"user-not-found"};function Fo(){return(Fo=(0,_.Z)(function*(f,u){return $t(f,"POST","/v1/accounts:signInWithPhoneNumber",Me(f,Object.assign(Object.assign({},u),{operation:"REAUTH"})),en)})).apply(this,arguments)}class ti extends Di{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,c){return new ti({verificationId:u,verificationCode:c})}static _fromTokenResponse(u,c){return new ti({phoneNumber:u,temporaryProof:c})}_getIdTokenResponse(u){return function Si(f,u){return ei.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,c){return function qi(f,u){return Qi.apply(this,arguments)}(u,Object.assign({idToken:c},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function yl(f,u){return Fo.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:c,verificationId:g,verificationCode:A}=this.params;return u&&c?{temporaryProof:u,phoneNumber:c}:{sessionInfo:g,code:A}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:c,verificationCode:g,phoneNumber:A,temporaryProof:k}=u;return g||c||A||k?new ti({verificationId:c,verificationCode:g,phoneNumber:A,temporaryProof:k}):null}}class gi{constructor(u){var c,g,A,k,Q,pe;const ke=(0,z.zd)((0,z.pd)(u)),ot=null!==(c=ke.apiKey)&&void 0!==c?c:null,It=null!==(g=ke.oobCode)&&void 0!==g?g:null,Et=function Oi(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=ke.mode)&&void 0!==A?A:null);Se(ot&&It&&Et,"argument-error"),this.apiKey=ot,this.operation=Et,this.code=It,this.continueUrl=null!==(k=ke.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(Q=ke.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(pe=ke.tenantId)&&void 0!==pe?pe:null}static parseLink(u){const c=function Mu(f){const u=(0,z.zd)((0,z.pd)(f)).link,c=u?(0,z.zd)((0,z.pd)(u)).deep_link_id:null,g=(0,z.zd)((0,z.pd)(f)).deep_link_id;return(g?(0,z.zd)((0,z.pd)(g)).link:null)||g||c||u||f}(u);try{return new gi(c)}catch{return null}}}let Kn=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(c,g){return Lr._fromEmailAndPassword(c,g)}static credentialWithLink(c,g){const A=gi.parseLink(g);return Se(A,"argument-error"),Lr._fromEmailAndCode(c,A.code,A.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class xi{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Vn extends xi{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class rn extends Vn{static credentialFromJSON(u){const c="string"==typeof u?JSON.parse(u):u;return Se("providerId"in c&&"signInMethod"in c,"argument-error"),er._fromParams(c)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return Se(u.idToken||u.accessToken,"argument-error"),er._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return rn.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return rn.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:c,oauthAccessToken:g,oauthTokenSecret:A,pendingToken:k,nonce:Q,providerId:pe}=u;if(!g&&!A&&!c&&!k||!pe)return null;try{return new rn(pe)._credential({idToken:c,accessToken:g,nonce:Q,pendingToken:k})}catch{return null}}}let js=(()=>{class f extends Vn{constructor(){super("facebook.com")}static credential(c){return er._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return f.credentialFromTaggedObject(c)}static credentialFromError(c){return f.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return f.credential(c.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),Zr=(()=>{class f extends Vn{constructor(){super("google.com"),this.addScope("profile")}static credential(c,g){return er._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:c,accessToken:g})}static credentialFromResult(c){return f.credentialFromTaggedObject(c)}static credentialFromError(c){return f.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:g,oauthAccessToken:A}=c;if(!g&&!A)return null;try{return f.credential(g,A)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),Bo=(()=>{class f extends Vn{constructor(){super("github.com")}static credential(c){return er._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return f.credentialFromTaggedObject(c)}static credentialFromError(c){return f.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return f.credential(c.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class ki extends Di{constructor(u,c){super(u,u),this.pendingToken=c}_getIdTokenResponse(u){return wn(u,this.buildRequest())}_linkToIdToken(u,c){const g=this.buildRequest();return g.idToken=c,wn(u,g)}_getReauthenticationResolver(u){const c=this.buildRequest();return c.autoCreate=!1,wn(u,c)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:A,pendingToken:k}=c;return g&&A&&k&&g===A?new ki(g,k):null}static _create(u,c){return new ki(u,c)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ps extends xi{constructor(u){Se(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return ps.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return ps.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const c=ki.fromJSON(u);return Se(c,"argument-error"),c}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:c,providerId:g}=u;if(!c||!g)return null;try{return ki._create(g,c)}catch{return null}}}let Pu=(()=>{class f extends Vn{constructor(){super("twitter.com")}static credential(c,g){return er._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:c,oauthTokenSecret:g})}static credentialFromResult(c){return f.credentialFromTaggedObject(c)}static credentialFromError(c){return f.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthAccessToken:g,oauthTokenSecret:A}=c;if(!g||!A)return null;try{return f.credential(g,A)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Sa(f,u){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,_.Z)(function*(f,u){return $t(f,"POST","/v1/accounts:signUp",Me(f,u))})).apply(this,arguments)}class ar{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,c,g,A=!1){return(0,_.Z)(function*(){const k=yield Oe._fromIdTokenResponse(u,g,A),Q=El(g);return new ar({user:k,providerId:Q,_tokenResponse:g,operationType:c})})()}static _forOperation(u,c,g){return(0,_.Z)(function*(){yield u._updateTokensIfNecessary(g,!0);const A=El(g);return new ar({user:u,providerId:A,_tokenResponse:g,operationType:c})})()}}function El(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function An(){return(An=(0,_.Z)(function*(f){var u;if((0,W._isFirebaseServerApp)(f.app))return Promise.reject(Ne(f));const c=In(f);if(yield c._initializationPromise,null!==(u=c.currentUser)&&void 0!==u&&u.isAnonymous)return new ar({user:c.currentUser,providerId:null,operationType:"signIn"});const g=yield Sa(c,{returnSecureToken:!0}),A=yield ar._fromIdTokenResponse(c,"signIn",g,!0);return yield c._updateCurrentUser(A.user),A})).apply(this,arguments)}class gs extends z.ZR{constructor(u,c,g,A){var k;super(c.code,c.message),this.operationType=g,this.user=A,Object.setPrototypeOf(this,gs.prototype),this.customData={appName:u.name,tenantId:null!==(k=u.tenantId)&&void 0!==k?k:void 0,_serverResponse:c.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(u,c,g,A){return new gs(u,c,g,A)}}function Il(f,u,c,g){return("reauthenticate"===u?c._getReauthenticationResolver(f):c._getIdTokenResponse(f)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?gs._fromErrorAndOperation(f,k,u,g):k})}function Xl(f){return new Set(f.map(({providerId:u})=>u).filter(u=>!!u))}function Nu(){return Nu=(0,_.Z)(function*(f,u){const c=(0,z.m9)(f);yield Ra(!0,c,u);const{providerUserInfo:g}=yield function At(f,u){return En.apply(this,arguments)}(c.auth,{idToken:yield c.getIdToken(),deleteProvider:[u]}),A=Xl(g||[]);return c.providerData=c.providerData.filter(k=>A.has(k.providerId)),A.has("phone")||(c.phoneNumber=null),yield c.auth._persistUserIfCurrent(c),c}),Nu.apply(this,arguments)}function Ou(f,u){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,_.Z)(function*(f,u,c=!1){const g=yield Bt(f,u._linkToIdToken(f.auth,yield f.getIdToken()),c);return ar._forOperation(f,"link",g)})).apply(this,arguments)}function Ra(f,u,c){return jo.apply(this,arguments)}function jo(){return(jo=(0,_.Z)(function*(f,u,c){yield ir(u);const A=!1===f?"provider-already-linked":"no-such-provider";Se(Xl(u.providerData).has(c)===f,u.auth,A)})).apply(this,arguments)}function Ho(f,u){return ho.apply(this,arguments)}function ho(){return(ho=(0,_.Z)(function*(f,u,c=!1){const{auth:g}=f;if((0,W._isFirebaseServerApp)(g.app))return Promise.reject(Ne(g));const A="reauthenticate";try{const k=yield Bt(f,Il(g,A,u,f),c);Se(k.idToken,g,"internal-error");const Q=Kt(k.idToken);Se(Q,g,"internal-error");const{sub:pe}=Q;return Se(f.uid===pe,g,"user-mismatch"),ar._forOperation(f,A,k)}catch(k){throw"auth/user-not-found"===k?.code&&O(g,"user-mismatch"),k}})).apply(this,arguments)}function Xi(f,u){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,_.Z)(function*(f,u,c=!1){if((0,W._isFirebaseServerApp)(f.app))return Promise.reject(Ne(f));const g="signIn",A=yield Il(f,g,u),k=yield ar._fromIdTokenResponse(f,g,A);return c||(yield f._updateCurrentUser(k.user)),k})).apply(this,arguments)}function mi(f,u){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,_.Z)(function*(f,u){return Xi(In(f),u)})).apply(this,arguments)}function fo(f,u){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,_.Z)(function*(f,u){const c=(0,z.m9)(f);return yield Ra(!1,c,u.providerId),Ou(c,u)})).apply(this,arguments)}function ur(f,u){return Li.apply(this,arguments)}function Li(){return(Li=(0,_.Z)(function*(f,u){return Ho((0,z.m9)(f),u)})).apply(this,arguments)}function Hs(){return(Hs=(0,_.Z)(function*(f,u){return $t(f,"POST","/v1/accounts:signInWithCustomToken",Me(f,u))})).apply(this,arguments)}function po(){return po=(0,_.Z)(function*(f,u){if((0,W._isFirebaseServerApp)(f.app))return Promise.reject(Ne(f));const c=In(f),g=yield function Dr(f,u){return Hs.apply(this,arguments)}(c,{token:u,returnSecureToken:!0}),A=yield ar._fromIdTokenResponse(c,"signIn",g);return yield c._updateCurrentUser(A.user),A}),po.apply(this,arguments)}class ri{constructor(u,c){this.factorId=u,this.uid=c.mfaEnrollmentId,this.enrollmentTime=new Date(c.enrolledAt).toUTCString(),this.displayName=c.displayName}static _fromServerResponse(u,c){return"phoneInfo"in c?ii._fromServerResponse(u,c):"totpInfo"in c?_i._fromServerResponse(u,c):O(u,"internal-error")}}class ii extends ri{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,c){return new ii(c)}}class _i extends ri{constructor(u){super("totp",u)}static _fromServerResponse(u,c){return new _i(c)}}function si(f,u,c){var g;Se((null===(g=c.url)||void 0===g?void 0:g.length)>0,f,"invalid-continue-uri"),Se(typeof c.dynamicLinkDomain>"u"||c.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),u.continueUrl=c.url,u.dynamicLinkDomain=c.dynamicLinkDomain,u.canHandleCodeInApp=c.handleCodeInApp,c.iOS&&(Se(c.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),u.iOSBundleId=c.iOS.bundleId),c.android&&(Se(c.android.packageName.length>0,f,"missing-android-pkg-name"),u.androidInstallApp=c.android.installApp,u.androidMinimumVersionCode=c.android.minimumVersion,u.androidPackageName=c.android.packageName)}function Vs(f){return go.apply(this,arguments)}function go(){return(go=(0,_.Z)(function*(f){const u=In(f);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function oi(){return(oi=(0,_.Z)(function*(f,u,c){const g=In(f),A={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};c&&si(g,A,c),yield Ki(g,A,"getOobCode",Cr)})).apply(this,arguments)}function vi(){return vi=(0,_.Z)(function*(f,u,c){yield Gt((0,z.m9)(f),{oobCode:u,newPassword:c}).catch(function(){var g=(0,_.Z)(function*(A){throw"auth/password-does-not-meet-requirements"===A.code&&Vs(f),A});return function(A){return g.apply(this,arguments)}}())}),vi.apply(this,arguments)}function Fi(){return Fi=(0,_.Z)(function*(f,u){yield function co(f,u){return bi.apply(this,arguments)}((0,z.m9)(f),{oobCode:u})}),Fi.apply(this,arguments)}function $o(f,u){return yi.apply(this,arguments)}function yi(){return(yi=(0,_.Z)(function*(f,u){const c=(0,z.m9)(f),g=yield Gt(c,{oobCode:u}),A=g.requestType;switch(Se(A,c,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(g.newEmail,c,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(g.mfaInfo,c,"internal-error");default:Se(g.email,c,"internal-error")}let k=null;return g.mfaInfo&&(k=ri._fromServerResponse(In(c),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:k},operation:A}})).apply(this,arguments)}function Ws(){return(Ws=(0,_.Z)(function*(f,u){const{data:c}=yield $o((0,z.m9)(f),u);return c.email})).apply(this,arguments)}function xu(){return(xu=(0,_.Z)(function*(f,u,c){if((0,W._isFirebaseServerApp)(f.app))return Promise.reject(Ne(f));const g=In(f),Q=yield Ki(g,{returnSecureToken:!0,email:u,password:c,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sa).catch(ke=>{throw"auth/password-does-not-meet-requirements"===ke.code&&Vs(f),ke}),pe=yield ar._fromIdTokenResponse(g,"signIn",Q);return yield g._updateCurrentUser(pe.user),pe})).apply(this,arguments)}function Bi(){return(Bi=(0,_.Z)(function*(f,u,c){const g=In(f),A={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function k(Q,pe){Se(pe.handleCodeInApp,g,"argument-error"),pe&&si(g,Q,pe)})(A,c),yield Ki(g,A,"getOobCode",or)})).apply(this,arguments)}function ms(){return(ms=(0,_.Z)(function*(f,u,c){if((0,W._isFirebaseServerApp)(f.app))return Promise.reject(Ne(f));const g=(0,z.m9)(f),A=Kn.credentialWithLink(u,c||Ut());return Se(A._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),mi(g,A)})).apply(this,arguments)}function I(){return(I=(0,_.Z)(function*(f,u){return $e(f,"POST","/v1/accounts:createAuthUri",Me(f,u))})).apply(this,arguments)}function T(){return T=(0,_.Z)(function*(f,u){const g={identifier:u,continueUri:hn()?Ut():"http://localhost"},{signinMethods:A}=yield function Oa(f,u){return I.apply(this,arguments)}((0,z.m9)(f),g);return A||[]}),T.apply(this,arguments)}function Y(){return Y=(0,_.Z)(function*(f,u){const c=(0,z.m9)(f),A={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};u&&si(c.auth,A,u);const{email:k}=yield function Zt(f,u){return gn.apply(this,arguments)}(c.auth,A);k!==f.email&&(yield f.reload())}),Y.apply(this,arguments)}function je(){return je=(0,_.Z)(function*(f,u,c){const g=(0,z.m9)(f),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:u};c&&si(g.auth,k,c);const{email:Q}=yield function Un(f,u){return Gr.apply(this,arguments)}(g.auth,k);Q!==f.email&&(yield f.reload())}),je.apply(this,arguments)}function vn(){return(vn=(0,_.Z)(function*(f,u){return $e(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function fn(){return fn=(0,_.Z)(function*(f,{displayName:u,photoURL:c}){if(void 0===u&&void 0===c)return;const g=(0,z.m9)(f),k={idToken:yield g.getIdToken(),displayName:u,photoUrl:c,returnSecureToken:!0},Q=yield Bt(g,function bt(f,u){return vn.apply(this,arguments)}(g.auth,k));g.displayName=Q.displayName||null,g.photoURL=Q.photoUrl||null;const pe=g.providerData.find(({providerId:ke})=>"password"===ke);pe&&(pe.displayName=g.displayName,pe.photoURL=g.photoURL),yield g._updateTokensIfNecessary(Q)}),fn.apply(this,arguments)}function bn(f,u,c){return Rn.apply(this,arguments)}function Rn(){return Rn=(0,_.Z)(function*(f,u,c){const{auth:g}=f,k={idToken:yield f.getIdToken(),returnSecureToken:!0};u&&(k.email=u),c&&(k.password=c);const Q=yield Bt(f,function Rr(f,u){return wi.apply(this,arguments)}(g,k));yield f._updateTokensIfNecessary(Q,!0)}),Rn.apply(this,arguments)}class dr{constructor(u,c,g={}){this.isNewUser=u,this.providerId=c,this.profile=g}}class ji extends dr{constructor(u,c,g,A){super(u,c,g),this.username=A}}class Pr extends dr{constructor(u,c){super(u,"facebook.com",c)}}class Hi extends ji{constructor(u,c){super(u,"github.com",c,"string"==typeof c?.login?c?.login:null)}}class hr extends dr{constructor(u,c){super(u,"google.com",c)}}class ai extends ji{constructor(u,c,g){super(u,"twitter.com",c,g)}}function ku(f){const{user:u,_tokenResponse:c}=f;return u.isAnonymous&&!c?{providerId:null,isNewUser:!1,profile:null}:function Ur(f){var u,c;if(!f)return null;const{providerId:g}=f,A=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},k=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!g&&f?.idToken){const Q=null===(c=null===(u=Kt(f.idToken))||void 0===u?void 0:u.firebase)||void 0===c?void 0:c.sign_in_provider;if(Q)return new dr(k,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!g)return null;switch(g){case"facebook.com":return new Pr(k,A);case"github.com":return new Hi(k,A);case"google.com":return new hr(k,A);case"twitter.com":return new ai(k,A,f.screenName||null);case"custom":case"anonymous":return new dr(k,null);default:return new dr(k,g,A)}}(c)}class _s{constructor(u,c,g){this.type=u,this.credential=c,this.user=g}static _fromIdtoken(u,c){return new _s("enroll",u,c)}static _fromMfaPendingCredential(u){return new _s("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var c,g;if(u?.multiFactorSession){if(null!==(c=u.multiFactorSession)&&void 0!==c&&c.pendingCredential)return _s._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(g=u.multiFactorSession)&&void 0!==g&&g.idToken)return _s._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Bu{constructor(u,c,g){this.session=u,this.hints=c,this.signInResolver=g}static _fromError(u,c){const g=In(u),A=c.customData._serverResponse,k=(A.mfaInfo||[]).map(pe=>ri._fromServerResponse(g,pe));Se(A.mfaPendingCredential,g,"internal-error");const Q=_s._fromMfaPendingCredential(A.mfaPendingCredential);return new Bu(Q,k,function(){var pe=(0,_.Z)(function*(ke){const ot=yield ke._process(g,Q);delete A.mfaInfo,delete A.mfaPendingCredential;const It=Object.assign(Object.assign({},A),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(c.operationType){case"signIn":const Et=yield ar._fromIdTokenResponse(g,c.operationType,It);return yield g._updateCurrentUser(Et.user),Et;case"reauthenticate":return Se(c.user,g,"internal-error"),ar._forOperation(c.user,c.operationType,It);default:O(g,"internal-error")}});return function(ke){return pe.apply(this,arguments)}}())}resolveSignIn(u){var c=this;return(0,_.Z)(function*(){return c.signInResolver(u)})()}}class Ri{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(c=>{c.mfaInfo&&(this.enrolledFactors=c.mfaInfo.map(g=>ri._fromServerResponse(u.auth,g)))})}static _fromUser(u){return new Ri(u)}getSession(){var u=this;return(0,_.Z)(function*(){return _s._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,c){var g=this;return(0,_.Z)(function*(){const A=u,k=yield g.getSession(),Q=yield Bt(g.user,A._process(g.user.auth,k,c));return yield g.user._updateTokensIfNecessary(Q),g.user.reload()})()}unenroll(u){var c=this;return(0,_.Z)(function*(){const g="string"==typeof u?u:u.uid,A=yield c.user.getIdToken();try{const k=yield Bt(c.user,function rc(f,u){return $e(f,"POST","/v2/accounts/mfaEnrollment:withdraw",Me(f,u))}(c.user.auth,{idToken:A,mfaEnrollmentId:g}));c.enrolledFactors=c.enrolledFactors.filter(({uid:Q})=>Q!==g),yield c.user._updateTokensIfNecessary(k),yield c.user.reload()}catch(k){throw k}})()}}const Hu=new WeakMap,Ko="__sak";class Zs{constructor(u,c){this.storageRetriever=u,this.type=c}_isAvailable(){try{return this.storage?(this.storage.setItem(Ko,"1"),this.storage.removeItem(Ko),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,c){return this.storage.setItem(u,JSON.stringify(c)),Promise.resolve()}_get(u){const c=this.storage.getItem(u);return Promise.resolve(c?JSON.parse(c):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const vo=(()=>{class f extends Zs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(c,g)=>this.onStorageEvent(c,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dl(){const f=(0,z.z$)();return se(f)||ne(f)}()&&function Tt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=pt(),this._shouldAllowMigration=!0}forAllChangedKeys(c){for(const g of Object.keys(this.listeners)){const A=this.storage.getItem(g),k=this.localCache[g];A!==k&&c(g,k,A)}}onStorageEvent(c,g=!1){if(!c.key)return void this.forAllChangedKeys((pe,ke,ot)=>{this.notifyListeners(pe,ot)});const A=c.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(A);if(c.newValue!==pe)null!==c.newValue?this.storage.setItem(A,c.newValue):this.storage.removeItem(A);else if(this.localCache[A]===c.newValue&&!g)return}const k=()=>{const pe=this.storage.getItem(A);!g&&this.localCache[A]===pe||this.notifyListeners(A,pe)},Q=this.storage.getItem(A);!function Ge(){return(0,z.w1)()&&10===document.documentMode}()||Q===c.newValue||c.newValue===c.oldValue?k():setTimeout(k,10)}notifyListeners(c,g){this.localCache[c]=g;const A=this.listeners[c];if(A)for(const k of Array.from(A))k(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((c,g,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:c,oldValue:g,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(c,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[c]||(this.listeners[c]=new Set,this.localCache[c]=this.storage.getItem(c)),this.listeners[c].add(g)}_removeListener(c,g){this.listeners[c]&&(this.listeners[c].delete(g),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(c,g){var A=()=>super._set,k=this;return(0,_.Z)(function*(){yield A().call(k,c,g),k.localCache[c]=JSON.stringify(g)})()}_get(c){var g=()=>super._get,A=this;return(0,_.Z)(function*(){const k=yield g().call(A,c);return A.localCache[c]=JSON.stringify(k),k})()}_remove(c){var g=()=>super._remove,A=this;return(0,_.Z)(function*(){yield g().call(A,c),delete A.localCache[c]})()}}return f.type="LOCAL",f})(),Jt=(()=>{class f extends Zs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(c,g){}_removeListener(c,g){}}return f.type="SESSION",f})();let yo=(()=>{class f{constructor(c){this.eventTarget=c,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(c){const g=this.receivers.find(k=>k.isListeningto(c));if(g)return g;const A=new f(c);return this.receivers.push(A),A}isListeningto(c){return this.eventTarget===c}handleEvent(c){var g=this;return(0,_.Z)(function*(){const A=c,{eventId:k,eventType:Q,data:pe}=A.data,ke=g.handlersMap[Q];if(!ke?.size)return;A.ports[0].postMessage({status:"ack",eventId:k,eventType:Q});const ot=Array.from(ke).map(function(){var Et=(0,_.Z)(function*(Jn){return Jn(A.origin,pe)});return function(Jn){return Et.apply(this,arguments)}}()),It=yield function Yo(f){return Promise.all(f.map(function(){var u=(0,_.Z)(function*(c){try{return{fulfilled:!0,value:yield c}}catch(g){return{fulfilled:!1,reason:g}}});return function(c){return u.apply(this,arguments)}}()))}(ot);A.ports[0].postMessage({status:"done",eventId:k,eventType:Q,response:It})})()}_subscribe(c,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[c]||(this.handlersMap[c]=new Set),this.handlersMap[c].add(g)}_unsubscribe(c,g){this.handlersMap[c]&&g&&this.handlersMap[c].delete(g),(!g||0===this.handlersMap[c].size)&&delete this.handlersMap[c],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function tr(f="",u=10){let c="";for(let g=0;g<u;g++)c+=Math.floor(10*Math.random());return f+c}class ic{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,c,g=50){var A=this;return(0,_.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let Q,pe;return new Promise((ke,ot)=>{const It=tr("",20);k.port1.start();const Et=setTimeout(()=>{ot(new Error("unsupported_event"))},g);pe={messageChannel:k,onMessage(Jn){const pr=Jn;if(pr.data.eventId===It)switch(pr.data.status){case"ack":clearTimeout(Et),Q=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),ke(pr.data.response);break;default:clearTimeout(Et),clearTimeout(Q),ot(new Error("invalid_response"))}}},A.handlers.add(pe),k.port1.addEventListener("message",pe.onMessage),A.target.postMessage({eventType:u,eventId:It,data:c},[k.port2])}).finally(()=>{pe&&A.removeMessageHandler(pe)})})()}}function Wn(){return window}function Eo(){return typeof Wn().WorkerGlobalScope<"u"&&"function"==typeof Wn().importScripts}function ka(){return(ka=(0,_.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Nr="firebaseLocalStorageDb",Io="firebaseLocalStorage",vs="fbase_key";class Br{constructor(u){this.request=u}toPromise(){return new Promise((u,c)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{c(this.request.error)})})}}function La(f,u){return f.transaction([Io],u?"readwrite":"readonly").objectStore(Io)}function Wu(){const f=indexedDB.open(Nr,1);return new Promise((u,c)=>{f.addEventListener("error",()=>{c(f.error)}),f.addEventListener("upgradeneeded",()=>{const g=f.result;try{g.createObjectStore(Io,{keyPath:vs})}catch(A){c(A)}}),f.addEventListener("success",(0,_.Z)(function*(){const g=f.result;g.objectStoreNames.contains(Io)?u(g):(g.close(),yield function bl(){const f=indexedDB.deleteDatabase(Nr);return new Br(f).toPromise()}(),u(yield Wu()))}))})}function Tl(f,u,c){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,_.Z)(function*(f,u,c){const g=La(f,!0).put({[vs]:u,value:c});return new Br(g).toPromise()})).apply(this,arguments)}function Fa(){return(Fa=(0,_.Z)(function*(f,u){const c=La(f,!1).get(u),g=yield new Br(c).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function v(f,u){const c=La(f,!0).delete(u);return new Br(c).toPromise()}const S=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var c=this;return(0,_.Z)(function*(){return c.db||(c.db=yield Wu()),c.db})()}_withRetries(c){var g=this;return(0,_.Z)(function*(){let A=0;for(;;)try{const k=yield g._openDb();return yield c(k)}catch(k){if(A++>3)throw k;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var c=this;return(0,_.Z)(function*(){return Eo()?c.initializeReceiver():c.initializeSender()})()}initializeReceiver(){var c=this;return(0,_.Z)(function*(){c.receiver=yo._getInstance(function $u(){return Eo()?self:null}()),c.receiver._subscribe("keyChanged",function(){var g=(0,_.Z)(function*(A,k){return{keyProcessed:(yield c._poll()).includes(k.key)}});return function(A,k){return g.apply(this,arguments)}}()),c.receiver._subscribe("ping",function(){var g=(0,_.Z)(function*(A,k){return["keyChanged"]});return function(A,k){return g.apply(this,arguments)}}())})()}initializeSender(){var c=this;return(0,_.Z)(function*(){var g,A;if(c.activeServiceWorker=yield function qo(){return ka.apply(this,arguments)}(),!c.activeServiceWorker)return;c.sender=new ic(c.activeServiceWorker);const k=yield c.sender._send("ping",{},800);k&&null!==(g=k[0])&&void 0!==g&&g.fulfilled&&null!==(A=k[0])&&void 0!==A&&A.value.includes("keyChanged")&&(c.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(c){var g=this;return(0,_.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function nd(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:c},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const c=yield Wu();return yield Tl(c,Ko,"1"),yield v(c,Ko),!0}catch{}return!1})()}_withPendingWrite(c){var g=this;return(0,_.Z)(function*(){g.pendingWrites++;try{yield c()}finally{g.pendingWrites--}})()}_set(c,g){var A=this;return(0,_.Z)(function*(){return A._withPendingWrite((0,_.Z)(function*(){return yield A._withRetries(k=>Tl(k,c,g)),A.localCache[c]=g,A.notifyServiceWorker(c)}))})()}_get(c){var g=this;return(0,_.Z)(function*(){const A=yield g._withRetries(k=>function zu(f,u){return Fa.apply(this,arguments)}(k,c));return g.localCache[c]=A,A})()}_remove(c){var g=this;return(0,_.Z)(function*(){return g._withPendingWrite((0,_.Z)(function*(){return yield g._withRetries(A=>v(A,c)),delete g.localCache[c],g.notifyServiceWorker(c)}))})()}_poll(){var c=this;return(0,_.Z)(function*(){const g=yield c._withRetries(Q=>{const pe=La(Q,!1).getAll();return new Br(pe).toPromise()});if(!g)return[];if(0!==c.pendingWrites)return[];const A=[],k=new Set;if(0!==g.length)for(const{fbase_key:Q,value:pe}of g)k.add(Q),JSON.stringify(c.localCache[Q])!==JSON.stringify(pe)&&(c.notifyListeners(Q,pe),A.push(Q));for(const Q of Object.keys(c.localCache))c.localCache[Q]&&!k.has(Q)&&(c.notifyListeners(Q,null),A.push(Q));return A})()}notifyListeners(c,g){this.localCache[c]=g;const A=this.listeners[c];if(A)for(const k of Array.from(A))k(g)}startPolling(){var c=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return c._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(c,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[c]||(this.listeners[c]=new Set,this._get(c)),this.listeners[c].add(g)}_removeListener(c,g){this.listeners[c]&&(this.listeners[c].delete(g),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),nt=1e12;class Ot{constructor(u){this.auth=u,this.counter=nt,this._widgets=new Map}render(u,c){const g=this.counter;return this._widgets.set(g,new on(u,this.auth.name,c||{})),this.counter++,g}reset(u){var c;const g=u||nt;null===(c=this._widgets.get(g))||void 0===c||c.delete(),this._widgets.delete(g)}getResponse(u){var c;return(null===(c=this._widgets.get(u||nt))||void 0===c?void 0:c.getResponse())||""}execute(u){var c=this;return(0,_.Z)(function*(){var g;return null===(g=c._widgets.get(u||nt))||void 0===g||g.execute(),""})()}}class on{constructor(u,c,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof u?document.getElementById(u):u;Se(A,"argument-error",{appName:c}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Cn(f){const u=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<f;g++)u.push(c.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":c}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,c)try{c()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yr=Wr("rcb"),Qo=new ee(3e4,6e4);class Gu{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Wn().grecaptcha)||void 0===u||!u.render)}load(u,c=""){return Se(function Co(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(c),u,"argument-error"),this.shouldResolveImmediately(c)&&it(Wn().grecaptcha)?Promise.resolve(Wn().grecaptcha):new Promise((g,A)=>{const k=Wn().setTimeout(()=>{A(fe(u,"network-request-failed"))},Qo.get());Wn()[yr]=()=>{Wn().clearTimeout(k),delete Wn()[yr];const pe=Wn().grecaptcha;if(!pe||!it(pe))return void A(fe(u,"internal-error"));const ke=pe.render;pe.render=(ot,It)=>{const Et=ke(ot,It);return this.counter++,Et},this.hostLanguage=c,g(pe)},Ps(`${function Ns(){return Gi.recaptchaV2Script}()}?${(0,z.xO)({onload:yr,render:"explicit",hl:c})}`).catch(()=>{clearTimeout(k),A(fe(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var c;return!(null===(c=Wn().grecaptcha)||void 0===c||!c.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zu{load(u){return(0,_.Z)(function*(){return new Ot(u)})()}clearedOneInstance(){}}const qs="recaptcha",Ua={theme:"light",type:"image"};class $i{constructor(u,c,g=Object.assign({},Ua)){this.parameters=g,this.type=qs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=In(u),this.isInvisible="invisible"===this.parameters.size,Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof c?document.getElementById(c):c;Se(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zu:new Gu,this.validateStartingState()}verify(){var u=this;return(0,_.Z)(function*(){u.assertNotDestroyed();const c=yield u.render(),g=u.getAssertedRecaptcha();return g.getResponse(c)||new Promise(k=>{const Q=pe=>{pe&&(u.tokenChangeListeners.delete(Q),k(pe))};u.tokenChangeListeners.add(Q),u.isInvisible&&g.execute(c)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return c=>{if(this.tokenChangeListeners.forEach(g=>g(c)),"function"==typeof u)u(c);else if("string"==typeof u){const g=Wn()[u];"function"==typeof g&&g(c)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,_.Z)(function*(){if(yield u.init(),!u.widgetId){let c=u.container;if(!u.isInvisible){const g=document.createElement("div");c.appendChild(g),c=g}u.widgetId=u.getAssertedRecaptcha().render(c,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,_.Z)(function*(){Se(hn()&&!Eo(),u.auth,"internal-error"),yield function dh(){let f=null;return new Promise(u=>{"complete"!==document.readyState?(f=()=>u(),window.addEventListener("load",f)):u()}).catch(u=>{throw f&&window.removeEventListener("load",f),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const c=yield function xn(f){return br.apply(this,arguments)}(u.auth);Se(c,u.auth,"internal-error"),u.parameters.sitekey=c})()}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xo{constructor(u,c){this.verificationId=u,this.onConfirmation=c}confirm(u){const c=ti._fromVerification(this.verificationId,u);return this.onConfirmation(c)}}function Ba(){return(Ba=(0,_.Z)(function*(f,u,c){if((0,W._isFirebaseServerApp)(f.app))return Promise.reject(Ne(f));const g=In(f),A=yield Wi(g,u,(0,z.m9)(c));return new Xo(A,k=>mi(g,k))})).apply(this,arguments)}function Ku(){return(Ku=(0,_.Z)(function*(f,u,c){const g=(0,z.m9)(f);yield Ra(!1,g,"phone");const A=yield Wi(g.auth,u,(0,z.m9)(c));return new Xo(A,k=>fo(g,k))})).apply(this,arguments)}function cn(){return(cn=(0,_.Z)(function*(f,u,c){const g=(0,z.m9)(f);if((0,W._isFirebaseServerApp)(g.auth.app))return Promise.reject(Ne(g.auth));const A=yield Wi(g.auth,u,(0,z.m9)(c));return new Xo(A,k=>ur(g,k))})).apply(this,arguments)}function Wi(f,u,c){return ys.apply(this,arguments)}function ys(){return ys=(0,_.Z)(function*(f,u,c){var g;const A=yield c.verify();try{let k;if(Se("string"==typeof A,f,"argument-error"),Se(c.type===qs,f,"argument-error"),k="string"==typeof u?{phoneNumber:u}:u,"session"in k){const Q=k.session;if("phoneNumber"in k)return Se("enroll"===Q.type,f,"internal-error"),(yield function ju(f,u){return $e(f,"POST","/v2/accounts/mfaEnrollment:start",Me(f,u))}(f,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{Se("signin"===Q.type,f,"internal-error");const pe=(null===(g=k.multiFactorHint)||void 0===g?void 0:g.uid)||k.multiFactorUid;return Se(pe,f,"missing-multi-factor-info"),(yield function F(f,u){return $e(f,"POST","/v2/accounts/mfaSignIn:start",Me(f,u))}(f,{mfaPendingCredential:Q.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield function Us(f,u){return Bs.apply(this,arguments)}(f,{phoneNumber:k.phoneNumber,recaptchaToken:A});return Q}}finally{c._reset()}}),ys.apply(this,arguments)}function es(){return(es=(0,_.Z)(function*(f,u){const c=(0,z.m9)(f);if((0,W._isFirebaseServerApp)(c.auth.app))return Promise.reject(Ne(c.auth));yield Ou(c,u)})).apply(this,arguments)}let Es=(()=>{class f{constructor(c){this.providerId=f.PROVIDER_ID,this.auth=In(c)}verifyPhoneNumber(c,g){return Wi(this.auth,c,(0,z.m9)(g))}static credential(c,g){return ti._fromVerification(c,g)}static credentialFromResult(c){return f.credentialFromTaggedObject(c)}static credentialFromError(c){return f.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{phoneNumber:g,temporaryProof:A}=c;return g&&A?ti._fromTokenResponse(g,A):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Kr(f,u){return u?mt(u):(Se(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class oc extends Di{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return wn(u,this._buildIdpRequest())}_linkToIdToken(u,c){return wn(u,this._buildIdpRequest(c))}_getReauthenticationResolver(u){return wn(u,this._buildIdpRequest())}_buildIdpRequest(u){const c={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(c.idToken=u),c}}function Ii(f){return Xi(f.auth,new oc(f),f.bypassAuthState)}function bf(f){const{auth:u,user:c}=f;return Se(c,u,"internal-error"),Ho(c,new oc(f),f.bypassAuthState)}function id(f){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,_.Z)(function*(f){const{auth:u,user:c}=f;return Se(c,u,"internal-error"),Ou(c,new oc(f),f.bypassAuthState)})).apply(this,arguments)}class ja{constructor(u,c,g,A,k=!1){this.auth=u,this.resolver=g,this.user=A,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(c)?c:[c]}execute(){var u=this;return new Promise(function(){var c=(0,_.Z)(function*(g,A){u.pendingPromise={resolve:g,reject:A};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(k){u.reject(k)}});return function(g,A){return c.apply(this,arguments)}}())}onAuthEvent(u){var c=this;return(0,_.Z)(function*(){const{urlResponse:g,sessionId:A,postBody:k,tenantId:Q,error:pe,type:ke}=u;if(pe)return void c.reject(pe);const ot={auth:c.auth,requestUri:g,sessionId:A,tenantId:Q||void 0,postBody:k||void 0,user:c.user,bypassAuthState:c.bypassAuthState};try{c.resolve(yield c.getIdpTask(ke)(ot))}catch(It){c.reject(It)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Ii;case"linkViaPopup":case"linkViaRedirect":return id;case"reauthViaPopup":case"reauthViaRedirect":return bf;default:O(this.auth,"internal-error")}}resolve(u){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sd=new ee(2e3,1e4);function Va(){return(Va=(0,_.Z)(function*(f,u,c){if((0,W._isFirebaseServerApp)(f.app))return Promise.reject(fe(f,"operation-not-supported-in-this-environment"));const g=In(f);Ze(f,u,xi);const A=Kr(g,c);return new lc(g,"signInViaPopup",u,A).executeNotNull()})).apply(this,arguments)}function ac(){return(ac=(0,_.Z)(function*(f,u,c){const g=(0,z.m9)(f);if((0,W._isFirebaseServerApp)(g.auth.app))return Promise.reject(fe(g.auth,"operation-not-supported-in-this-environment"));Ze(g.auth,u,xi);const A=Kr(g.auth,c);return new lc(g.auth,"reauthViaPopup",u,A,g).executeNotNull()})).apply(this,arguments)}function Al(){return(Al=(0,_.Z)(function*(f,u,c){const g=(0,z.m9)(f);Ze(g.auth,u,xi);const A=Kr(g.auth,c);return new lc(g.auth,"linkViaPopup",u,A,g).executeNotNull()})).apply(this,arguments)}let lc=(()=>{class f extends ja{constructor(c,g,A,k,Q){super(c,g,k,Q),this.provider=A,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var c=this;return(0,_.Z)(function*(){const g=yield c.execute();return Se(g,c.auth,"internal-error"),g})()}onExecution(){var c=this;return(0,_.Z)(function*(){Dt(1===c.filter.length,"Popup operations only handle one event");const g=tr();c.authWindow=yield c.resolver._openPopup(c.auth,c.provider,c.filter[0],g),c.authWindow.associatedEvent=g,c.resolver._originValidation(c.auth).catch(A=>{c.reject(A)}),c.resolver._isIframeWebStorageSupported(c.auth,A=>{A||c.reject(fe(c.auth,"web-storage-unsupported"))}),c.pollUserCancellation()})()}get eventId(){var c;return(null===(c=this.authWindow)||void 0===c?void 0:c.associatedEvent)||null}cancel(){this.reject(fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const c=()=>{var g,A;this.pollId=null!==(A=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(fe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(c,sd.get())};c()}}return f.currentPopupAction=null,f})();const Is="pendingRedirect",On=new Map;class Rl extends ja{constructor(u,c,g=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],c,void 0,g),this.eventId=null}execute(){var u=()=>super.execute,c=this;return(0,_.Z)(function*(){let g=On.get(c.auth._key());if(!g){try{const k=(yield function cc(f,u){return ea.apply(this,arguments)}(c.resolver,c.auth))?yield u().call(c):null;g=()=>Promise.resolve(k)}catch(A){g=()=>Promise.reject(A)}On.set(c.auth._key(),g)}return c.bypassAuthState||On.set(c.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(u){var c=()=>super.onAuthEvent,g=this;return(0,_.Z)(function*(){if("signInViaRedirect"===u.type)return c().call(g,u);if("unknown"!==u.type){if(u.eventId){const A=yield g.auth._redirectUserForId(u.eventId);if(A)return g.user=A,c().call(g,u);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function ea(){return(ea=(0,_.Z)(function*(f,u){const c=dc(u),g=qt(f);if(!(yield g._isAvailable()))return!1;const A="true"===(yield g._get(c));return yield g._remove(c),A})).apply(this,arguments)}function wo(f,u){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,_.Z)(function*(f,u){return qt(f)._set(dc(u),"true")})).apply(this,arguments)}function bo(f,u){On.set(f._key(),u)}function qt(f){return mt(f._redirectPersistence)}function dc(f){return yt(Is,f.config.apiKey,f.name)}function $a(f,u,c){return function hh(f,u,c){return jn.apply(this,arguments)}(f,u,c)}function jn(){return(jn=(0,_.Z)(function*(f,u,c){if((0,W._isFirebaseServerApp)(f.app))return Promise.reject(Ne(f));const g=In(f);Ze(f,u,xi),yield g._initializationPromise;const A=Kr(g,c);return yield wo(A,g),A._openRedirect(g,u,"signInViaRedirect")})).apply(this,arguments)}function Js(f,u,c){return function fh(f,u,c){return Wa.apply(this,arguments)}(f,u,c)}function Wa(){return(Wa=(0,_.Z)(function*(f,u,c){const g=(0,z.m9)(f);if(Ze(g.auth,u,xi),(0,W._isFirebaseServerApp)(g.auth.app))return Promise.reject(Ne(g.auth));yield g.auth._initializationPromise;const A=Kr(g.auth,c);yield wo(A,g.auth);const k=yield od(g);return A._openRedirect(g.auth,u,"reauthViaRedirect",k)})).apply(this,arguments)}function hc(f,u,c){return function Ds(f,u,c){return ta.apply(this,arguments)}(f,u,c)}function ta(){return(ta=(0,_.Z)(function*(f,u,c){const g=(0,z.m9)(f);Ze(g.auth,u,xi),yield g.auth._initializationPromise;const A=Kr(g.auth,c);yield Ra(!1,g,u.providerId),yield wo(A,g.auth);const k=yield od(g);return A._openRedirect(g.auth,u,"linkViaRedirect",k)})).apply(this,arguments)}function fc(){return(fc=(0,_.Z)(function*(f,u){return yield In(f)._initializationPromise,na(f,u,!1)})).apply(this,arguments)}function na(f,u){return eo.apply(this,arguments)}function eo(){return(eo=(0,_.Z)(function*(f,u,c=!1){if((0,W._isFirebaseServerApp)(f.app))return Promise.reject(Ne(f));const g=In(f),A=Kr(g,u),Q=yield new Rl(g,A,c).execute();return Q&&!c&&(delete Q.user._redirectEventId,yield g._persistUserIfCurrent(Q.user),yield g._setRedirectUser(null,u)),Q})).apply(this,arguments)}function od(f){return ra.apply(this,arguments)}function ra(){return(ra=(0,_.Z)(function*(f){const u=tr(`${f.uid}:::`);return f._redirectEventId=u,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),u})).apply(this,arguments)}class ia{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let c=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(u,g)&&(c=!0,this.sendToConsumer(u,g),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function ad(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return to(f);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,c||(this.queuedRedirectEvent=u,c=!0)),c}sendToConsumer(u,c){var g;if(u.error&&!to(u)){const A=(null===(g=u.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";c.onError(fe(this.auth,A))}else c.onAuthEvent(u)}isEventForConsumer(u,c){const g=null===c.eventId||!!u.eventId&&u.eventId===c.eventId;return c.filter.includes(u.type)&&g}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sa(u))}saveEventToCache(u){this.cachedEventUids.add(sa(u)),this.lastProcessedEventTime=Date.now()}}function sa(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(u=>u).join("-")}function to({type:f,error:u}){return"unknown"===f&&"auth/no-auth-event"===u?.code}function za(f){return To.apply(this,arguments)}function To(){return(To=(0,_.Z)(function*(f,u={}){return $e(f,"GET","/v1/projects",u)})).apply(this,arguments)}const gc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ud=/^https?/;function Yu(){return(Yu=(0,_.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:u}=yield za(f);for(const c of u)try{if(Tf(c))return}catch{}O(f,"unauthorized-domain")})).apply(this,arguments)}function Tf(f){const u=Ut(),{protocol:c,hostname:g}=new URL(u);if(f.startsWith("chrome-extension://")){const Q=new URL(f);return""===Q.hostname&&""===g?"chrome-extension:"===c&&f.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===c&&Q.hostname===g}if(!ud.test(c))return!1;if(gc.test(f))return g===f;const A=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(g)}const mc=new ee(3e4,6e4);function Ga(){const f=Wn().___jsl;if(f?.H)for(const u of Object.keys(f.H))if(f.H[u].r=f.H[u].r||[],f.H[u].L=f.H[u].L||[],f.H[u].r=[...f.H[u].L],f.CP)for(let c=0;c<f.CP.length;c++)f.CP[c]=null}let ts=null;const mh=new ee(5e3,15e3),Er="__/auth/iframe",_h="emulator/auth/iframe",qu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fr(f){const u=f.config;Se(u.authDomain,f,"auth-domain-config-required");const c=u.emulator?oe(u,_h):`https://${f.config.authDomain}/${Er}`,g={apiKey:u.apiKey,appName:f.name,v:W.SDK_VERSION},A=vh.get(f.config.apiHost);A&&(g.eid=A);const k=f._getFrameworks();return k.length&&(g.fw=k.join(",")),`${c}?${(0,z.xO)(g).slice(1)}`}function Za(){return Za=(0,_.Z)(function*(f){const u=yield function gh(f){return ts=ts||function ld(f){return new Promise((u,c)=>{var g,A,k;function Q(){Ga(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{Ga(),c(fe(f,"network-request-failed"))},timeout:mc.get()})}if(null!==(A=null===(g=Wn().gapi)||void 0===g?void 0:g.iframes)&&void 0!==A&&A.Iframe)u(gapi.iframes.getContext());else{if(null===(k=Wn().gapi)||void 0===k||!k.load){const pe=Wr("iframefcb");return Wn()[pe]=()=>{gapi.load?Q():c(fe(f,"network-request-failed"))},Ps(`${function Zi(){return Gi.gapiScript}()}?onload=${pe}`).catch(ke=>c(ke))}Q()}}).catch(u=>{throw ts=null,u})}(f),ts}(f),c=Wn().gapi;return Se(c,f,"internal-error"),u.open({where:document.body,url:fr(f),messageHandlersFilter:c.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qu,dontclear:!0},g=>new Promise(function(){var A=(0,_.Z)(function*(k,Q){yield g.restyle({setHideOnLeave:!1});const pe=fe(f,"network-request-failed"),ke=Wn().setTimeout(()=>{Q(pe)},mh.get());function ot(){Wn().clearTimeout(ke),k(g)}g.ping(ot).then(ot,()=>{Q(pe)})});return function(k,Q){return A.apply(this,arguments)}}()))}),Za.apply(this,arguments)}const Ka={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ro{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ws="__/auth/handler",Sf="emulator/auth/handler",cd=encodeURIComponent("fac");function Qa(f,u,c,g,A,k){return oa.apply(this,arguments)}function oa(){return(oa=(0,_.Z)(function*(f,u,c,g,A,k){Se(f.config.authDomain,f,"auth-domain-config-required"),Se(f.config.apiKey,f,"invalid-api-key");const Q={apiKey:f.config.apiKey,appName:f.name,authType:c,redirectUrl:g,v:W.SDK_VERSION,eventId:A};if(u instanceof xi){u.setDefaultLanguage(f.languageCode),Q.providerId=u.providerId||"",(0,z.xb)(u.getCustomParameters())||(Q.customParameters=JSON.stringify(u.getCustomParameters()));for(const[It,Et]of Object.entries(k||{}))Q[It]=Et}if(u instanceof Vn){const It=u.getScopes().filter(Et=>""!==Et);It.length>0&&(Q.scopes=It.join(","))}f.tenantId&&(Q.tid=f.tenantId);const pe=Q;for(const It of Object.keys(pe))void 0===pe[It]&&delete pe[It];const ke=yield f._getAppCheckToken(),ot=ke?`#${cd}=${encodeURIComponent(ke)}`:"";return`${function dd({config:f}){return f.emulator?oe(f,Sf):`https://${f.authDomain}/${ws}`}(f)}?${(0,z.xO)(pe).slice(1)}${ot}`})).apply(this,arguments)}const Xa="webStorageSupport",Ml=class aa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jt,this._completeRedirectFn=na,this._overrideRedirectResult=bo}_openPopup(u,c,g,A){var k=this;return(0,_.Z)(function*(){var Q;Dt(null===(Q=k.eventManagers[u._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const pe=yield Qa(u,c,g,Ut(),A);return function Mi(f,u,c,g=500,A=600){const k=Math.max((window.screen.availHeight-A)/2,0).toString(),Q=Math.max((window.screen.availWidth-g)/2,0).toString();let pe="";const ke=Object.assign(Object.assign({},Ka),{width:g.toString(),height:A.toString(),top:k,left:Q}),ot=(0,z.z$)().toLowerCase();c&&(pe=He(ot)?"_blank":c),J(ot)&&(u=u||"http://localhost",ke.scrollbars="yes");const It=Object.entries(ke).reduce((Jn,[pr,ul])=>`${Jn}${pr}=${ul},`,"");if(function Pe(f=(0,z.z$)()){var u;return ne(f)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(ot)&&"_self"!==pe)return function _c(f,u){const c=document.createElement("a");c.href=f,c.target=u;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),c.dispatchEvent(g)}(u||"",pe),new Ro(null);const Et=window.open(u||"",pe,It);Se(Et,f,"popup-blocked");try{Et.focus()}catch{}return new Ro(Et)}(u,pe,tr())})()}_openRedirect(u,c,g,A){var k=this;return(0,_.Z)(function*(){return yield k._originValidation(u),function Ji(f){Wn().location.href=f}(yield Qa(u,c,g,Ut(),A)),new Promise(()=>{})})()}_initialize(u){const c=u._key();if(this.eventManagers[c]){const{manager:A,promise:k}=this.eventManagers[c];return A?Promise.resolve(A):(Dt(k,"If manager is not set, promise should be"),k)}const g=this.initAndGetManager(u);return this.eventManagers[c]={promise:g},g.catch(()=>{delete this.eventManagers[c]}),g}initAndGetManager(u){var c=this;return(0,_.Z)(function*(){const g=yield function So(f){return Za.apply(this,arguments)}(u),A=new ia(u);return g.register("authEvent",k=>(Se(k?.authEvent,u,"invalid-auth-event"),{status:A.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),c.eventManagers[u._key()]={manager:A},c.iframes[u._key()]=g,A})()}_isIframeWebStorageSupported(u,c){this.iframes[u._key()].send(Xa,{type:Xa},A=>{var k;const Q=null===(k=A?.[0])||void 0===k?void 0:k[Xa];void 0!==Q&&c(!!Q),O(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const c=u._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function ph(f){return Yu.apply(this,arguments)}(u)),this.originValidationPromises[c]}get _shouldInitProactively(){return pt()||se()||ne()}};class vc{constructor(u){this.factorId=u}_process(u,c,g){switch(c.type){case"enroll":return this._finalizeEnroll(u,c.credential,g);case"signin":return this._finalizeSignIn(u,c.credential);default:return at("unexpected MultiFactorSessionType")}}}class Mn extends vc{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Mn(u)}_finalizeEnroll(u,c,g){return function xa(f,u){return $e(f,"POST","/v2/accounts/mfaEnrollment:finalize",Me(f,u))}(u,{idToken:c,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,c){return function K(f,u){return $e(f,"POST","/v2/accounts/mfaSignIn:finalize",Me(f,u))}(u,{mfaPendingCredential:c,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ns=(()=>{class f{constructor(){}static assertion(c){return Mn._fromCredential(c)}}return f.FACTOR_ID="phone",f})();var no="@firebase/auth";class rs{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var c=this;return(0,_.Z)(function*(){return c.assertAuthConfigured(),yield c.auth._initializationPromise,c.auth.currentUser?{accessToken:yield c.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const c=this.auth.onIdTokenChanged(g=>{u(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,c),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const c=this.internalListeners.get(u);c&&(this.internalListeners.delete(u),c(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function la(){return window}(0,z.Pz)("authIdTokenMaxAge"),function Ms(f){Gi=f}({loadJS:f=>new Promise((u,c)=>{const g=document.createElement("script");g.setAttribute("src",f),g.onload=u,g.onerror=A=>{const k=fe("internal-error");k.customData=A,c(k)},g.type="text/javascript",g.charset="UTF-8",function fd(){var f,u;return null!==(u=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==u?u:document}().appendChild(g)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function tu(f){(0,W._registerComponent)(new ae.wA("auth",(u,{options:c})=>{const g=u.getProvider("app").getImmediate(),A=u.getProvider("heartbeat"),k=u.getProvider("app-check-internal"),{apiKey:Q,authDomain:pe}=g.options;Se(Q&&!Q.includes(":"),"invalid-api-key",{appName:g.name});const ke={apiKey:Q,authDomain:pe,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pt(f)},ot=new Xr(g,A,k,ke);return function Au(f,u){const c=u?.persistence||[],g=(Array.isArray(c)?c:[c]).map(mt);u?.errorMap&&f._updateErrorMap(u.errorMap),f._initializeWithPersistence(g,u?.popupRedirectResolver)}(ot,c),ot},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,c,g)=>{u.getProvider("auth-internal").initialize()})),(0,W._registerComponent)(new ae.wA("auth-internal",u=>{const c=In(u.getProvider("auth").getImmediate());return new rs(c)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,W.registerVersion)(no,"1.7.2",function Pl(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(f)),(0,W.registerVersion)(no,"1.7.2","esm2017")}("Browser");function Nl(){return Nl=(0,_.Z)(function*(f,u,c){var g;const{BuildInfo:A}=la();Dt(u.sessionId,"AuthEvent did not contain a session ID");const k=yield function md(f){return el.apply(this,arguments)}(u.sessionId),Q={};return ne()?Q.ibi=A.packageName:rt()?Q.apn=A.packageName:O(f,"operation-not-supported-in-this-environment"),A.displayName&&(Q.appDisplayName=A.displayName),Q.sessionId=k,Qa(f,c,u.type,void 0,null!==(g=u.eventId)&&void 0!==g?g:void 0,Q)}),Nl.apply(this,arguments)}function ru(){return(ru=(0,_.Z)(function*(f){const{BuildInfo:u}=la(),c={};ne()?c.iosBundleId=u.packageName:rt()?c.androidPackageName=u.packageName:O(f,"operation-not-supported-in-this-environment"),yield za(f,c)})).apply(this,arguments)}function Ol(){return(Ol=(0,_.Z)(function*(f,u,c){const{cordova:g}=la();let A=()=>{};try{yield new Promise((k,Q)=>{let pe=null;function ke(){var Et;k();const Jn=null===(Et=g.plugins.browsertab)||void 0===Et?void 0:Et.close;"function"==typeof Jn&&Jn(),"function"==typeof c?.close&&c.close()}function ot(){pe||(pe=window.setTimeout(()=>{Q(fe(f,"redirect-cancelled-by-user"))},2e3))}function It(){"visible"===document?.visibilityState&&ot()}u.addPassiveListener(ke),document.addEventListener("resume",ot,!1),rt()&&document.addEventListener("visibilitychange",It,!1),A=()=>{u.removePassiveListener(ke),document.removeEventListener("resume",ot,!1),document.removeEventListener("visibilitychange",It,!1),pe&&window.clearTimeout(pe)}})}finally{A()}})).apply(this,arguments)}function el(){return(el=(0,_.Z)(function*(f){const u=function yc(f){if(Dt(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const u=new ArrayBuffer(f.length),c=new Uint8Array(u);for(let g=0;g<f.length;g++)c[g]=f.charCodeAt(g);return c}(f),c=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(c)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class iu extends ia{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(c=>c(u)),super.onEvent(u)}initialized(){var u=this;return(0,_.Z)(function*(){yield u.initPromise})()}}function tl(f){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,_.Z)(function*(f){const u=yield Ic()._get(xl(f));return u&&(yield Ic()._remove(xl(f))),u})).apply(this,arguments)}function Nf(){const f=[];for(let c=0;c<20;c++){const g=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(g))}return f.join("")}function Ic(){return mt(vo)}function xl(f){return yt("authEvent",f.config.apiKey,f.name)}function ca(f){if(!f?.includes("?"))return{};const[u,...c]=f.split("?");return(0,z.zd)(c.join("?"))}const nl=class Cc{constructor(){this._redirectPersistence=Jt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=na,this._overrideRedirectResult=bo}_initialize(u){var c=this;return(0,_.Z)(function*(){const g=u._key();let A=c.eventManagers.get(g);return A||(A=new iu(u),c.eventManagers.set(g,A),c.attachCallbackListeners(u,A)),A})()}_openPopup(u){O(u,"operation-not-supported-in-this-environment")}_openRedirect(u,c,g,A){var k=this;return(0,_.Z)(function*(){!function Rf(f){var u,c,g,A,k,Q,pe,ke,ot,It;const Et=la();Se("function"==typeof(null===(u=Et?.universalLinks)||void 0===u?void 0:u.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(typeof(null===(c=Et?.BuildInfo)||void 0===c?void 0:c.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se("function"==typeof(null===(k=null===(A=null===(g=Et?.cordova)||void 0===g?void 0:g.plugins)||void 0===A?void 0:A.browsertab)||void 0===k?void 0:k.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(ke=null===(pe=null===(Q=Et?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===ke?void 0:ke.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(It=null===(ot=Et?.cordova)||void 0===ot?void 0:ot.InAppBrowser)||void 0===It?void 0:It.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const Q=yield k._initialize(u);yield Q.initialized(),Q.resetRedirect(),function Xs(){On.clear()}(),yield k._originValidation(u);const pe=function Mf(f,u,c=null){return{type:u,eventId:c,urlResponse:null,sessionId:Nf(),postBody:null,tenantId:f.tenantId,error:fe(f,"no-auth-event")}}(u,g,A);yield function vd(f,u){return Ic()._set(xl(f),u)}(u,pe);const ke=yield function Eh(f,u,c){return Nl.apply(this,arguments)}(u,pe,c),ot=yield function gd(f){const{cordova:u}=la();return new Promise(c=>{u.plugins.browsertab.isAvailable(g=>{let A=null;g?u.plugins.browsertab.openUrl(f):A=u.InAppBrowser.open(f,function de(f=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),c(A)})})}(ke);return function Ih(f,u,c){return Ol.apply(this,arguments)}(u,Q,ot)})()}_isIframeWebStorageSupported(u,c){throw new Error("Method not implemented.")}_originValidation(u){const c=u._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function pd(f){return ru.apply(this,arguments)}(u)),this.originValidationPromises[c]}attachCallbackListeners(u,c){const{universalLinks:g,handleOpenURL:A,BuildInfo:k}=la(),Q=setTimeout((0,_.Z)(function*(){yield tl(u),c.onEvent(io())}),500),pe=function(){var It=(0,_.Z)(function*(Et){clearTimeout(Q);const Jn=yield tl(u);let pr=null;Jn&&Et?.url&&(pr=function Pf(f,u){var c,g;const A=function kl(f){const u=ca(f),c=u.link?decodeURIComponent(u.link):void 0,g=ca(c).link,A=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return ca(A).link||A||g||c||f}(u);if(A.includes("/__/auth/callback")){const k=ca(A),Q=k.firebaseError?function Ch(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(k.firebaseError)):null,pe=null===(g=null===(c=Q?.code)||void 0===c?void 0:c.split("auth/"))||void 0===g?void 0:g[1],ke=pe?fe(pe):null;return ke?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:A,postBody:null}}return null}(Jn,Et.url)),c.onEvent(pr||io())});return function(Jn){return It.apply(this,arguments)}}();typeof g<"u"&&"function"==typeof g.subscribe&&g.subscribe(null,pe);const ke=A,ot=`${k.packageName.toLowerCase()}://`;la().handleOpenURL=function(){var It=(0,_.Z)(function*(Et){if(Et.toLowerCase().startsWith(ot)&&pe({url:Et}),"function"==typeof ke)try{ke(Et)}catch(Jn){console.error(Jn)}});return function(Et){return It.apply(this,arguments)}}()}};function io(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:fe("no-auth-event")}}function Mo(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function Id(f=(0,z.z$)()){return!("file:"!==Mo()&&"ionic:"!==Mo()&&"capacitor:"!==Mo()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function bc(){try{const f=self.localStorage,u=tr();if(f)return f.setItem(u,"1"),f.removeItem(u),!function bh(f=(0,z.z$)()){return function Cd(){return(0,z.w1)()&&11===document?.documentMode}()||function wc(f=(0,z.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,z.hl)()}catch{return Tc()&&(0,z.hl)()}return!1}function Tc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function il(){return(function Dh(){return"http:"===Mo()||"https:"===Mo()}()||(0,z.ru)()||Id())&&!function wh(){return(0,z.b$)()||(0,z.UG)()}()&&bc()&&!Tc()}function Sc(){return Id()&&typeof document<"u"}function jr(){return(jr=(0,_.Z)(function*(){return!!Sc()&&new Promise(f=>{const u=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),f(!0)})})})).apply(this,arguments)}const ui={LOCAL:"local",NONE:"none",SESSION:"session"},da=Se,Hr="persistence";function au(f){return ol.apply(this,arguments)}function ol(){return(ol=(0,_.Z)(function*(f){yield f._initializationPromise;const u=Ac(),c=yt(Hr,f.config.apiKey,f.name);u&&u.setItem(c,f._getPersistence())})).apply(this,arguments)}function Ac(){var f;try{return(null===(f=function ou(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const Dd=Se;class Yr{constructor(){this.browserResolver=mt(Ml),this.cordovaResolver=mt(nl),this.underlyingResolver=null,this._redirectPersistence=Jt,this._completeRedirectFn=na,this._overrideRedirectResult=bo}_initialize(u){var c=this;return(0,_.Z)(function*(){return yield c.selectUnderlyingResolver(),c.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,c,g,A){var k=this;return(0,_.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(u,c,g,A)})()}_openRedirect(u,c,g,A){var k=this;return(0,_.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(u,c,g,A)})()}_isIframeWebStorageSupported(u,c){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,c)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return Sc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,_.Z)(function*(){if(u.underlyingResolver)return;const c=yield function Th(){return jr.apply(this,arguments)}();u.underlyingResolver=c?u.cordovaResolver:u.browserResolver})()}}function Rc(f){return f.unwrap()}function Po(f){return ha(f)}function ha(f){const{_tokenResponse:u}=f instanceof z.ZR?f.customData:f;if(!u)return null;if(!(f instanceof z.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return Es.credentialFromResult(f);const c=u.providerId;if(!c||c===ye.PASSWORD)return null;let g;switch(c){case ye.GOOGLE:g=Zr;break;case ye.FACEBOOK:g=js;break;case ye.GITHUB:g=Bo;break;case ye.TWITTER:g=Pu;break;default:const{oauthIdToken:A,oauthAccessToken:k,oauthTokenSecret:Q,pendingToken:pe,nonce:ke}=u;return k||Q||A||pe?pe?c.startsWith("saml.")?ki._create(c,pe):er._fromParams({providerId:c,signInMethod:c,pendingToken:pe,idToken:A,accessToken:k}):new rn(c).credential({idToken:A,accessToken:k,rawNonce:ke}):null}return f instanceof z.ZR?g.credentialFromError(f):g.credentialFromResult(f)}function qr(f,u){return u.catch(c=>{throw c instanceof z.ZR&&function Ll(f,u){var c;const g=null===(c=u.customData)||void 0===c?void 0:c._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new wd(f,function tc(f,u){var c;const g=(0,z.m9)(f),A=u;return Se(u.customData.operationType,g,"argument-error"),Se(null===(c=A.customData._serverResponse)||void 0===c?void 0:c.mfaPendingCredential,g,"argument-error"),Bu._fromError(g,A)}(f,u));else if(g){const A=ha(u),k=u;A&&(k.credential=A,k.tenantId=g.tenantId||void 0,k.email=g.email||void 0,k.phoneNumber=g.phoneNumber||void 0)}}(f,c),c}).then(c=>{const A=c.user;return{operationType:c.operationType,credential:Po(c),additionalUserInfo:ku(c),user:is.getOrCreate(A)}})}function Pc(f,u){return fa.apply(this,arguments)}function fa(){return(fa=(0,_.Z)(function*(f,u){const c=yield u;return{verificationId:c.verificationId,confirm:g=>qr(f,c.confirm(g))}})).apply(this,arguments)}class wd{constructor(u,c){this.resolver=c,this.auth=function Mc(f){return f.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return qr(Rc(this.auth),this.resolver.resolveSignIn(u))}}class is{constructor(u){this._delegate=u,this.multiFactor=function td(f){const u=(0,z.m9)(f);return Hu.has(u)||Hu.set(u,Ri._fromUser(u)),Hu.get(u)}(u)}static getOrCreate(u){return is.USER_MAP.has(u)||is.USER_MAP.set(u,new is(u)),is.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var c=this;return(0,_.Z)(function*(){return qr(c.auth,fo(c._delegate,u))})()}linkWithPhoneNumber(u,c){var g=this;return(0,_.Z)(function*(){return Pc(g.auth,function sc(f,u,c){return Ku.apply(this,arguments)}(g._delegate,u,c))})()}linkWithPopup(u){var c=this;return(0,_.Z)(function*(){return qr(c.auth,function uc(f,u,c){return Al.apply(this,arguments)}(c._delegate,u,Yr))})()}linkWithRedirect(u){var c=this;return(0,_.Z)(function*(){return yield au(In(c.auth)),hc(c._delegate,u,Yr)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var c=this;return(0,_.Z)(function*(){return qr(c.auth,ur(c._delegate,u))})()}reauthenticateWithPhoneNumber(u,c){return Pc(this.auth,function Do(f,u,c){return cn.apply(this,arguments)}(this._delegate,u,c))}reauthenticateWithPopup(u){return qr(this.auth,function Qs(f,u,c){return ac.apply(this,arguments)}(this._delegate,u,Yr))}reauthenticateWithRedirect(u){var c=this;return(0,_.Z)(function*(){return yield au(In(c.auth)),Js(c._delegate,u,Yr)})()}sendEmailVerification(u){return function M(f,u){return Y.apply(this,arguments)}(this._delegate,u)}unlink(u){var c=this;return(0,_.Z)(function*(){return yield function Jl(f,u){return Nu.apply(this,arguments)}(c._delegate,u),c})()}updateEmail(u){return function Wt(f,u){const c=(0,z.m9)(f);return(0,W._isFirebaseServerApp)(c.auth.app)?Promise.reject(Ne(c.auth)):bn(c,u,null)}(this._delegate,u)}updatePassword(u){return function $n(f,u){return bn((0,z.m9)(f),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function rd(f,u){return es.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function ln(f,u){return fn.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,c){return function Te(f,u,c){return je.apply(this,arguments)}(this._delegate,u,c)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}is.USER_MAP=new WeakMap;const uu=Se;let bs=(()=>{class f{constructor(c,g){if(this.app=c,g.isInitialized())return this._delegate=g.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=c.options;uu(A,"invalid-api-key",{appName:c.name}),uu(A,"invalid-api-key",{appName:c.name});const k=typeof window<"u"?Yr:void 0;this._delegate=g.initialize({options:{persistence:lu(A,c.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?is.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(c){this._delegate.languageCode=c}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(c){this._delegate.tenantId=c}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(c,g){!function zr(f,u,c){const g=In(f);Se(g._canInitEmulator,g,"emulator-config-failed"),Se(/^https?:\/\//.test(u),g,"invalid-emulator-scheme");const A=!!c?.disableWarnings,k=lo(u),{host:Q,port:pe}=function Ru(f){const u=lo(f),c=/(\/\/)?([^?#/]+)/.exec(f.substr(u.length));if(!c)return{host:"",port:null};const g=c[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(g);if(A){const k=A[1];return{host:k,port:Lo(g.substr(k.length+1))}}{const[k,Q]=g.split(":");return{host:k,port:Lo(Q)}}}(u);g.config.emulator={url:`${k}//${Q}${null===pe?"":`:${pe}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:Q,port:pe,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function ba(){function f(){const u=document.createElement("p"),c=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",c.position="fixed",c.width="100%",c.backgroundColor="#ffffff",c.border=".1em solid #000000",c.color="#b50000",c.bottom="0px",c.left="0px",c.margin="0px",c.zIndex="10000",c.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,c,g)}applyActionCode(c){return function Hn(f,u){return Fi.apply(this,arguments)}(this._delegate,c)}checkActionCode(c){return $o(this._delegate,c)}confirmPasswordReset(c,g){return function mo(f,u,c){return vi.apply(this,arguments)}(this._delegate,c,g)}createUserWithEmailAndPassword(c,g){var A=this;return(0,_.Z)(function*(){return qr(A._delegate,function Wo(f,u,c){return xu.apply(this,arguments)}(A._delegate,c,g))})()}fetchProvidersForEmail(c){return this.fetchSignInMethodsForEmail(c)}fetchSignInMethodsForEmail(c){return function x(f,u){return T.apply(this,arguments)}(this._delegate,c)}isSignInWithEmailLink(c){return function Na(f,u){const c=gi.parseLink(u);return"EMAIL_SIGNIN"===c?.operation}(0,c)}getRedirectResult(){var c=this;return(0,_.Z)(function*(){uu(il(),c._delegate,"operation-not-supported-in-this-environment");const g=yield function wr(f,u){return fc.apply(this,arguments)}(c._delegate,Yr);return g?qr(c._delegate,Promise.resolve(g)):{credential:null,user:null}})()}addFrameworkForLogging(c){!function Dc(f,u){In(f)._logFramework(u)}(this._delegate,c)}onAuthStateChanged(c,g,A){const{next:k,error:Q,complete:pe}=pa(c,g,A);return this._delegate.onAuthStateChanged(k,Q,pe)}onIdTokenChanged(c,g,A){const{next:k,error:Q,complete:pe}=pa(c,g,A);return this._delegate.onIdTokenChanged(k,Q,pe)}sendSignInLinkToEmail(c,g){return function Ei(f,u,c){return Bi.apply(this,arguments)}(this._delegate,c,g)}sendPasswordResetEmail(c,g){return function $s(f,u,c){return oi.apply(this,arguments)}(this._delegate,c,g||void 0)}setPersistence(c){var g=this;return(0,_.Z)(function*(){let A;switch(function sl(f,u){da(Object.values(ui).includes(u),f,"invalid-persistence-type"),(0,z.b$)()?da(u!==ui.SESSION,f,"unsupported-persistence-type"):(0,z.UG)()?da(u===ui.NONE,f,"unsupported-persistence-type"):Tc()?da(u===ui.NONE||u===ui.LOCAL&&(0,z.hl)(),f,"unsupported-persistence-type"):da(u===ui.NONE||bc(),f,"unsupported-persistence-type")}(g._delegate,c),c){case ui.SESSION:A=Jt;break;case ui.LOCAL:A=(yield mt(S)._isAvailable())?S:vo;break;case ui.NONE:A=wt;break;default:return O("argument-error",{appName:g._delegate.name})}return g._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(c){return this.signInWithCredential(c)}signInAnonymously(){return qr(this._delegate,function Ql(f){return An.apply(this,arguments)}(this._delegate))}signInWithCredential(c){return qr(this._delegate,mi(this._delegate,c))}signInWithCustomToken(c){return qr(this._delegate,function Pa(f,u){return po.apply(this,arguments)}(this._delegate,c))}signInWithEmailAndPassword(c,g){return qr(this._delegate,function Ui(f,u,c){return(0,W._isFirebaseServerApp)(f.app)?Promise.reject(Ne(f)):mi((0,z.m9)(f),Kn.credential(u,c)).catch(function(){var g=(0,_.Z)(function*(A){throw"auth/password-does-not-meet-requirements"===A.code&&Vs(f),A});return function(A){return g.apply(this,arguments)}}())}(this._delegate,c,g))}signInWithEmailLink(c,g){return qr(this._delegate,function _o(f,u,c){return ms.apply(this,arguments)}(this._delegate,c,g))}signInWithPhoneNumber(c,g){return Pc(this._delegate,function Sl(f,u,c){return Ba.apply(this,arguments)}(this._delegate,c,g))}signInWithPopup(c){var g=this;return(0,_.Z)(function*(){return uu(il(),g._delegate,"operation-not-supported-in-this-environment"),qr(g._delegate,function Ha(f,u,c){return Va.apply(this,arguments)}(g._delegate,c,Yr))})()}signInWithRedirect(c){var g=this;return(0,_.Z)(function*(){return uu(il(),g._delegate,"operation-not-supported-in-this-environment"),yield au(g._delegate),$a(g._delegate,c,Yr)})()}updateCurrentUser(c){return this._delegate.updateCurrentUser(c)}verifyPasswordResetCode(c){return function Mr(f,u){return Ws.apply(this,arguments)}(this._delegate,c)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=ui,f})();function pa(f,u,c){let g=f;"function"!=typeof f&&({next:g,error:u,complete:c}=f);const A=g;return{next:Q=>A(Q&&is.getOrCreate(Q)),error:u,complete:c}}function lu(f,u){const c=function Sh(f,u){const c=Ac();if(!c)return[];const g=yt(Hr,f,u);switch(c.getItem(g)){case ui.NONE:return[wt];case ui.LOCAL:return[S,Jt];case ui.SESSION:return[Jt];default:return[]}}(f,u);if(typeof self<"u"&&!c.includes(S)&&c.push(S),typeof window<"u")for(const g of[vo,Jt])c.includes(g)||c.push(g);return c.includes(wt)||c.push(wt),c}class cu{constructor(){this.providerId="phone",this._delegate=new Es(Rc(X.Z.auth()))}static credential(u,c){return Es.credential(u,c)}verifyPhoneNumber(u,c){return this._delegate.verifyPhoneNumber(u,c)}unwrap(){return this._delegate}}cu.PHONE_SIGN_IN_METHOD=Es.PHONE_SIGN_IN_METHOD,cu.PROVIDER_ID=Es.PROVIDER_ID;const bd=Se;class du{constructor(u,c,g=X.Z.app()){var A;bd(null===(A=g.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:g.name}),this._delegate=new $i(g.auth(),u,c),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ah(f){f.INTERNAL.registerComponent(new ae.wA("auth-compat",u=>{const c=u.getProvider("app-compat").getImmediate(),g=u.getProvider("auth");return new bs(c,g)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Kn,FacebookAuthProvider:js,GithubAuthProvider:Bo,GoogleAuthProvider:Zr,OAuthProvider:rn,SAMLAuthProvider:ps,PhoneAuthProvider:cu,PhoneMultiFactorGenerator:ns,RecaptchaVerifier:du,TwitterAuthProvider:Pu,Auth:bs,AuthCredential:Di,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.5.7")}(X.Z)},5861:(dt,De,P)=>{function _(W,z,re,ie,ae,Ie,ye){try{var Z=W[Ie](ye),q=Z.value}catch(le){return void re(le)}Z.done?z(q):Promise.resolve(q).then(ie,ae)}function X(W){return function(){var z=this,re=arguments;return new Promise(function(ie,ae){var Ie=W.apply(z,re);function ye(q){_(Ie,ie,ae,ye,Z,"next",q)}function Z(q){_(Ie,ie,ae,ye,Z,"throw",q)}ye(void 0)})}}P.d(De,{Z:()=>X})},7582:(dt,De,P)=>{function z(ee,oe){var Ee={};for(var me in ee)Object.prototype.hasOwnProperty.call(ee,me)&&oe.indexOf(me)<0&&(Ee[me]=ee[me]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(me=Object.getOwnPropertySymbols(ee);Re<me.length;Re++)oe.indexOf(me[Re])<0&&Object.prototype.propertyIsEnumerable.call(ee,me[Re])&&(Ee[me[Re]]=ee[me[Re]])}return Ee}function le(ee,oe,Ee,me){return new(Ee||(Ee=Promise))(function(Me,$e){function qe($t){try{Rt(me.next($t))}catch(Mt){$e(Mt)}}function Dn($t){try{Rt(me.throw($t))}catch(Mt){$e(Mt)}}function Rt($t){$t.done?Me($t.value):function Re(Me){return Me instanceof Ee?Me:new Ee(function($e){$e(Me)})}($t.value).then(qe,Dn)}Rt((me=me.apply(ee,oe||[])).next())})}function he(ee){return this instanceof he?(this.v=ee,this):new he(ee)}function O(ee,oe,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,me=Ee.apply(ee,oe||[]),Me=[];return Re={},$e("next"),$e("throw"),$e("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function $e(un){me[un]&&(Re[un]=function(mn){return new Promise(function(sn,Yt){Me.push([un,mn,sn,Yt])>1||qe(un,mn)})})}function qe(un,mn){try{!function Dn(un){un.value instanceof he?Promise.resolve(un.value.v).then(Rt,$t):Mt(Me[0][2],un)}(me[un](mn))}catch(sn){Mt(Me[0][3],sn)}}function Rt(un){qe("next",un)}function $t(un){qe("throw",un)}function Mt(un,mn){un(mn),Me.shift(),Me.length&&qe(Me[0][0],Me[0][1])}}function Le(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,oe=ee[Symbol.asyncIterator];return oe?oe.call(ee):(ee=function Be(ee){var oe="function"==typeof Symbol&&Symbol.iterator,Ee=oe&&ee[oe],me=0;if(Ee)return Ee.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&me>=ee.length&&(ee=void 0),{value:ee&&ee[me++],done:!ee}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),Ee={},me("next"),me("throw"),me("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function me(Me){Ee[Me]=ee[Me]&&function($e){return new Promise(function(qe,Dn){!function Re(Me,$e,qe,Dn){Promise.resolve(Dn).then(function(Rt){Me({value:Rt,done:qe})},$e)}(qe,Dn,($e=ee[Me]($e)).done,$e.value)})}}}P.d(De,{FC:()=>O,KL:()=>Le,_T:()=>z,mG:()=>le,qq:()=>he}),"function"==typeof SuppressedError&&SuppressedError}},dt=>{dt(dt.s=351)}]);