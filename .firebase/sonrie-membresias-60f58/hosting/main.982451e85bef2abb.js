"use strict";(self.webpackChunksonrie_membresias=self.webpackChunksonrie_membresias||[]).push([[179],{9058:(st,Ce,O)=>{O.d(Ce,{BH:()=>ue,DV:()=>Qe,Dv:()=>is,G6:()=>it,GJ:()=>Qt,L:()=>me,LL:()=>Se,Pz:()=>N,Sg:()=>Ne,UG:()=>at,UI:()=>Hn,US:()=>te,Wj:()=>jt,Wl:()=>Dt,Yr:()=>tt,ZB:()=>oe,ZR:()=>Te,aH:()=>de,b$:()=>yt,cI:()=>In,dS:()=>At,eu:()=>ne,g5:()=>z,gK:()=>dt,gQ:()=>It,h$:()=>Ie,hl:()=>J,hu:()=>X,jU:()=>we,lb:()=>wr,m9:()=>br,ne:()=>un,p$:()=>q,pd:()=>Ot,r3:()=>$t,ru:()=>rt,tV:()=>Z,uI:()=>He,ug:()=>Pn,vZ:()=>bn,w1:()=>on,w9:()=>dn,xO:()=>Dn,xb:()=>zt,z$:()=>Re,zd:()=>vt});const v={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},X=function(ee,j){if(!ee)throw z(j)},z=function(ee){return new Error("Firebase Database ("+v.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ee)},G=function(ee){const j=[];let V=0;for(let B=0;B<ee.length;B++){let H=ee.charCodeAt(B);H<128?j[V++]=H:H<2048?(j[V++]=H>>6|192,j[V++]=63&H|128):55296==(64512&H)&&B+1<ee.length&&56320==(64512&ee.charCodeAt(B+1))?(H=65536+((1023&H)<<10)+(1023&ee.charCodeAt(++B)),j[V++]=H>>18|240,j[V++]=H>>12&63|128,j[V++]=H>>6&63|128,j[V++]=63&H|128):(j[V++]=H>>12|224,j[V++]=H>>6&63|128,j[V++]=63&H|128)}return j},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ee,j){if(!Array.isArray(ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let H=0;H<ee.length;H+=3){const se=ee[H],Me=H+1<ee.length,Je=Me?ee[H+1]:0,ut=H+2<ee.length,St=ut?ee[H+2]:0;let tn=(15&Je)<<2|St>>6,fr=63&St;ut||(fr=64,Me||(tn=64)),B.push(V[se>>2],V[(3&se)<<4|Je>>4],V[tn],V[fr])}return B.join("")},encodeString(ee,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(ee):this.encodeByteArray(G(ee),j)},decodeString(ee,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(ee):function(ee){const j=[];let V=0,B=0;for(;V<ee.length;){const H=ee[V++];if(H<128)j[B++]=String.fromCharCode(H);else if(H>191&&H<224){const se=ee[V++];j[B++]=String.fromCharCode((31&H)<<6|63&se)}else if(H>239&&H<365){const ut=((7&H)<<18|(63&ee[V++])<<12|(63&ee[V++])<<6|63&ee[V++])-65536;j[B++]=String.fromCharCode(55296+(ut>>10)),j[B++]=String.fromCharCode(56320+(1023&ut))}else{const se=ee[V++],Me=ee[V++];j[B++]=String.fromCharCode((15&H)<<12|(63&se)<<6|63&Me)}}return j.join("")}(this.decodeStringToByteArray(ee,j))},decodeStringToByteArray(ee,j){this.init_();const V=j?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let H=0;H<ee.length;){const se=V[ee.charAt(H++)],Je=H<ee.length?V[ee.charAt(H)]:0;++H;const St=H<ee.length?V[ee.charAt(H)]:64;++H;const ht=H<ee.length?V[ee.charAt(H)]:64;if(++H,null==se||null==Je||null==St||null==ht)throw new ae;B.push(se<<2|Je>>4),64!==St&&(B.push(Je<<4&240|St>>2),64!==ht&&B.push(St<<6&192|ht))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ee=0;ee<this.ENCODED_VALS.length;ee++)this.byteToCharMap_[ee]=this.ENCODED_VALS.charAt(ee),this.charToByteMap_[this.byteToCharMap_[ee]]=ee,this.byteToCharMapWebSafe_[ee]=this.ENCODED_VALS_WEBSAFE.charAt(ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ee]]=ee,ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ee)]=ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ee)]=ee)}}};class ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(ee){const j=G(ee);return te.encodeByteArray(j,!0)},me=function(ee){return Ie(ee).replace(/\./g,"")},Z=function(ee){try{return te.decodeString(ee,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function q(ee){return oe(void 0,ee)}function oe(ee,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===ee&&(ee={});break;case Array:ee=[];break;default:return j}for(const V in j)!j.hasOwnProperty(V)||!Fe(V)||(ee[V]=oe(ee[V],j[V]));return ee}function Fe(ee){return"__proto__"!==ee}const Ue=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ee=process.env.__FIREBASE_DEFAULTS__;return ee?JSON.parse(ee):void 0})()||(()=>{if(typeof document>"u")return;let ee;try{ee=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=ee&&Z(ee[1]);return j&&JSON.parse(j)})()}catch(ee){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ee}`)}},de=()=>{var ee;return null===(ee=Ue())||void 0===ee?void 0:ee.config},N=ee=>{var j;return null===(j=Ue())||void 0===j?void 0:j[`_${ee}`]};class ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,V)=>{this.resolve=j,this.reject=V})}wrapCallback(j){return(V,B)=>{V?this.reject(V):this.resolve(B),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(V):j(V,B))}}}function Ne(ee,j){if(ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=j||"demo-project",H=ee.iat||0,se=ee.sub||ee.user_id;if(!se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Me=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:H,exp:H+3600,auth_time:H,sub:se,user_id:se,firebase:{sign_in_provider:"custom",identities:{}}},ee);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(Me)),""].join(".")}function Re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function He(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function at(){var ee;const j=null===(ee=Ue())||void 0===ee?void 0:ee.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function we(){return"object"==typeof self&&self.self===self}function rt(){const ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ee&&void 0!==ee.id}function yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function on(){const ee=Re();return ee.indexOf("MSIE ")>=0||ee.indexOf("Trident/")>=0}function tt(){return!0===v.NODE_CLIENT||!0===v.NODE_ADMIN}function it(){return!at()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J(){try{return"object"==typeof indexedDB}catch{return!1}}function ne(){return new Promise((ee,j)=>{try{let V=!0;const B="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open(B);H.onsuccess=()=>{H.result.close(),V||self.indexedDB.deleteDatabase(B),ee(!0)},H.onupgradeneeded=()=>{V=!1},H.onerror=()=>{var se;j((null===(se=H.error)||void 0===se?void 0:se.message)||"")}}catch(V){j(V)}})}class Te extends Error{constructor(j,V,B){super(V),this.code=j,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,Te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Se.prototype.create)}}class Se{constructor(j,V,B){this.service=j,this.serviceName=V,this.errors=B}create(j,...V){const B=V[0]||{},H=`${this.service}/${j}`,se=this.errors[j],Me=se?function Ve(ee,j){return ee.replace(ze,(V,B)=>{const H=j[B];return null!=H?String(H):`<${B}?>`})}(se,B):"Error";return new Te(H,`${this.serviceName}: ${Me} (${H}).`,B)}}const ze=/\{\$([^}]+)}/g;function In(ee){return JSON.parse(ee)}function Dt(ee){return JSON.stringify(ee)}const Lt=function(ee){let j={},V={},B={},H="";try{const se=ee.split(".");j=In(Z(se[0])||""),V=In(Z(se[1])||""),H=se[2],B=V.d||{},delete V.d}catch{}return{header:j,claims:V,data:B,signature:H}},dn=function(ee){const V=Lt(ee).claims;return!!V&&"object"==typeof V&&V.hasOwnProperty("iat")},Qt=function(ee){const j=Lt(ee).claims;return"object"==typeof j&&!0===j.admin};function $t(ee,j){return Object.prototype.hasOwnProperty.call(ee,j)}function Qe(ee,j){if(Object.prototype.hasOwnProperty.call(ee,j))return ee[j]}function zt(ee){for(const j in ee)if(Object.prototype.hasOwnProperty.call(ee,j))return!1;return!0}function Hn(ee,j,V){const B={};for(const H in ee)Object.prototype.hasOwnProperty.call(ee,H)&&(B[H]=j.call(V,ee[H],H,ee));return B}function bn(ee,j){if(ee===j)return!0;const V=Object.keys(ee),B=Object.keys(j);for(const H of V){if(!B.includes(H))return!1;const se=ee[H],Me=j[H];if(Dr(se)&&Dr(Me)){if(!bn(se,Me))return!1}else if(se!==Me)return!1}for(const H of B)if(!V.includes(H))return!1;return!0}function Dr(ee){return null!==ee&&"object"==typeof ee}function Dn(ee){const j=[];for(const[V,B]of Object.entries(ee))Array.isArray(B)?B.forEach(H=>{j.push(encodeURIComponent(V)+"="+encodeURIComponent(H))}):j.push(encodeURIComponent(V)+"="+encodeURIComponent(B));return j.length?"&"+j.join("&"):""}function vt(ee){const j={};return ee.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[H,se]=B.split("=");j[decodeURIComponent(H)]=decodeURIComponent(se)}}),j}function Ot(ee){const j=ee.indexOf("?");if(!j)return"";const V=ee.indexOf("#",j);return ee.substring(j,V>0?V:void 0)}class It{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(j,V){V||(V=0);const B=this.W_;if("string"==typeof j)for(let ht=0;ht<16;ht++)B[ht]=j.charCodeAt(V)<<24|j.charCodeAt(V+1)<<16|j.charCodeAt(V+2)<<8|j.charCodeAt(V+3),V+=4;else for(let ht=0;ht<16;ht++)B[ht]=j[V]<<24|j[V+1]<<16|j[V+2]<<8|j[V+3],V+=4;for(let ht=16;ht<80;ht++){const tn=B[ht-3]^B[ht-8]^B[ht-14]^B[ht-16];B[ht]=4294967295&(tn<<1|tn>>>31)}let St,mt,H=this.chain_[0],se=this.chain_[1],Me=this.chain_[2],Je=this.chain_[3],ut=this.chain_[4];for(let ht=0;ht<80;ht++){ht<40?ht<20?(St=Je^se&(Me^Je),mt=1518500249):(St=se^Me^Je,mt=1859775393):ht<60?(St=se&Me|Je&(se|Me),mt=2400959708):(St=se^Me^Je,mt=3395469782);const tn=(H<<5|H>>>27)+St+ut+mt+B[ht]&4294967295;ut=Je,Je=Me,Me=4294967295&(se<<30|se>>>2),se=H,H=tn}this.chain_[0]=this.chain_[0]+H&4294967295,this.chain_[1]=this.chain_[1]+se&4294967295,this.chain_[2]=this.chain_[2]+Me&4294967295,this.chain_[3]=this.chain_[3]+Je&4294967295,this.chain_[4]=this.chain_[4]+ut&4294967295}update(j,V){if(null==j)return;void 0===V&&(V=j.length);const B=V-this.blockSize;let H=0;const se=this.buf_;let Me=this.inbuf_;for(;H<V;){if(0===Me)for(;H<=B;)this.compress_(j,H),H+=this.blockSize;if("string"==typeof j){for(;H<V;)if(se[Me]=j.charCodeAt(H),++Me,++H,Me===this.blockSize){this.compress_(se),Me=0;break}}else for(;H<V;)if(se[Me]=j[H],++Me,++H,Me===this.blockSize){this.compress_(se),Me=0;break}}this.inbuf_=Me,this.total_+=V}digest(){const j=[];let V=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let H=this.blockSize-1;H>=56;H--)this.buf_[H]=255&V,V/=256;this.compress_(this.buf_);let B=0;for(let H=0;H<5;H++)for(let se=24;se>=0;se-=8)j[B]=this.chain_[H]>>se&255,++B;return j}}function un(ee,j){const V=new Cn(ee,j);return V.subscribe.bind(V)}class Cn{constructor(j,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{j(this)}).catch(B=>{this.error(B)})}next(j){this.forEachObserver(V=>{V.next(j)})}error(j){this.forEachObserver(V=>{V.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,V,B){let H;if(void 0===j&&void 0===V&&void 0===B)throw new Error("Missing Observer.");H=function Gt(ee,j){if("object"!=typeof ee||null===ee)return!1;for(const V of j)if(V in ee&&"function"==typeof ee[V])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:V,complete:B},void 0===H.next&&(H.next=On),void 0===H.error&&(H.error=On),void 0===H.complete&&(H.complete=On);const se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch{}}),this.observers.push(H),se}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,j)}sendOne(j,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{V(this.observers[j])}catch(B){typeof console<"u"&&console.error&&console.error(B)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function On(){}const is=function(ee,j,V,B){let H;if(B<j?H="at least "+j:B>V&&(H=0===V?"none":"no more than "+V),H)throw new Error(ee+" failed: Was called with "+B+(1===B?" argument.":" arguments.")+" Expects "+H+".")};function dt(ee,j){return`${ee} failed: ${j} argument `}function jt(ee,j,V,B){if((!B||V)&&"function"!=typeof V)throw new Error(dt(ee,j)+"must be a valid function.")}function wr(ee,j,V,B){if((!B||V)&&("object"!=typeof V||null===V))throw new Error(dt(ee,j)+"must be a valid context object.")}const At=function(ee){const j=[];let V=0;for(let B=0;B<ee.length;B++){let H=ee.charCodeAt(B);if(H>=55296&&H<=56319){const se=H-55296;B++,X(B<ee.length,"Surrogate pair missing trail surrogate."),H=65536+(se<<10)+(ee.charCodeAt(B)-56320)}H<128?j[V++]=H:H<2048?(j[V++]=H>>6|192,j[V++]=63&H|128):H<65536?(j[V++]=H>>12|224,j[V++]=H>>6&63|128,j[V++]=63&H|128):(j[V++]=H>>18|240,j[V++]=H>>12&63|128,j[V++]=H>>6&63|128,j[V++]=63&H|128)}return j},Pn=function(ee){let j=0;for(let V=0;V<ee.length;V++){const B=ee.charCodeAt(V);B<128?j++:B<2048?j+=2:B>=55296&&B<=56319?(j+=4,V++):j+=3}return j};function br(ee){return ee&&ee._delegate?ee._delegate:ee}},2482:(st,Ce,O)=>{var v=O(6593),X=O(9692),z=O(5879);const G=[{path:"",loadChildren:()=>O.e(901).then(O.bind(O,9901)).then(o=>o.MainModule)}];let ie=(()=>{class o{static#e=this.\u0275fac=function(l){return new(l||o)};static#t=this.\u0275mod=z.oAB({type:o});static#n=this.\u0275inj=z.cJS({imports:[X.Bz.forRoot(G),X.Bz]})}return o})(),te=(()=>{class o{constructor(){this.title="sonrie-membresias"}static#e=this.\u0275fac=function(l){return new(l||o)};static#t=this.\u0275cmp=z.Xpm({type:o,selectors:[["app-root"]],decls:1,vars:0,template:function(l,h){1&l&&z._UZ(0,"router-outlet")},dependencies:[X.lC]})}return o})();var ae=O(7213),Ie=O(8326),me=O(5592),Z=O(2096),q=O(2459),oe=O(6321),Fe=O(9360),Oe=O(8251),Le=O(7398),Ke=O(4664),Ue=O(7217),gt=O(3106),ct=O(5861),de=O(534),N=O(9058),ue=O(4537);const Ne="firebasestorage.googleapis.com",Re="storageBucket";class rt extends N.ZR{constructor(r,s,l=0){super(Pt(r),`Firebase Storage: ${s} (${Pt(r)})`),this.status_=l,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rt.prototype)}get status(){return this.status_}set status(r){this.status_=r}_codeEquals(r){return Pt(r)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(r){this.customData.serverResponse=r,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var yt=function(o){return o.UNKNOWN="unknown",o.OBJECT_NOT_FOUND="object-not-found",o.BUCKET_NOT_FOUND="bucket-not-found",o.PROJECT_NOT_FOUND="project-not-found",o.QUOTA_EXCEEDED="quota-exceeded",o.UNAUTHENTICATED="unauthenticated",o.UNAUTHORIZED="unauthorized",o.UNAUTHORIZED_APP="unauthorized-app",o.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",o.INVALID_CHECKSUM="invalid-checksum",o.CANCELED="canceled",o.INVALID_EVENT_NAME="invalid-event-name",o.INVALID_URL="invalid-url",o.INVALID_DEFAULT_BUCKET="invalid-default-bucket",o.NO_DEFAULT_BUCKET="no-default-bucket",o.CANNOT_SLICE_BLOB="cannot-slice-blob",o.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",o.NO_DOWNLOAD_URL="no-download-url",o.INVALID_ARGUMENT="invalid-argument",o.INVALID_ARGUMENT_COUNT="invalid-argument-count",o.APP_DELETED="app-deleted",o.INVALID_ROOT_OPERATION="invalid-root-operation",o.INVALID_FORMAT="invalid-format",o.INTERNAL_ERROR="internal-error",o.UNSUPPORTED_ENVIRONMENT="unsupported-environment",o}(yt||{});function Pt(o){return"storage/"+o}function on(){return new rt(yt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function _e(){return new rt(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fe(){return new rt(yt.CANCELED,"User canceled the upload/download.")}function ze(){return new rt(yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ct(o){return new rt(yt.INVALID_ARGUMENT,o)}function an(){return new rt(yt.APP_DELETED,"The Firebase app was deleted.")}function dn(o){return new rt(yt.INVALID_ROOT_OPERATION,"The operation '"+o+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qt(o,r){return new rt(yt.INVALID_FORMAT,"String does not match format '"+o+"': "+r)}function $t(o){throw new rt(yt.INTERNAL_ERROR,"Internal error: "+o)}class Qe{constructor(r,s){this.bucket=r,this.path_=s}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const r=encodeURIComponent;return"/b/"+r(this.bucket)+"/o/"+r(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(r,s){let l;try{l=Qe.makeFromUrl(r,s)}catch{return new Qe(r,"")}if(""===l.path)return l;throw function Se(o){return new rt(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+o+"'.")}(r)}static makeFromUrl(r,s){let l=null;const h="([A-Za-z0-9.\\-_]+)",P=new RegExp("^gs://"+h+"(/(.*))?$","i");function $(Or){Or.path_=decodeURIComponent(Or.path)}const Ee=s.replace(/[.]/g,"\\."),Fn=[{regex:P,indices:{bucket:1,path:3},postModify:function E(Or){"/"===Or.path.charAt(Or.path.length-1)&&(Or.path_=Or.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ee}/v[A-Za-z0-9_]+/b/${h}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:$},{regex:new RegExp(`^https?://${s===Ne?"(?:storage.googleapis.com|storage.cloud.google.com)":s}/${h}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:$}];for(let Or=0;Or<Fn.length;Or++){const Kl=Fn[Or],fl=Kl.regex.exec(r);if(fl){let pl=fl[Kl.indices.path];pl||(pl=""),l=new Qe(fl[Kl.indices.bucket],pl),Kl.postModify(l);break}}if(null==l)throw function Te(o){return new rt(yt.INVALID_URL,"Invalid URL '"+o+"'.")}(r);return l}}class zt{constructor(r){this.promise_=Promise.reject(r)}getPromise(){return this.promise_}cancel(r=!1){}}function vt(o){return"string"==typeof o||o instanceof String}function Ot(o){return It()&&o instanceof Blob}function It(){return typeof Blob<"u"}function un(o,r,s,l){if(l<r)throw Ct(`Invalid value for '${o}'. Expected ${r} or greater.`);if(l>s)throw Ct(`Invalid value for '${o}'. Expected ${s} or less.`)}function Cn(o,r,s){let l=r;return null==s&&(l=`https://${r}`),`${s}://${l}/v0${o}`}function Yn(o){const r=encodeURIComponent;let s="?";for(const l in o)o.hasOwnProperty(l)&&(s=s+(r(l)+"=")+r(o[l])+"&");return s=s.slice(0,-1),s}var Gt=function(o){return o[o.NO_ERROR=0]="NO_ERROR",o[o.NETWORK_ERROR=1]="NETWORK_ERROR",o[o.ABORT=2]="ABORT",o}(Gt||{});function On(o,r){const s=o>=500&&o<600,h=-1!==[408,429].indexOf(o),E=-1!==r.indexOf(o);return s||h||E}class is{constructor(r,s,l,h,E,b,P,U,$,pe,Ee,be=!0){this.url_=r,this.method_=s,this.headers_=l,this.body_=h,this.successCodes_=E,this.additionalRetryCodes_=b,this.callback_=P,this.errorCallback_=U,this.timeout_=$,this.progressCallback_=pe,this.connectionFactory_=Ee,this.retry=be,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ge,nt)=>{this.resolve_=Ge,this.reject_=nt,this.start_()})}start_(){const s=(l,h)=>{const E=this.resolve_,b=this.reject_,P=h.connection;if(h.wasSuccessCode)try{const U=this.callback_(P,P.getResponse());!function Dr(o){return void 0!==o}(U)?E():E(U)}catch(U){b(U)}else if(null!==P){const U=on();U.serverResponse=P.getErrorText(),b(this.errorCallback_?this.errorCallback_(P,U):U)}else b(h.canceled?this.appDelete_?an():fe():_e())};this.canceled_?s(0,new dt(!1,null,!0)):this.backoffId_=function Hn(o,r,s){let l=1,h=null,E=null,b=!1,P=0;function U(){return 2===P}let $=!1;function pe(...Jt){$||($=!0,r.apply(null,Jt))}function Ee(Jt){h=setTimeout(()=>{h=null,o(Ge,U())},Jt)}function be(){E&&clearTimeout(E)}function Ge(Jt,...Kn){if($)return void be();if(Jt)return be(),void pe.call(null,Jt,...Kn);if(U()||b)return be(),void pe.call(null,Jt,...Kn);let Fn;l<64&&(l*=2),1===P?(P=2,Fn=0):Fn=1e3*(l+Math.random()),Ee(Fn)}let nt=!1;function Bt(Jt){nt||(nt=!0,be(),!$&&(null!==h?(Jt||(P=2),clearTimeout(h),Ee(0)):Jt||(P=1)))}return Ee(0),E=setTimeout(()=>{b=!0,Bt(!0)},s),Bt}((l,h)=>{if(h)return void l(!1,new dt(!1,null,!0));const E=this.connectionFactory_();this.pendingConnection_=E;const b=P=>{null!==this.progressCallback_&&this.progressCallback_(P.loaded,P.lengthComputable?P.total:-1)};null!==this.progressCallback_&&E.addUploadProgressListener(b),E.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&E.removeUploadProgressListener(b),this.pendingConnection_=null;const P=E.getErrorCode()===Gt.NO_ERROR,U=E.getStatus();if(!P||On(U,this.additionalRetryCodes_)&&this.retry){const pe=E.getErrorCode()===Gt.ABORT;return void l(!1,new dt(!1,null,pe))}const $=-1!==this.successCodes_.indexOf(U);l(!0,new dt($,E))})},s,this.timeout_)}getPromise(){return this.promise_}cancel(r){this.canceled_=!0,this.appDelete_=r||!1,null!==this.backoffId_&&function bn(o){o(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class dt{constructor(r,s,l){this.wasSuccessCode=r,this.connection=s,this.canceled=!!l}}function xr(...o){const r=function $r(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==r){const s=new r;for(let l=0;l<o.length;l++)s.append(o[l]);return s.getBlob()}if(It())return new Blob(o);throw new rt(yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Tn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bi{constructor(r,s){this.data=r,this.contentType=s||null}}function or(o,r){switch(o){case Tn.RAW:return new bi(hr(r));case Tn.BASE64:case Tn.BASE64URL:return new bi(ee(o,r));case Tn.DATA_URL:return new bi(function V(o){const r=new j(o);return r.base64?ee(Tn.BASE64,r.rest):function br(o){let r;try{r=decodeURIComponent(o)}catch{throw Qt(Tn.DATA_URL,"Malformed data URL.")}return hr(r)}(r.rest)}(r),function B(o){return new j(o).contentType}(r))}throw on()}function hr(o){const r=[];for(let s=0;s<o.length;s++){let l=o.charCodeAt(s);l<=127?r.push(l):l<=2047?r.push(192|l>>6,128|63&l):55296==(64512&l)?s<o.length-1&&56320==(64512&o.charCodeAt(s+1))?(l=65536|(1023&l)<<10|1023&o.charCodeAt(++s),r.push(240|l>>18,128|l>>12&63,128|l>>6&63,128|63&l)):r.push(239,191,189):56320==(64512&l)?r.push(239,191,189):r.push(224|l>>12,128|l>>6&63,128|63&l)}return new Uint8Array(r)}function ee(o,r){switch(o){case Tn.BASE64:{const h=-1!==r.indexOf("-"),E=-1!==r.indexOf("_");if(h||E)throw Qt(o,"Invalid character '"+(h?"-":"_")+"' found: is it base64url encoded?");break}case Tn.BASE64URL:{const h=-1!==r.indexOf("+"),E=-1!==r.indexOf("/");if(h||E)throw Qt(o,"Invalid character '"+(h?"+":"/")+"' found: is it base64 encoded?");r=r.replace(/-/g,"+").replace(/_/g,"/");break}}let s;try{s=function sr(o){if(typeof atob>"u")throw function Lt(o){return new rt(yt.UNSUPPORTED_ENVIRONMENT,`${o} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(o)}(r)}catch(h){throw h.message.includes("polyfill")?h:Qt(o,"Invalid character found")}const l=new Uint8Array(s.length);for(let h=0;h<s.length;h++)l[h]=s.charCodeAt(h);return l}class j{constructor(r){this.base64=!1,this.contentType=null;const s=r.match(/^data:([^,]+)?,/);if(null===s)throw Qt(Tn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const l=s[1]||null;null!=l&&(this.base64=function H(o,r){return o.length>=r.length&&o.substring(o.length-r.length)===r}(l,";base64"),this.contentType=this.base64?l.substring(0,l.length-7):l),this.rest=r.substring(r.indexOf(",")+1)}}class se{constructor(r,s){let l=0,h="";Ot(r)?(this.data_=r,l=r.size,h=r.type):r instanceof ArrayBuffer?(s?this.data_=new Uint8Array(r):(this.data_=new Uint8Array(r.byteLength),this.data_.set(new Uint8Array(r))),l=this.data_.length):r instanceof Uint8Array&&(s?this.data_=r:(this.data_=new Uint8Array(r.length),this.data_.set(r)),l=r.length),this.size_=l,this.type_=h}size(){return this.size_}type(){return this.type_}slice(r,s){if(Ot(this.data_)){const h=function ri(o,r,s){return o.webkitSlice?o.webkitSlice(r,s):o.mozSlice?o.mozSlice(r,s):o.slice?o.slice(r,s):null}(this.data_,r,s);return null===h?null:new se(h)}{const l=new Uint8Array(this.data_.buffer,r,s-r);return new se(l,!0)}}static getBlob(...r){if(It()){const s=r.map(l=>l instanceof se?l.data_:l);return new se(xr.apply(null,s))}{const s=r.map(b=>vt(b)?or(Tn.RAW,b).data:b.data_);let l=0;s.forEach(b=>{l+=b.byteLength});const h=new Uint8Array(l);let E=0;return s.forEach(b=>{for(let P=0;P<b.length;P++)h[E++]=b[P]}),new se(h,!0)}}uploadData(){return this.data_}}function Me(o){let r;try{r=JSON.parse(o)}catch{return null}return function Dn(o){return"object"==typeof o&&!Array.isArray(o)}(r)?r:null}function St(o){const r=o.lastIndexOf("/",o.length-2);return-1===r?o:o.slice(r+1)}function mt(o,r){return r}class ht{constructor(r,s,l,h){this.server=r,this.local=s||r,this.writable=!!l,this.xform=h||mt}}let tn=null;function ii(){if(tn)return tn;const o=[];o.push(new ht("bucket")),o.push(new ht("generation")),o.push(new ht("metageneration")),o.push(new ht("name","fullPath",!0));const s=new ht("name");s.xform=function r(E,b){return function fr(o){return!vt(o)||o.length<2?o:St(o)}(b)},o.push(s);const h=new ht("size");return h.xform=function l(E,b){return void 0!==b?Number(b):b},o.push(h),o.push(new ht("timeCreated")),o.push(new ht("updated")),o.push(new ht("md5Hash",null,!0)),o.push(new ht("cacheControl",null,!0)),o.push(new ht("contentDisposition",null,!0)),o.push(new ht("contentEncoding",null,!0)),o.push(new ht("contentLanguage",null,!0)),o.push(new ht("contentType",null,!0)),o.push(new ht("metadata","customMetadata",!0)),tn=o,tn}function ar(o,r,s){const l=Me(r);return null===l?null:function As(o,r,s){const l={type:"file"},h=s.length;for(let E=0;E<h;E++){const b=s[E];l[b.local]=b.xform(l,r[b.server])}return function Ss(o,r){Object.defineProperty(o,"ref",{get:function s(){const E=new Qe(o.bucket,o.fullPath);return r._makeStorageReference(E)}})}(l,o),l}(o,l,s)}function _r(o,r){const s={},l=r.length;for(let h=0;h<l;h++){const E=r[h];E.writable&&(s[E.server]=o[E.local])}return JSON.stringify(s)}const $n="prefixes",le="items";class Ye{constructor(r,s,l,h){this.url=r,this.method=s,this.handler=l,this.timeout=h,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function _t(o){if(!o)throw on()}function Et(o,r){return function s(l,h){const E=ar(o,h,r);return _t(null!==E),E}}function ln(o){return function r(s,l){let h;return h=401===s.getStatus()?s.getErrorText().includes("Firebase App Check token is invalid")?function J(){return new rt(yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function it(){return new rt(yt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===s.getStatus()?function tt(o){return new rt(yt.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(o.bucket):403===s.getStatus()?function ne(o){return new rt(yt.UNAUTHORIZED,"User does not have permission to access '"+o+"'.")}(o.path):l,h.status=s.getStatus(),h.serverResponse=l.serverResponse,h}}function Sn(o){const r=ln(o);return function s(l,h){let E=r(l,h);return 404===l.getStatus()&&(E=function cn(o){return new rt(yt.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")}(o.path)),E.serverResponse=h.serverResponse,E}}function si(o,r,s){const h=Cn(r.fullServerUrl(),o.host,o._protocol),b=o.maxOperationRetryTime,P=new Ye(h,"GET",Et(o,s),b);return P.errorHandler=Sn(r),P}function ao(o,r,s,l,h){const E={};E.prefix=r.isRoot?"":r.path+"/",s&&s.length>0&&(E.delimiter=s),l&&(E.pageToken=l),h&&(E.maxResults=h);const P=Cn(r.bucketOnlyServerUrl(),o.host,o._protocol),$=o.maxOperationRetryTime,pe=new Ye(P,"GET",function Rt(o,r){return function s(l,h){const E=function Pe(o,r,s){const l=Me(s);return null===l?null:function he(o,r,s){const l={prefixes:[],items:[],nextPageToken:s.nextPageToken};if(s[$n])for(const h of s[$n]){const E=h.replace(/\/$/,""),b=o._makeStorageReference(new Qe(r,E));l.prefixes.push(b)}if(s[le])for(const h of s[le]){const E=o._makeStorageReference(new Qe(r,h.name));l.items.push(E)}return l}(o,r,l)}(o,r,h);return _t(null!==E),E}}(o,r.bucket),$);return pe.urlParams=E,pe.errorHandler=ln(r),pe}function Rs(o,r,s){const l=Object.assign({},s);return l.fullPath=o.path,l.size=r.size(),l.contentType||(l.contentType=function uo(o,r){return o&&o.contentType||r&&r.type()||"application/octet-stream"}(null,r)),l}class Jn{constructor(r,s,l,h){this.current=r,this.total=s,this.finalized=!!l,this.metadata=h||null}}function ji(o,r){let s=null;try{s=o.getResponseHeader("X-Goog-Upload-Status")}catch{_t(!1)}return _t(!!s&&-1!==(r||["active"]).indexOf(s)),s}const us={STATE_CHANGED:"state_changed"},Wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Vi(o){switch(o){case"running":case"pausing":case"canceling":return Wn.RUNNING;case"paused":return Wn.PAUSED;case"success":return Wn.SUCCESS;case"canceled":return Wn.CANCELED;default:return Wn.ERROR}}class Tr{constructor(r,s,l){if(function Cr(o){return"function"==typeof o}(r)||null!=s||null!=l)this.next=r,this.error=s??void 0,this.complete=l??void 0;else{const E=r;this.next=E.next,this.error=E.error,this.complete=E.complete}}}function ls(o){return(...r)=>{Promise.resolve().then(()=>o(...r))}}let Ns=null;class bu{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gt.NO_ERROR,this.sendPromise_=new Promise(r=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gt.ABORT,r()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gt.NETWORK_ERROR,r()}),this.xhr_.addEventListener("load",()=>{r()})})}send(r,s,l,h){if(this.sent_)throw $t("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(s,r,!0),void 0!==h)for(const E in h)h.hasOwnProperty(E)&&this.xhr_.setRequestHeader(E,h[E].toString());return void 0!==l?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $t("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $t("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $t("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $t("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(r){return this.xhr_.getResponseHeader(r)}addUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",r)}removeUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",r)}}class Tu extends bu{initXhr(){this.xhr_.responseType="text"}}function Lr(){return Ns?Ns():new Tu}class _i{constructor(r,s,l=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=r,this._blob=s,this._metadata=l,this._mappings=ii(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=h=>{if(this._request=void 0,this._chunkMultiplier=1,h._codeEquals(yt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const E=this.isExponentialBackoffExpired();if(On(h.status,[])){if(!E)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();h=_e()}this._error=h,this._transition("error")}},this._metadataErrorHandler=h=>{this._request=void 0,h._codeEquals(yt.CANCELED)?this.completeTransitions_():(this._error=h,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((h,E)=>{this._resolve=h,this._reject=E,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const r=this._transferred;return s=>this._updateProgress(r+s)}_shouldDoResumable(r){return r.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(r){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([s,l])=>{switch(this._state){case"running":r(s,l);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((r,s)=>{const l=function kr(o,r,s,l,h){const E=r.bucketOnlyServerUrl(),b=Rs(r,l,h),P={name:b.fullPath},U=Cn(E,o.host,o._protocol),pe={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l.size()}`,"X-Goog-Upload-Header-Content-Type":b.contentType,"Content-Type":"application/json; charset=utf-8"},Ee=_r(b,s),nt=new Ye(U,"POST",function Ge(Bt){let Jt;ji(Bt);try{Jt=Bt.getResponseHeader("X-Goog-Upload-URL")}catch{_t(!1)}return _t(vt(Jt)),Jt},o.maxUploadRetryTime);return nt.urlParams=P,nt.headers=pe,nt.body=Ee,nt.errorHandler=ln(r),nt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),h=this._ref.storage._makeRequest(l,Lr,r,s);this._request=h,h.getPromise().then(E=>{this._request=void 0,this._uploadUrl=E,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const r=this._uploadUrl;this._resolveToken((s,l)=>{const h=function xo(o,r,s,l){const U=new Ye(s,"POST",function E($){const pe=ji($,["active","final"]);let Ee=null;try{Ee=$.getResponseHeader("X-Goog-Upload-Size-Received")}catch{_t(!1)}Ee||_t(!1);const be=Number(Ee);return _t(!isNaN(be)),new Jn(be,l.size(),"final"===pe)},o.maxUploadRetryTime);return U.headers={"X-Goog-Upload-Command":"query"},U.errorHandler=ln(r),U}(this._ref.storage,this._ref._location,r,this._blob),E=this._ref.storage._makeRequest(h,Lr,s,l);this._request=E,E.getPromise().then(b=>{this._request=void 0,this._updateProgress(b.current),this._needToFetchStatus=!1,b.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const r=262144*this._chunkMultiplier,s=new Jn(this._transferred,this._blob.size()),l=this._uploadUrl;this._resolveToken((h,E)=>{let b;try{b=function Ps(o,r,s,l,h,E,b,P){const U=new Jn(0,0);if(b?(U.current=b.current,U.total=b.total):(U.current=0,U.total=l.size()),l.size()!==U.total)throw function In(){return new rt(yt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const $=U.total-U.current;let pe=$;h>0&&(pe=Math.min(pe,h));const Ee=U.current;let Ge="";Ge=0===pe?"finalize":$===pe?"upload, finalize":"upload";const nt={"X-Goog-Upload-Command":Ge,"X-Goog-Upload-Offset":`${U.current}`},Bt=l.slice(Ee,Ee+pe);if(null===Bt)throw ze();const Fn=new Ye(s,"POST",function Jt(Or,Kl){const fl=ji(Or,["active","final"]),Wd=U.current+pe,pl=l.size();let gl;return gl="final"===fl?Et(r,E)(Or,Kl):null,new Jn(Wd,pl,"final"===fl,gl)},r.maxUploadRetryTime);return Fn.headers=nt,Fn.body=Bt.uploadData(),Fn.progressCallback=P||null,Fn.errorHandler=ln(o),Fn}(this._ref._location,this._ref.storage,l,this._blob,r,this._mappings,s,this._makeProgressCallback())}catch(U){return this._error=U,void this._transition("error")}const P=this._ref.storage._makeRequest(b,Lr,h,E,!1);this._request=P,P.getPromise().then(U=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(U.current),U.finalized?(this._metadata=U.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((r,s)=>{const l=si(this._ref.storage,this._ref._location,this._mappings),h=this._ref.storage._makeRequest(l,Lr,r,s);this._request=h,h.getPromise().then(E=>{this._request=void 0,this._metadata=E,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((r,s)=>{const l=function Ms(o,r,s,l,h){const E=r.bucketOnlyServerUrl(),b={"X-Goog-Upload-Protocol":"multipart"},U=function P(){let Fn="";for(let Or=0;Or<2;Or++)Fn+=Math.random().toString().slice(2);return Fn}();b["Content-Type"]="multipart/related; boundary="+U;const $=Rs(r,l,h),pe=_r($,s),Ge=se.getBlob("--"+U+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+pe+"\r\n--"+U+"\r\nContent-Type: "+$.contentType+"\r\n\r\n",l,"\r\n--"+U+"--");if(null===Ge)throw ze();const nt={name:$.fullPath},Bt=Cn(E,o.host,o._protocol),Kn=o.maxUploadRetryTime,jn=new Ye(Bt,"POST",Et(o,s),Kn);return jn.urlParams=nt,jn.headers=b,jn.body=Ge.uploadData(),jn.errorHandler=ln(r),jn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),h=this._ref.storage._makeRequest(l,Lr,r,s);this._request=h,h.getPromise().then(E=>{this._request=void 0,this._metadata=E,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(r){const s=this._transferred;this._transferred=r,this._transferred!==s&&this._notifyObservers()}_transition(r){if(this._state!==r)switch(r){case"canceling":case"pausing":this._state=r,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const s="paused"===this._state;this._state=r,s&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=r,this._notifyObservers();break;case"canceled":this._error=fe(),this._state=r,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const r=Vi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:r,metadata:this._metadata,task:this,ref:this._ref}}on(r,s,l,h){const E=new Tr(s||void 0,l||void 0,h||void 0);return this._addObserver(E),()=>{this._removeObserver(E)}}then(r,s){return this._promise.then(r,s)}catch(r){return this.then(null,r)}_addObserver(r){this._observers.push(r),this._notifyObserver(r)}_removeObserver(r){const s=this._observers.indexOf(r);-1!==s&&this._observers.splice(s,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(s=>{this._notifyObserver(s)})}_finishPromise(){if(void 0!==this._resolve){let r=!0;switch(Vi(this._state)){case Wn.SUCCESS:ls(this._resolve.bind(null,this.snapshot))();break;case Wn.CANCELED:case Wn.ERROR:ls(this._reject.bind(null,this._error))();break;default:r=!1}r&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(r){switch(Vi(this._state)){case Wn.RUNNING:case Wn.PAUSED:r.next&&ls(r.next.bind(r,this.snapshot))();break;case Wn.SUCCESS:r.complete&&ls(r.complete.bind(r))();break;default:r.error&&ls(r.error.bind(r,this._error))()}}resume(){const r="paused"===this._state||"pausing"===this._state;return r&&this._transition("running"),r}pause(){const r="running"===this._state;return r&&this._transition("pausing"),r}cancel(){const r="running"===this._state||"pausing"===this._state;return r&&this._transition("canceling"),r}}class xt{constructor(r,s){this._service=r,this._location=s instanceof Qe?s:Qe.makeFromUrl(s,r.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(r,s){return new xt(r,s)}get root(){const r=new Qe(this._location.bucket,"");return this._newRef(this._service,r)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return St(this._location.path)}get storage(){return this._service}get parent(){const r=function Je(o){if(0===o.length)return null;const r=o.lastIndexOf("/");return-1===r?"":o.slice(0,r)}(this._location.path);if(null===r)return null;const s=new Qe(this._location.bucket,r);return new xt(this._service,s)}_throwIfRoot(r){if(""===this._location.path)throw dn(r)}}function yi(o,r,s){return zr.apply(this,arguments)}function zr(){return(zr=(0,ct.Z)(function*(o,r,s){const h=yield ai(o,{pageToken:s});r.prefixes.push(...h.prefixes),r.items.push(...h.items),null!=h.nextPageToken&&(yield yi(o,r,h.nextPageToken))})).apply(this,arguments)}function ai(o,r){null!=r&&"number"==typeof r.maxResults&&un("options.maxResults",1,1e3,r.maxResults);const s=r||{},l=ao(o.storage,o._location,"/",s.pageToken,s.maxResults);return o.storage.makeRequestWithTokens(l,Lr)}function kt(o){o._throwIfRoot("getDownloadURL");const r=function hn(o,r,s){const h=Cn(r.fullServerUrl(),o.host,o._protocol),b=o.maxOperationRetryTime,P=new Ye(h,"GET",function gn(o,r){return function s(l,h){const E=ar(o,h,r);return _t(null!==E),function Wr(o,r,s,l){const h=Me(r);if(null===h||!vt(h.downloadTokens))return null;const E=h.downloadTokens;if(0===E.length)return null;const b=encodeURIComponent;return E.split(",").map($=>{const Ee=o.fullPath;return Cn("/b/"+b(o.bucket)+"/o/"+b(Ee),s,l)+Yn({alt:"media",token:$})})[0]}(E,h,o.host,o._protocol)}}(o,s),b);return P.errorHandler=Sn(r),P}(o.storage,o._location,ii());return o.storage.makeRequestWithTokens(r,Lr).then(s=>{if(null===s)throw function Dt(){return new rt(yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return s})}function pr(o,r){const s=function ut(o,r){const s=r.split("/").filter(l=>l.length>0).join("/");return 0===o.length?s:o+"/"+s}(o._location.path,r),l=new Qe(o._location.bucket,s);return new xt(o.storage,l)}function ui(o,r){if(o instanceof bt){const s=o;if(null==s._bucket)throw function Ve(){return new rt(yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Re+"' property when initializing the app?")}();const l=new xt(s,s._bucket);return null!=r?ui(l,r):l}return void 0!==r?pr(o,r):o}function An(o,r){if(r&&function cs(o){return/^[A-Za-z]+:\/\//.test(o)}(r)){if(o instanceof bt)return function qn(o,r){return new xt(o,r)}(o,r);throw Ct("To use ref(service, url), the first argument must be a Storage instance.")}return ui(o,r)}function Fr(o,r){const s=r?.[Re];return null==s?null:Qe.makeFromBucketSpec(s,o)}class bt{constructor(r,s,l,h,E){this.app=r,this._authProvider=s,this._appCheckProvider=l,this._url=h,this._firebaseVersion=E,this._bucket=null,this._host=Ne,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=h?Qe.makeFromBucketSpec(h,this._host):Fr(this._host,this.app.options)}get host(){return this._host}set host(r){this._host=r,this._bucket=null!=this._url?Qe.makeFromBucketSpec(this._url,r):Fr(r,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(r){un("time",0,Number.POSITIVE_INFINITY,r),this._maxUploadRetryTime=r}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(r){un("time",0,Number.POSITIVE_INFINITY,r),this._maxOperationRetryTime=r}_getAuthToken(){var r=this;return(0,ct.Z)(function*(){if(r._overrideAuthToken)return r._overrideAuthToken;const s=r._authProvider.getImmediate({optional:!0});if(s){const l=yield s.getToken();if(null!==l)return l.accessToken}return null})()}_getAppCheckToken(){var r=this;return(0,ct.Z)(function*(){const s=r._appCheckProvider.getImmediate({optional:!0});return s?(yield s.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(r=>r.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(r){return new xt(this,r)}_makeRequest(r,s,l,h,E=!0){if(this._deleted)return new zt(an());{const b=function Pn(o,r,s,l,h,E,b=!0){const P=Yn(o.urlParams),U=o.url+P,$=Object.assign({},o.headers);return function wr(o,r){r&&(o["X-Firebase-GMPID"]=r)}($,r),function Hr(o,r){null!==r&&r.length>0&&(o.Authorization="Firebase "+r)}($,s),function jt(o,r){o["X-Firebase-Storage-Version"]="webjs/"+(r??"AppManager")}($,E),function At(o,r){null!==r&&(o["X-Firebase-AppCheck"]=r)}($,l),new is(U,o.method,$,o.body,o.successCodes,o.additionalRetryCodes,o.handler,o.errorHandler,o.timeout,o.progressCallback,h,b)}(r,this._appId,l,h,s,this._firebaseVersion,E);return this._requests.add(b),b.getPromise().then(()=>this._requests.delete(b),()=>this._requests.delete(b)),b}}makeRequestWithTokens(r,s){var l=this;return(0,ct.Z)(function*(){const[h,E]=yield Promise.all([l._getAuthToken(),l._getAppCheckToken()]);return l._makeRequest(r,s,h,E).getPromise()})()}}const Hi="@firebase/storage";function Vt(o,r){return An(o=(0,N.m9)(o),r)}function li(o,{instanceIdentifier:r}){const s=o.getProvider("app").getImmediate(),l=o.getProvider("auth-internal"),h=o.getProvider("app-check-internal");return new bt(s,l,h,r,de.SDK_VERSION)}!function Fo(){(0,de._registerComponent)(new ue.wA("storage",li,"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Hi,"0.12.4",""),(0,de.registerVersion)(Hi,"0.12.4","esm2017")}();class Bn{constructor(r,s,l){this._delegate=r,this.task=s,this.ref=l}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ai{constructor(r,s){this._delegate=r,this._ref=s,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Bn(this._delegate.snapshot,this,this._ref)}then(r,s){return this._delegate.then(l=>{if(r)return r(new Bn(l,this,this._ref))},s)}on(r,s,l,h){let E;return s&&(E="function"==typeof s?b=>s(new Bn(b,this,this._ref)):{next:s.next?b=>s.next(new Bn(b,this,this._ref)):void 0,complete:s.complete||void 0,error:s.error||void 0}),this._delegate.on(r,E,l||void 0,h||void 0)}}class xn{constructor(r,s){this._delegate=r,this._service=s}get prefixes(){return this._delegate.prefixes.map(r=>new Wt(r,this._service))}get items(){return this._delegate.items.map(r=>new Wt(r,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Wt{constructor(r,s){this._delegate=r,this.storage=s}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(r){const s=function vl(o,r){return pr(o,r)}(this._delegate,r);return new Wt(s,this.storage)}get root(){return new Wt(this._delegate.root,this.storage)}get parent(){const r=this._delegate.parent;return null==r?null:new Wt(r,this.storage)}put(r,s){return this._throwIfRoot("put"),new Ai(function Gn(o,r,s){return function er(o,r,s){return o._throwIfRoot("uploadBytesResumable"),new _i(o,new se(r),s)}(o=(0,N.m9)(o),r,s)}(this._delegate,r,s),this)}putString(r,s=Tn.RAW,l){this._throwIfRoot("putString");const h=or(s,r),E=Object.assign({},l);return null==E.contentType&&null!=h.contentType&&(E.contentType=h.contentType),new Ai(new _i(this._delegate,new se(h.data,!0),E),this)}listAll(){return function Gr(o){return function co(o){const r={prefixes:[],items:[]};return yi(o,r).then(()=>r)}(o=(0,N.m9)(o))}(this._delegate).then(r=>new xn(r,this.storage))}list(r){return function Ii(o,r){return ai(o=(0,N.m9)(o),r)}(this._delegate,r||void 0).then(s=>new xn(s,this.storage))}getMetadata(){return function Ls(o){return function yn(o){o._throwIfRoot("getMetadata");const r=si(o.storage,o._location,ii());return o.storage.makeRequestWithTokens(r,Lr)}(o=(0,N.m9)(o))}(this._delegate)}updateMetadata(r){return function Fs(o,r){return function et(o,r){o._throwIfRoot("updateMetadata");const s=function os(o,r,s,l){const E=Cn(r.fullServerUrl(),o.host,o._protocol),P=_r(s,l),$=o.maxOperationRetryTime,pe=new Ye(E,"PATCH",Et(o,l),$);return pe.headers={"Content-Type":"application/json; charset=utf-8"},pe.body=P,pe.errorHandler=Sn(r),pe}(o.storage,o._location,r,ii());return o.storage.makeRequestWithTokens(s,Lr)}(o=(0,N.m9)(o),r)}(this._delegate,r)}getDownloadURL(){return function $i(o){return kt(o=(0,N.m9)(o))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Wi(o){return function en(o){o._throwIfRoot("deleteObject");const r=function as(o,r){const l=Cn(r.fullServerUrl(),o.host,o._protocol),P=new Ye(l,"DELETE",function b(U,$){},o.maxOperationRetryTime);return P.successCodes=[200,204],P.errorHandler=Sn(r),P}(o.storage,o._location);return o.storage.makeRequestWithTokens(r,Lr)}(o=(0,N.m9)(o))}(this._delegate)}_throwIfRoot(r){if(""===this._delegate._location.path)throw dn(r)}}class Us{constructor(r,s){this.app=r,this._delegate=s}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(r){if(Ur(r))throw Ct("ref() expected a child path but got a URL, use refFromURL instead.");return new Wt(Vt(this._delegate,r),this)}refFromURL(r){if(!Ur(r))throw Ct("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qe.makeFromUrl(r,this._delegate.host)}catch{throw Ct("refFromUrl() expected a valid full URL but got an invalid one.")}return new Wt(Vt(this._delegate,r),this)}setMaxUploadRetryTime(r){this._delegate.maxUploadRetryTime=r}setMaxOperationRetryTime(r){this._delegate.maxOperationRetryTime=r}useEmulator(r,s,l={}){!function Zr(o,r,s,l={}){!function Ti(o,r,s,l={}){o.host=`${r}:${s}`,o._protocol="http";const{mockUserToken:h}=l;h&&(o._overrideAuthToken="string"==typeof h?h:(0,N.Sg)(h,o.app.options.projectId))}(o,r,s,l)}(this._delegate,r,s,l)}}function Ur(o){return/^[A-Za-z]+:\/\//.test(o)}function ba(o,{instanceIdentifier:r}){const s=o.getProvider("app-compat").getImmediate(),l=o.getProvider("storage").getImmediate({identifier:r});return new Us(s,l)}!function ds(o){const r={TaskState:Wn,TaskEvent:us,StringFormat:Tn,Storage:Us,Reference:Wt};o.INTERNAL.registerComponent(new ue.wA("storage-compat",ba,"PUBLIC").setServiceProps(r).setMultipleInstances(!0)),o.registerVersion("@firebase/storage-compat","0.3.7")}(gt.Z);var Ru=O(7142);function Di(o){const r=function Ta(o){return new me.y(r=>{const s=b=>r.next(b);s(o.snapshot);const E=o.on("state_changed",s);return o.then(b=>{s(b),r.complete()},b=>{s(o.snapshot),(b=>{r.error(b)})(b)}),function(){E()}}).pipe(function Ze(o,r=oe.z){return(0,Fe.e)((s,l)=>{let h=null,E=null,b=null;const P=()=>{if(h){h.unsubscribe(),h=null;const $=E;E=null,l.next($)}};function U(){const $=b+o,pe=r.now();if(pe<$)return h=this.schedule(void 0,$-pe),void l.add(h);P()}s.subscribe((0,Oe.x)(l,$=>{E=$,b=r.now(),h||(h=r.schedule(U,o),l.add(h))},()=>{P(),l.complete()},void 0,()=>{E=h=null}))})}(0))}(o);return{task:o,then:o.then.bind(o),catch:o.catch.bind(o),pause:o.pause.bind(o),cancel:o.cancel.bind(o),resume:o.resume.bind(o),snapshotChanges:()=>r,percentageChanges:()=>r.pipe((0,Le.U)(s=>s.bytesTransferred/s.totalBytes*100))}}function Qn(o){return{getDownloadURL:()=>(0,Z.of)(void 0).pipe(Ie.fc,(0,Ke.w)(()=>o.getDownloadURL()),Ie.iC),getMetadata:()=>(0,Z.of)(void 0).pipe(Ie.fc,(0,Ke.w)(()=>o.getMetadata()),Ie.iC),delete:()=>(0,q.D)(o.delete()),child:r=>Qn(o.child(r)),updateMetadata:r=>(0,q.D)(o.updateMetadata(r)),put:(r,s)=>Di(o.put(r,s)),putString:(r,s,l)=>Di(o.putString(r,s,l)),list:r=>(0,q.D)(o.list(r)),listAll:()=>(0,q.D)(o.listAll())}}const yl=new z.OlP("angularfire2.storageBucket"),Ql=new z.OlP("angularfire2.storage.maxUploadRetryTime"),mn=new z.OlP("angularfire2.storage.maxOperationRetryTime"),hs=new z.OlP("angularfire2.storage.use-emulator");let El=(()=>{class o{storage;constructor(s,l,h,E,b,P,U,$,pe,Ee){const be=(0,Ue.on)(s,b,l);this.storage=(0,Ue.cc)(`${be.name}.storage.${h}`,"AngularFireStorage",be.name,()=>{const Ge=b.runOutsideAngular(()=>be.storage(h||void 0)),nt=pe;return nt&&Ge.useEmulator(...nt),U&&Ge.setMaxUploadRetryTime(U),$&&Ge.setMaxOperationRetryTime($),Ge},[U,$])}ref(s){return Qn(this.storage.ref(s))}refFromURL(s){return Qn(this.storage.refFromURL(s))}upload(s,l,h){return Qn(this.storage.ref(s)).put(l,h)}static \u0275fac=function(l){return new(l||o)(z.LFG(Ue.Dh),z.LFG(Ue.xv,8),z.LFG(yl,8),z.LFG(z.Lbi),z.LFG(z.R0b),z.LFG(Ie.HU),z.LFG(Ql,8),z.LFG(mn,8),z.LFG(hs,8),z.LFG(Ie.Rf,8))};static \u0275prov=z.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"})}return o})(),Jl=(()=>{class o{static \u0275fac=function(l){return new(l||o)};static \u0275mod=z.oAB({type:o});static \u0275inj=z.cJS({})}return o})(),Mu=(()=>{class o{constructor(){Ru.Z.registerVersion("angularfire",Ie.q4.full,"gcs-compat")}static \u0275fac=function(l){return new(l||o)};static \u0275mod=z.oAB({type:o});static \u0275inj=z.cJS({providers:[El],imports:[Jl]})}return o})();var Pu=O(3020),Sa=O(6699),Aa=O(4829),Bo=O(2737),jo=O(2420),ho=O(4564),ci=O(3997),Ar=O(3019),Vo=(O(340),O(7879));const Xn="@firebase/database";let gr="";function Bs(o){gr=o}class Ma{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,s){null==s?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,N.Wl)(s))}get(r){const s=this.domStorage_.getItem(this.prefixedName_(r));return null==s?null:(0,N.cI)(s)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class po{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,s){null==s?delete this.cache_[r]:this.cache_[r]=s}get(r){return(0,N.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const Yr=function(o){try{if(typeof window<"u"&&typeof window[o]<"u"){const r=window[o];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new Ma(r)}}catch{}return new po},qr=Yr("localStorage"),di=Yr("sessionStorage"),Qr=new Vo.Yd("@firebase/database"),js=function(){let o=1;return function(){return o++}}(),go=function(o){const r=(0,N.dS)(o),s=new N.gQ;s.update(r);const l=s.digest();return N.US.encodeByteArray(l)},Vs=function(...o){let r="";for(let s=0;s<o.length;s++){const l=o[s];Array.isArray(l)||l&&"object"==typeof l&&"number"==typeof l.length?r+=Vs.apply(null,l):r+="object"==typeof l?(0,N.Wl)(l):l,r+=" "}return r};let Xr=null,mo=!0;const hi=function(o,r){(0,N.hu)(!r||!0===o||!1===o,"Can't turn on custom loggers persistently."),!0===o?(Qr.logLevel=Vo.in.VERBOSE,Xr=Qr.log.bind(Qr),r&&di.set("logging_enabled",!0)):"function"==typeof o?Xr=o:(Xr=null,di.remove("logging_enabled"))},Nn=function(...o){if(!0===mo&&(mo=!1,null===Xr&&!0===di.get("logging_enabled")&&hi(!0)),Xr){const r=Vs.apply(null,o);Xr(r)}},Pi=function(o){return function(...r){Nn(o,...r)}},Ho=function(...o){const r="FIREBASE INTERNAL ERROR: "+Vs(...o);Qr.error(r)},fi=function(...o){const r=`FIREBASE FATAL ERROR: ${Vs(...o)}`;throw Qr.error(r),new Error(r)},yr=function(...o){const r="FIREBASE WARNING: "+Vs(...o);Qr.warn(r)},$o=function(o){return"number"==typeof o&&(o!=o||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)},Ni="[MIN_NAME]",pi="[MAX_NAME]",Oi=function(o,r){if(o===r)return 0;if(o===Ni||r===pi)return-1;if(r===Ni||o===pi)return 1;{const s=nn(o),l=nn(r);return null!==s?null!==l?s-l==0?o.length-r.length:s-l:-1:null!==l?1:o<r?-1:1}},Pa=function(o,r){return o===r?0:o<r?-1:1},_o=function(o,r){if(r&&o in r)return r[o];throw new Error("Missing required key ("+o+") in object: "+(0,N.Wl)(r))},fs=function(o){if("object"!=typeof o||null===o)return(0,N.Wl)(o);const r=[];for(const l in o)r.push(l);r.sort();let s="{";for(let l=0;l<r.length;l++)0!==l&&(s+=","),s+=(0,N.Wl)(r[l]),s+=":",s+=fs(o[r[l]]);return s+="}",s},Na=function(o,r){const s=o.length;if(s<=r)return[o];const l=[];for(let h=0;h<s;h+=r)l.push(o.substring(h,h+r>s?s:h+r));return l};function I(o,r){for(const s in o)o.hasOwnProperty(s)&&r(s,o[s])}const x=function(o){(0,N.hu)(!$o(o),"Invalid JSON number");const l=1023;let h,E,b,P,U;0===o?(E=0,b=0,h=1/o==-1/0?1:0):(h=o<0,(o=Math.abs(o))>=Math.pow(2,1-l)?(P=Math.min(Math.floor(Math.log(o)/Math.LN2),l),E=P+l,b=Math.round(o*Math.pow(2,52-P)-Math.pow(2,52))):(E=0,b=Math.round(o/Math.pow(2,-1074))));const $=[];for(U=52;U;U-=1)$.push(b%2?1:0),b=Math.floor(b/2);for(U=11;U;U-=1)$.push(E%2?1:0),E=Math.floor(E/2);$.push(h?1:0),$.reverse();const pe=$.join("");let Ee="";for(U=0;U<64;U+=8){let be=parseInt(pe.substr(U,8),2).toString(16);1===be.length&&(be="0"+be),Ee+=be}return Ee.toLowerCase()},De=new RegExp("^-?(0*)\\d{1,10}$"),nn=function(o){if(De.test(o)){const r=Number(o);if(r>=-2147483648&&r<=2147483647)return r}return null},Kt=function(o){try{o()}catch(r){setTimeout(()=>{throw yr("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},Nt=function(o,r){const s=setTimeout(o,r);return"number"==typeof s&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):"object"==typeof s&&s.unref&&s.unref(),s};class kn{constructor(r,s){this.appName_=r,this.appCheckProvider=s,this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(l=>this.appCheck=l)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((s,l)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(s,l):s(null)},0)})}addTokenChangeListener(r){var s;null===(s=this.appCheckProvider)||void 0===s||s.get().then(l=>l.addTokenListener(r))}notifyForInvalidToken(){yr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class pn{constructor(r,s,l){this.appName_=r,this.firebaseOptions_=s,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(h=>this.auth_=h)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(s=>s&&"auth/token-not-initialized"===s.code?(Nn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,l)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(s,l):s(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(s=>s.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(s=>s.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yr(r)}}let _n=(()=>{class o{constructor(s){this.accessToken=s}getToken(s){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(s){s(this.accessToken)}removeTokenChangeListener(s){}notifyForInvalidToken(){}}return o.OWNER="owner",o})();const nr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$s="websocket",Wo="long_polling";class ur{constructor(r,s,l,h,E=!1,b="",P=!1,U=!1){this.secure=s,this.namespace=l,this.webSocketOnly=h,this.nodeAdmin=E,this.persistenceKey=b,this.includeNamespaceInQueryParams=P,this.isUsingEmulator=U,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qr.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&qr.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function xu(o,r,s){let l;if((0,N.hu)("string"==typeof r,"typeof type must == string"),(0,N.hu)("object"==typeof s,"typeof params must == object"),r===$s)l=(o.secure?"wss://":"ws://")+o.internalHost+"/.ws?";else{if(r!==Wo)throw new Error("Unknown connection type: "+r);l=(o.secure?"https://":"http://")+o.internalHost+"/.lp?"}(function ec(o){return o.host!==o.internalHost||o.isCustomHost()||o.includeNamespaceInQueryParams})(o)&&(s.ns=o.namespace);const h=[];return I(s,(E,b)=>{h.push(E+"="+b)}),l+h.join("&")}class zo{constructor(){this.counters_={}}incrementCounter(r,s=1){(0,N.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=s}get(){return(0,N.p$)(this.counters_)}}const Rn={},Il={};function ku(o){const r=o.toString();return Rn[r]||(Rn[r]=new zo),Rn[r]}class Ws{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,s){this.closeAfterResponse=r,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,s){for(this.pendingResponses[r]=s;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let h=0;h<l.length;++h)l[h]&&Kt(()=>{this.onMessage_(l[h])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Gs{constructor(r,s,l,h,E,b,P){this.connId=r,this.repoInfo=s,this.applicationId=l,this.appCheckToken=h,this.authToken=E,this.transportSessionId=b,this.lastSessionId=P,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pi(r),this.stats_=ku(s),this.urlFn=U=>(this.appCheckToken&&(U.ac=this.appCheckToken),xu(s,Wo,U))}open(r,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new Ws(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(o){if((0,N.Yr)()||"complete"===document.readyState)o();else{let r=!1;const s=function(){document.body?r||(r=!0,o()):setTimeout(s,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&s()}),window.attachEvent("onload",s))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vo((...E)=>{const[b,P,U,$,pe]=E;if(this.incrementIncomingBytes_(E),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===b)this.id=P,this.password=U;else{if("close"!==b)throw new Error("Unrecognized command received: "+b);P?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(P,()=>{this.onClosed_()})):this.onClosed_()}},(...E)=>{const[b,P]=E;this.incrementIncomingBytes_(E),this.myPacketOrderer.handleResponse(b,P)},()=>{this.onClosed_()},this.urlFn);const l={start:"t"};l.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(l.cb=this.scriptTagHolder.uniqueCallbackIdentifier),l.v="5",this.transportSessionId&&(l.s=this.transportSessionId),this.lastSessionId&&(l.ls=this.lastSessionId),this.applicationId&&(l.p=this.applicationId),this.appCheckToken&&(l.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&nr.test(location.hostname)&&(l.r="f");const h=this.urlFn(l);this.log_("Connecting via long-poll to "+h),this.scriptTagHolder.addTag(h,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Gs.forceAllow_=!0}static forceDisallow(){Gs.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!Gs.forceAllow_&&(Gs.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const s=(0,N.Wl)(r);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const l=(0,N.h$)(s),h=Na(l,1840);for(let E=0;E<h.length;E++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,h.length,h[E]),this.curSegmentNum++}addDisconnectPingFrame(r,s){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const l={dframe:"t"};l.id=r,l.pw=s,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const s=(0,N.Wl)(r).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class vo{constructor(r,s,l,h){if(this.onDisconnect=l,this.urlFn=h,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=r,this.onMessageCB=s;else{this.uniqueCallbackIdentifier=js(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=s,this.myIFrame=vo.createIFrame_();let E="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(E='<script>document.domain="'+document.domain+'";<\/script>');const b="<html><body>"+E+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(b),this.myIFrame.doc.close()}catch(P){Nn("frame writing exception"),P.stack&&Nn(P.stack),Nn(P)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||Nn("No IE domain setting required")}catch{const l=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,s){for(this.myID=r,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let s=this.urlFn(r),l="",h=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+l.length<=1870;){const b=this.pendingSegs.shift();l=l+"&seg"+h+"="+b.seg+"&ts"+h+"="+b.ts+"&d"+h+"="+b.d,h++}return s+=l,this.addLongPollTag_(s,this.currentSerial),!0}return!1}enqueueSegment(r,s,l){this.pendingSegs.push({seg:r,ts:s,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(r,s){this.outstandingRequests.add(s);const l=()=>{this.outstandingRequests.delete(s),this.newRequest_()},h=setTimeout(l,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(h),l()})}addTag(r,s){(0,N.Yr)()?this.doNodeLongPoll(r,s):setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=r,l.onload=l.onreadystatechange=function(){const h=l.readyState;(!h||"loaded"===h||"complete"===h)&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),s())},l.onerror=()=>{Nn("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}let xa=null;typeof MozWebSocket<"u"?xa=MozWebSocket:typeof WebSocket<"u"&&(xa=WebSocket);let Ko=(()=>{class o{constructor(s,l,h,E,b,P,U){this.connId=s,this.applicationId=h,this.appCheckToken=E,this.authToken=b,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pi(this.connId),this.stats_=ku(l),this.connURL=o.connectionURL_(l,P,U,E,h),this.nodeAdmin=l.nodeAdmin}static connectionURL_(s,l,h,E,b){const P={v:"5"};return!(0,N.Yr)()&&typeof location<"u"&&location.hostname&&nr.test(location.hostname)&&(P.r="f"),l&&(P.s=l),h&&(P.ls=h),E&&(P.ac=E),b&&(P.p=b),xu(s,$s,P)}open(s,l){this.onDisconnect=l,this.onMessage=s,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qr.set("previous_websocket_failure",!0);try{let h;if((0,N.Yr)()){h={headers:{"User-Agent":`Firebase/5/${gr}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(h.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(h.headers["X-Firebase-AppCheck"]=this.appCheckToken);const b=process.env,P=0===this.connURL.indexOf("wss://")?b.HTTPS_PROXY||b.https_proxy:b.HTTP_PROXY||b.http_proxy;P&&(h.proxy={origin:P})}this.mySock=new xa(this.connURL,[],h)}catch(h){this.log_("Error instantiating WebSocket.");const E=h.message||h.data;return E&&this.log_(E),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=h=>{this.handleIncomingFrame(h)},this.mySock.onerror=h=>{this.log_("WebSocket error.  Closing connection.");const E=h.message||h.data;E&&this.log_(E),this.onClosed_()}}start(){}static forceDisallow(){o.forceDisallow_=!0}static isAvailable(){let s=!1;if(typeof navigator<"u"&&navigator.userAgent){const h=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);h&&h.length>1&&parseFloat(h[1])<4.4&&(s=!0)}return!s&&null!==xa&&!o.forceDisallow_}static previouslyFailed(){return qr.isInMemoryStorage||!0===qr.get("previous_websocket_failure")}markConnectionHealthy(){qr.remove("previous_websocket_failure")}appendFrame_(s){if(this.frames.push(s),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const h=(0,N.cI)(l);this.onMessage(h)}}handleNewFrameCount_(s){this.totalFrames=s,this.frames=[]}extractFrameCount_(s){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),s.length<=6){const l=Number(s);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),s}handleIncomingFrame(s){if(null===this.mySock)return;const l=s.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(l);else{const h=this.extractFrameCount_(l);null!==h&&this.appendFrame_(h)}}send(s){this.resetKeepAlive();const l=(0,N.Wl)(s);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const h=Na(l,16384);h.length>1&&this.sendString_(String(h.length));for(let E=0;E<h.length;E++)this.sendString_(h[E])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(s){try{this.mySock.send(s)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return o.responsesRequiredToBeHealthy=2,o.healthyTimeout=3e4,o})(),Zn=(()=>{class o{constructor(s){this.initTransports_(s)}static get ALL_TRANSPORTS(){return[Gs,Ko]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(s){const l=Ko&&Ko.isAvailable();let h=l&&!Ko.previouslyFailed();if(s.webSocketOnly&&(l||yr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),h=!0),h)this.transports_=[Ko];else{const E=this.transports_=[];for(const b of o.ALL_TRANSPORTS)b&&b.isAvailable()&&E.push(b);o.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return o.globalTransportInitialized_=!1,o})();class wl{constructor(r,s,l,h,E,b,P,U,$,pe){this.id=r,this.repoInfo_=s,this.applicationId_=l,this.appCheckToken_=h,this.authToken_=E,this.onMessage_=b,this.onReady_=P,this.onDisconnect_=U,this.onKill_=$,this.lastSessionId=pe,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pi("c:"+this.id+":"),this.transportManager_=new Zn(s),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,l)},Math.floor(0));const h=r.healthyTimeout||0;h>0&&(this.healthyTimeout_=Nt(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(h)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return s=>{r===this.conn_?this.onConnectionLost_(s):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return s=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(s):r===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const s=r.t;"a"===s?this.upgradeIfSecondaryHealthy_():"r"===s?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===s&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const s=_o("t",r),l=_o("d",r);if("c"===s)this.onSecondaryControl_(l);else{if("d"!==s)throw new Error("Unknown protocol layer: "+s);this.pendingDataMessages.push(l)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const s=_o("t",r),l=_o("d",r);"c"===s?this.onControl_(l):"d"===s&&this.onDataMessage_(l)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const s=_o("t",r);if("d"in r){const l=r.d;if("h"===s){const h=Object.assign({},l);this.repoInfo_.isUsingEmulator&&(h.h=this.repoInfo_.host),this.onHandshake_(h)}else if("n"===s){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let h=0;h<this.pendingDataMessages.length;++h)this.onDataMessage_(this.pendingDataMessages[h]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===s?this.onConnectionShutdown_(l):"r"===s?this.onReset_(l):"e"===s?Ho("Server Error: "+l):"o"===s?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ho("Unknown control packet command: "+s)}}onHandshake_(r){const s=r.ts,l=r.v,h=r.h;this.sessionId=r.s,this.repoInfo_.host=h,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),"5"!==l&&yr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,l),Nt(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,s){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Nt(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Hu{put(r,s,l,h){}merge(r,s,l,h){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,s,l){}onDisconnectMerge(r,s,l){}onDisconnectCancel(r,s){}reportStats(r){}}class bl{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,N.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...s){if(Array.isArray(this.listeners_[r])){const l=[...this.listeners_[r]];for(let h=0;h<l.length;h++)l[h].callback.apply(l[h].context,s)}}on(r,s,l){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:s,context:l});const h=this.getInitialEvent(r);h&&s.apply(l,h)}off(r,s,l){this.validateEventType_(r);const h=this.listeners_[r]||[];for(let E=0;E<h.length;E++)if(h[E].callback===s&&(!l||l===h[E].context))return void h.splice(E,1)}validateEventType_(r){(0,N.hu)(this.allowedEvents_.find(s=>s===r),"Unknown event: "+r)}}class Zs extends bl{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Zs}getInitialEvent(r){return(0,N.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class _{constructor(r,s){if(void 0===s){this.pieces_=r.split("/");let l=0;for(let h=0;h<this.pieces_.length;h++)this.pieces_[h].length>0&&(this.pieces_[l]=this.pieces_[h],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=s}toString(){let r="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)""!==this.pieces_[s]&&(r+="/"+this.pieces_[s]);return r||"/"}}function D(){return new _("")}function m(o){return o.pieceNum_>=o.pieces_.length?null:o.pieces_[o.pieceNum_]}function w(o){return o.pieces_.length-o.pieceNum_}function S(o){let r=o.pieceNum_;return r<o.pieces_.length&&r++,new _(o.pieces_,r)}function F(o){return o.pieceNum_<o.pieces_.length?o.pieces_[o.pieces_.length-1]:null}function ye(o,r=0){return o.pieces_.slice(o.pieceNum_+r)}function ve(o){if(o.pieceNum_>=o.pieces_.length)return null;const r=[];for(let s=o.pieceNum_;s<o.pieces_.length-1;s++)r.push(o.pieces_[s]);return new _(r,0)}function $e(o,r){const s=[];for(let l=o.pieceNum_;l<o.pieces_.length;l++)s.push(o.pieces_[l]);if(r instanceof _)for(let l=r.pieceNum_;l<r.pieces_.length;l++)s.push(r.pieces_[l]);else{const l=r.split("/");for(let h=0;h<l.length;h++)l[h].length>0&&s.push(l[h])}return new _(s,0)}function qe(o){return o.pieceNum_>=o.pieces_.length}function wt(o,r){const s=m(o),l=m(r);if(null===s)return r;if(s===l)return wt(S(o),S(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+o+")")}function Zt(o,r){const s=ye(o,0),l=ye(r,0);for(let h=0;h<s.length&&h<l.length;h++){const E=Oi(s[h],l[h]);if(0!==E)return E}return s.length===l.length?0:s.length<l.length?-1:1}function sn(o,r){if(w(o)!==w(r))return!1;for(let s=o.pieceNum_,l=r.pieceNum_;s<=o.pieces_.length;s++,l++)if(o.pieces_[s]!==r.pieces_[l])return!1;return!0}function lr(o,r){let s=o.pieceNum_,l=r.pieceNum_;if(w(o)>w(r))return!1;for(;s<o.pieces_.length;){if(o.pieces_[s]!==r.pieces_[l])return!1;++s,++l}return!0}class qo{constructor(r,s){this.errorPrefix_=s,this.parts_=ye(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=(0,N.ug)(this.parts_[l]);zu(this)}}function zu(o){if(o.byteLength_>768)throw new Error(o.errorPrefix_+"has a key path longer than 768 bytes ("+o.byteLength_+").");if(o.parts_.length>32)throw new Error(o.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ks(o))}function Ks(o){return 0===o.parts_.length?"":"in property '"+o.parts_.join(".")+"'"}class Ua extends bl{constructor(){let r,s;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const l=!document[r];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}static getInstance(){return new Ua}getInitialEvent(r){return(0,N.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const Fi=1e3;let ms,Do=(()=>{class o extends Hu{constructor(s,l,h,E,b,P,U,$){if(super(),this.repoInfo_=s,this.applicationId_=l,this.onDataUpdate_=h,this.onConnectStatus_=E,this.onServerInfoUpdate_=b,this.authTokenProvider_=P,this.appCheckTokenProvider_=U,this.authOverride_=$,this.id=o.nextPersistentConnectionId_++,this.log_=Pi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,$&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ua.getInstance().on("visible",this.onVisible_,this),-1===s.host.indexOf("fblocal")&&Zs.getInstance().on("online",this.onOnline_,this)}sendRequest(s,l,h){const E=++this.requestNumber_,b={r:E,a:s,b:l};this.log_((0,N.Wl)(b)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(b),h&&(this.requestCBHash_[E]=h)}get(s){this.initConnection_();const l=new N.BH,E={action:"g",request:{p:s._path.toString(),q:s._queryObject},onComplete:P=>{const U=P.d;"ok"===P.s?l.resolve(U):l.reject(U)}};return this.outstandingGets_.push(E),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),l.promise}listen(s,l,h,E){this.initConnection_();const b=s._queryIdentifier,P=s._path.toString();this.log_("Listen called for "+P+" "+b),this.listens.has(P)||this.listens.set(P,new Map),(0,N.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(P).has(b),"listen() called twice for same path/queryId.");const U={onComplete:E,hashFn:l,query:s,tag:h};this.listens.get(P).set(b,U),this.connected_&&this.sendListen_(U)}sendGet_(s){const l=this.outstandingGets_[s];this.sendRequest("g",l.request,h=>{delete this.outstandingGets_[s],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(h)})}sendListen_(s){const l=s.query,h=l._path.toString(),E=l._queryIdentifier;this.log_("Listen on "+h+" for "+E);const b={p:h};s.tag&&(b.q=l._queryObject,b.t=s.tag),b.h=s.hashFn(),this.sendRequest("q",b,U=>{const $=U.d,pe=U.s;o.warnOnListenWarnings_($,l),(this.listens.get(h)&&this.listens.get(h).get(E))===s&&(this.log_("listen response",U),"ok"!==pe&&this.removeListen_(h,E),s.onComplete&&s.onComplete(pe,$))})}static warnOnListenWarnings_(s,l){if(s&&"object"==typeof s&&(0,N.r3)(s,"w")){const h=(0,N.DV)(s,"w");if(Array.isArray(h)&&~h.indexOf("no_index")){const E='".indexOn": "'+l._queryParams.getIndex().toString()+'"',b=l._path.toString();yr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${E} at ${b} to your security rules for better performance.`)}}}refreshAuthToken(s){this.authToken_=s,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(s)}reduceReconnectDelayIfAdminCredential_(s){(s&&40===s.length||(0,N.GJ)(s))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(s){this.appCheckToken_=s,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const s=this.authToken_,l=(0,N.w9)(s)?"auth":"gauth",h={cred:s};null===this.authOverride_?h.noauth=!0:"object"==typeof this.authOverride_&&(h.authvar=this.authOverride_),this.sendRequest(l,h,E=>{const b=E.s,P=E.d||"error";this.authToken_===s&&("ok"===b?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(b,P))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},s=>{const l=s.s,h=s.d||"error";"ok"===l?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,h)})}unlisten(s,l){const h=s._path.toString(),E=s._queryIdentifier;this.log_("Unlisten called for "+h+" "+E),(0,N.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(h,E)&&this.connected_&&this.sendUnlisten_(h,E,s._queryObject,l)}sendUnlisten_(s,l,h,E){this.log_("Unlisten on "+s+" for "+l);const b={p:s};E&&(b.q=h,b.t=E),this.sendRequest("n",b)}onDisconnectPut(s,l,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",s,l,h):this.onDisconnectRequestQueue_.push({pathString:s,action:"o",data:l,onComplete:h})}onDisconnectMerge(s,l,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",s,l,h):this.onDisconnectRequestQueue_.push({pathString:s,action:"om",data:l,onComplete:h})}onDisconnectCancel(s,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",s,null,l):this.onDisconnectRequestQueue_.push({pathString:s,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(s,l,h,E){const b={p:l,d:h};this.log_("onDisconnect "+s,b),this.sendRequest(s,b,P=>{E&&setTimeout(()=>{E(P.s,P.d)},Math.floor(0))})}put(s,l,h,E){this.putInternal("p",s,l,h,E)}merge(s,l,h,E){this.putInternal("m",s,l,h,E)}putInternal(s,l,h,E,b){this.initConnection_();const P={p:l,d:h};void 0!==b&&(P.h=b),this.outstandingPuts_.push({action:s,request:P,onComplete:E}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+l)}sendPut_(s){const l=this.outstandingPuts_[s].action,h=this.outstandingPuts_[s].request,E=this.outstandingPuts_[s].onComplete;this.outstandingPuts_[s].queued=this.connected_,this.sendRequest(l,h,b=>{this.log_(l+" response",b),delete this.outstandingPuts_[s],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),E&&E(b.s,b.d)})}reportStats(s){if(this.connected_){const l={c:s};this.log_("reportStats",l),this.sendRequest("s",l,h=>{"ok"!==h.s&&this.log_("reportStats","Error sending stats: "+h.d)})}}onDataMessage_(s){if("r"in s){this.log_("from server: "+(0,N.Wl)(s));const l=s.r,h=this.requestCBHash_[l];h&&(delete this.requestCBHash_[l],h(s.b))}else{if("error"in s)throw"A server-side error has occurred: "+s.error;"a"in s&&this.onDataPush_(s.a,s.b)}}onDataPush_(s,l){this.log_("handleServerMessage",s,l),"d"===s?this.onDataUpdate_(l.p,l.d,!1,l.t):"m"===s?this.onDataUpdate_(l.p,l.d,!0,l.t):"c"===s?this.onListenRevoked_(l.p,l.q):"ac"===s?this.onAuthRevoked_(l.s,l.d):"apc"===s?this.onAppCheckRevoked_(l.s,l.d):"sd"===s?this.onSecurityDebugPacket_(l):Ho("Unrecognized action received from server: "+(0,N.Wl)(s)+"\nAre you using the latest client?")}onReady_(s,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(s),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(s){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(s))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(s){s&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fi,this.realtime_||this.scheduleConnect_(0)),this.visible_=s}onOnline_(s){s?(this.log_("Browser went online."),this.reconnectDelay_=Fi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Fi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const s=(new Date).getTime()-this.lastConnectionAttemptTime_;let l=Math.max(0,this.reconnectDelay_-s);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var s=this;return(0,ct.Z)(function*(){if(s.shouldReconnect_()){s.log_("Making a connection attempt"),s.lastConnectionAttemptTime_=(new Date).getTime(),s.lastConnectionEstablishedTime_=null;const l=s.onDataMessage_.bind(s),h=s.onReady_.bind(s),E=s.onRealtimeDisconnect_.bind(s),b=s.id+":"+o.nextConnectionId_++,P=s.lastSessionId;let U=!1,$=null;const pe=function(){$?$.close():(U=!0,E())};s.realtime_={close:pe,sendRequest:function(Ge){(0,N.hu)($,"sendRequest call when we're not connected not allowed."),$.sendRequest(Ge)}};const be=s.forceTokenRefresh_;s.forceTokenRefresh_=!1;try{const[Ge,nt]=yield Promise.all([s.authTokenProvider_.getToken(be),s.appCheckTokenProvider_.getToken(be)]);U?Nn("getToken() completed but was canceled"):(Nn("getToken() completed. Creating connection."),s.authToken_=Ge&&Ge.accessToken,s.appCheckToken_=nt&&nt.token,$=new wl(b,s.repoInfo_,s.applicationId_,s.appCheckToken_,s.authToken_,l,h,E,Bt=>{yr(Bt+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},P))}catch(Ge){s.log_("Failed to get token: "+Ge),U||(s.repoInfo_.nodeAdmin&&yr(Ge),pe())}}})()}interrupt(s){Nn("Interrupting connection for reason: "+s),this.interruptReasons_[s]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(s){Nn("Resuming connection for reason: "+s),delete this.interruptReasons_[s],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Fi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(s){const l=s-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let s=0;s<this.outstandingPuts_.length;s++){const l=this.outstandingPuts_[s];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[s],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(s,l){let h;h=l?l.map(b=>fs(b)).join("$"):"default";const E=this.removeListen_(s,h);E&&E.onComplete&&E.onComplete("permission_denied")}removeListen_(s,l){const h=new _(s).toString();let E;if(this.listens.has(h)){const b=this.listens.get(h);E=b.get(l),b.delete(l),0===b.size&&this.listens.delete(h)}else E=void 0;return E}onAuthRevoked_(s,l){Nn("Auth token revoked: "+s+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===s||"permission_denied"===s)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(s,l){Nn("App check token revoked: "+s+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===s||"permission_denied"===s)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(s){this.securityDebugCallback_?this.securityDebugCallback_(s):"msg"in s&&console.log("FIREBASE: "+s.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const s of this.listens.values())for(const l of s.values())this.sendListen_(l);for(let s=0;s<this.outstandingPuts_.length;s++)this.outstandingPuts_[s]&&this.sendPut_(s);for(;this.onDisconnectRequestQueue_.length;){const s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(let s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}sendConnectStats_(){const s={};let l="js";(0,N.Yr)()&&(l=this.repoInfo_.nodeAdmin?"admin_node":"node"),s["sdk."+l+"."+gr.replace(/\./g,"-")]=1,(0,N.uI)()?s["framework.cordova"]=1:(0,N.b$)()&&(s["framework.reactnative"]=1),this.reportStats(s)}shouldReconnect_(){const s=Zs.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&s}}return o.nextPersistentConnectionId_=0,o.nextConnectionId_=0,o})();class Yt{constructor(r,s){this.name=r,this.node=s}static Wrap(r,s){return new Yt(r,s)}}class Ui{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,s){const l=new Yt(Ni,r),h=new Yt(Ni,s);return 0!==this.compare(l,h)}minPost(){return Yt.MIN}}class rd extends Ui{static get __EMPTY_NODE(){return ms}static set __EMPTY_NODE(r){ms=r}compare(r,s){return Oi(r.name,s.name)}isDefinedOn(r){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,s){return!1}minPost(){return Yt.MIN}maxPost(){return new Yt(pi,ms)}makePost(r,s){return(0,N.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new Yt(r,ms)}toString(){return".key"}}const Zi=new rd;class _s{constructor(r,s,l,h,E=null){this.isReverse_=h,this.resultGenerator_=E,this.nodeStack_=[];let b=1;for(;!r.isEmpty();)if(b=s?l(r.key,s):1,h&&(b*=-1),b<0)r=this.isReverse_?r.left:r.right;else{if(0===b){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let s,r=this.nodeStack_.pop();if(s=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let Xo,Br=(()=>{class o{constructor(s,l,h,E,b){this.key=s,this.value=l,this.color=h??o.RED,this.left=E??gi.EMPTY_NODE,this.right=b??gi.EMPTY_NODE}copy(s,l,h,E,b){return new o(s??this.key,l??this.value,h??this.color,E??this.left,b??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||!!s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,l,h){let E=this;const b=h(s,E.key);return E=b<0?E.copy(null,null,null,E.left.insert(s,l,h),null):0===b?E.copy(null,l,null,null,null):E.copy(null,null,null,null,E.right.insert(s,l,h)),E.fixUp_()}removeMin_(){if(this.left.isEmpty())return gi.EMPTY_NODE;let s=this;return!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.removeMin_(),null),s.fixUp_()}remove(s,l){let h,E;if(h=this,l(s,h.key)<0)!h.left.isEmpty()&&!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.remove(s,l),null);else{if(h.left.isRed_()&&(h=h.rotateRight_()),!h.right.isEmpty()&&!h.right.isRed_()&&!h.right.left.isRed_()&&(h=h.moveRedRight_()),0===l(s,h.key)){if(h.right.isEmpty())return gi.EMPTY_NODE;E=h.right.min_(),h=h.copy(E.key,E.value,null,null,h.right.removeMin_())}h=h.copy(null,null,null,null,h.right.remove(s,l))}return h.fixUp_()}isRed_(){return this.color}fixUp_(){let s=this;return s.right.isRed_()&&!s.left.isRed_()&&(s=s.rotateLeft_()),s.left.isRed_()&&s.left.left.isRed_()&&(s=s.rotateRight_()),s.left.isRed_()&&s.right.isRed_()&&(s=s.colorFlip_()),s}moveRedLeft_(){let s=this.colorFlip_();return s.right.left.isRed_()&&(s=s.copy(null,null,null,null,s.right.rotateRight_()),s=s.rotateLeft_(),s=s.colorFlip_()),s}moveRedRight_(){let s=this.colorFlip_();return s.left.left.isRed_()&&(s=s.rotateRight_(),s=s.colorFlip_()),s}rotateLeft_(){const s=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight_(){const s=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip_(){const s=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,l)}checkMaxDepth_(){const s=this.check_();return Math.pow(2,s)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const s=this.left.check_();if(s!==this.right.check_())throw new Error("Black depths differ");return s+(this.isRed_()?0:1)}}return o.RED=!0,o.BLACK=!1,o})();class gi{constructor(r,s=gi.EMPTY_NODE){this.comparator_=r,this.root_=s}insert(r,s){return new gi(this.comparator_,this.root_.insert(r,s,this.comparator_).copy(null,null,Br.BLACK,null,null))}remove(r){return new gi(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,Br.BLACK,null,null))}get(r){let s,l=this.root_;for(;!l.isEmpty();){if(s=this.comparator_(r,l.key),0===s)return l.value;s<0?l=l.left:s>0&&(l=l.right)}return null}getPredecessorKey(r){let s,l=this.root_,h=null;for(;!l.isEmpty();){if(s=this.comparator_(r,l.key),0===s){if(l.left.isEmpty())return h?h.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}s<0?l=l.left:s>0&&(h=l,l=l.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new _s(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,s){return new _s(this.root_,r,this.comparator_,!1,s)}getReverseIteratorFrom(r,s){return new _s(this.root_,r,this.comparator_,!0,s)}getReverseIterator(r){return new _s(this.root_,null,this.comparator_,!0,r)}}function bf(o,r){return Oi(o.name,r.name)}function id(o,r){return Oi(o,r)}gi.EMPTY_NODE=new class oc{copy(r,s,l,h,E){return this}insert(r,s,l){return new Br(r,s,null)}remove(r,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const sd=function(o){return"number"==typeof o?"number:"+x(o):"string:"+o},Va=function(o){if(o.isLeafNode()){const r=o.val();(0,N.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,N.r3)(r,".sv"),"Priority must be a string or number.")}else(0,N.hu)(o===Xo||o.isEmpty(),"priority of unexpected type.");(0,N.hu)(o===Xo||o.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ha,ac,uc,Ys=(()=>{class o{constructor(s,l=o.__childrenNodeConstructor.EMPTY_NODE){this.value_=s,this.priorityNode_=l,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Va(this.priorityNode_)}static set __childrenNodeConstructor(s){Ha=s}static get __childrenNodeConstructor(){return Ha}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(s){return new o(this.value_,s)}getImmediateChild(s){return".priority"===s?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}getChild(s){return qe(s)?this:".priority"===m(s)?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(s,l){return null}updateImmediateChild(s,l){return".priority"===s?this.updatePriority(l):l.isEmpty()&&".priority"!==s?this:o.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(s,l).updatePriority(this.priorityNode_)}updateChild(s,l){const h=m(s);return null===h?l:l.isEmpty()&&".priority"!==h?this:((0,N.hu)(".priority"!==h||1===w(s),".priority must be the last token in a path"),this.updateImmediateChild(h,o.__childrenNodeConstructor.EMPTY_NODE.updateChild(S(s),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(s,l){return!1}val(s){return s&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let s="";this.priorityNode_.isEmpty()||(s+="priority:"+sd(this.priorityNode_.val())+":");const l=typeof this.value_;s+=l+":",s+="number"===l?x(this.value_):this.value_,this.lazyHash_=go(s)}return this.lazyHash_}getValue(){return this.value_}compareTo(s){return s===o.__childrenNodeConstructor.EMPTY_NODE?1:s instanceof o.__childrenNodeConstructor?-1:((0,N.hu)(s.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(s))}compareToLeafNode_(s){const l=typeof s.value_,h=typeof this.value_,E=o.VALUE_TYPE_ORDER.indexOf(l),b=o.VALUE_TYPE_ORDER.indexOf(h);return(0,N.hu)(E>=0,"Unknown leaf type: "+l),(0,N.hu)(b>=0,"Unknown leaf type: "+h),E===b?"object"===h?0:this.value_<s.value_?-1:this.value_===s.value_?0:1:b-E}withIndex(){return this}isIndexed(){return!0}equals(s){return s===this||!!s.isLeafNode()&&(this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_))}}return o.VALUE_TYPE_ORDER=["object","boolean","number","string"],o})();const En=new class vs extends Ui{compare(r,s){const l=r.node.getPriority(),h=s.node.getPriority(),E=l.compareTo(h);return 0===E?Oi(r.name,s.name):E}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,s){return!r.getPriority().equals(s.getPriority())}minPost(){return Yt.MIN}maxPost(){return new Yt(pi,new Ys("[PRIORITY-POST]",uc))}makePost(r,s){const l=ac(r);return new Yt(s,new Ys("[PRIORITY-POST]",l))}toString(){return".priority"}},Al=Math.log(2);class cc{constructor(r){this.count=parseInt(Math.log(r+1)/Al,10),this.current_=this.count-1;const h=(E=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&h}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const Jo=function(o,r,s,l){o.sort(r);const h=function(U,$){const pe=$-U;let Ee,be;if(0===pe)return null;if(1===pe)return Ee=o[U],be=s?s(Ee):Ee,new Br(be,Ee.node,Br.BLACK,null,null);{const Ge=parseInt(pe/2,10)+U,nt=h(U,Ge),Bt=h(Ge+1,$);return Ee=o[Ge],be=s?s(Ee):Ee,new Br(be,Ee.node,Br.BLACK,nt,Bt)}},P=function(U){let $=null,pe=null,Ee=o.length;const be=function(nt,Bt){const Jt=Ee-nt,Kn=Ee;Ee-=nt;const jn=h(Jt+1,Kn),Fn=o[Jt],Or=s?s(Fn):Fn;Ge(new Br(Or,Fn.node,Bt,null,jn))},Ge=function(nt){$?($.left=nt,$=nt):(pe=nt,$=nt)};for(let nt=0;nt<U.count;++nt){const Bt=U.nextBitIsOne(),Jt=Math.pow(2,U.count-(nt+1));Bt?be(Jt,Br.BLACK):(be(Jt,Br.BLACK),be(Jt,Br.RED))}return pe}(new cc(o.length));return new gi(l||r,P)};let Co;const ys={};class qs{constructor(r,s){this.indexes_=r,this.indexSet_=s}static get Default(){return(0,N.hu)(ys&&En,"ChildrenNode.ts has not been loaded"),Co=Co||new qs({".priority":ys},{".priority":En}),Co}get(r){const s=(0,N.DV)(this.indexes_,r);if(!s)throw new Error("No index defined for "+r);return s instanceof gi?s:null}hasIndex(r){return(0,N.r3)(this.indexSet_,r.toString())}addIndex(r,s){(0,N.hu)(r!==Zi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let h=!1;const E=s.getIterator(Yt.Wrap);let P,b=E.getNext();for(;b;)h=h||r.isDefinedOn(b.node),l.push(b),b=E.getNext();P=h?Jo(l,r.getCompare()):ys;const U=r.toString(),$=Object.assign({},this.indexSet_);$[U]=r;const pe=Object.assign({},this.indexes_);return pe[U]=P,new qs(pe,$)}addToIndexes(r,s){const l=(0,N.UI)(this.indexes_,(h,E)=>{const b=(0,N.DV)(this.indexSet_,E);if((0,N.hu)(b,"Missing index implementation for "+E),h===ys){if(b.isDefinedOn(r.node)){const P=[],U=s.getIterator(Yt.Wrap);let $=U.getNext();for(;$;)$.name!==r.name&&P.push($),$=U.getNext();return P.push(r),Jo(P,b.getCompare())}return ys}{const P=s.get(r.name);let U=h;return P&&(U=U.remove(new Yt(r.name,P))),U.insert(r,r.node)}});return new qs(l,this.indexSet_)}removeFromIndexes(r,s){const l=(0,N.UI)(this.indexes_,h=>{if(h===ys)return h;{const E=s.get(r.name);return E?h.remove(new Yt(r.name,E)):h}});return new qs(l,this.indexSet_)}}let wo,Ft=(()=>{class o{constructor(s,l,h){this.children_=s,this.priorityNode_=l,this.indexMap_=h,this.lazyHash_=null,this.priorityNode_&&Va(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return wo||(wo=new o(new gi(id),null,qs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wo}updatePriority(s){return this.children_.isEmpty()?this:new o(this.children_,s,this.indexMap_)}getImmediateChild(s){if(".priority"===s)return this.getPriority();{const l=this.children_.get(s);return null===l?wo:l}}getChild(s){const l=m(s);return null===l?this:this.getImmediateChild(l).getChild(S(s))}hasChild(s){return null!==this.children_.get(s)}updateImmediateChild(s,l){if((0,N.hu)(l,"We should always be passing snapshot nodes"),".priority"===s)return this.updatePriority(l);{const h=new Yt(s,l);let E,b;l.isEmpty()?(E=this.children_.remove(s),b=this.indexMap_.removeFromIndexes(h,this.children_)):(E=this.children_.insert(s,l),b=this.indexMap_.addToIndexes(h,this.children_));const P=E.isEmpty()?wo:this.priorityNode_;return new o(E,P,b)}}updateChild(s,l){const h=m(s);if(null===h)return l;{(0,N.hu)(".priority"!==m(s)||1===w(s),".priority must be the last token in a path");const E=this.getImmediateChild(h).updateChild(S(s),l);return this.updateImmediateChild(h,E)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(s){if(this.isEmpty())return null;const l={};let h=0,E=0,b=!0;if(this.forEachChild(En,(P,U)=>{l[P]=U.val(s),h++,b&&o.INTEGER_REGEXP_.test(P)?E=Math.max(E,Number(P)):b=!1}),!s&&b&&E<2*h){const P=[];for(const U in l)P[U]=l[U];return P}return s&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(null===this.lazyHash_){let s="";this.getPriority().isEmpty()||(s+="priority:"+sd(this.getPriority().val())+":"),this.forEachChild(En,(l,h)=>{const E=h.hash();""!==E&&(s+=":"+l+":"+E)}),this.lazyHash_=""===s?"":go(s)}return this.lazyHash_}getPredecessorChildName(s,l,h){const E=this.resolveIndex_(h);if(E){const b=E.getPredecessorKey(new Yt(s,l));return b?b.name:null}return this.children_.getPredecessorKey(s)}getFirstChildName(s){const l=this.resolveIndex_(s);if(l){const h=l.minKey();return h&&h.name}return this.children_.minKey()}getFirstChild(s){const l=this.getFirstChildName(s);return l?new Yt(l,this.children_.get(l)):null}getLastChildName(s){const l=this.resolveIndex_(s);if(l){const h=l.maxKey();return h&&h.name}return this.children_.maxKey()}getLastChild(s){const l=this.getLastChildName(s);return l?new Yt(l,this.children_.get(l)):null}forEachChild(s,l){const h=this.resolveIndex_(s);return h?h.inorderTraversal(E=>l(E.name,E.node)):this.children_.inorderTraversal(l)}getIterator(s){return this.getIteratorFrom(s.minPost(),s)}getIteratorFrom(s,l){const h=this.resolveIndex_(l);if(h)return h.getIteratorFrom(s,E=>E);{const E=this.children_.getIteratorFrom(s.name,Yt.Wrap);let b=E.peek();for(;null!=b&&l.compare(b,s)<0;)E.getNext(),b=E.peek();return E}}getReverseIterator(s){return this.getReverseIteratorFrom(s.maxPost(),s)}getReverseIteratorFrom(s,l){const h=this.resolveIndex_(l);if(h)return h.getReverseIteratorFrom(s,E=>E);{const E=this.children_.getReverseIteratorFrom(s.name,Yt.Wrap);let b=E.peek();for(;null!=b&&l.compare(b,s)>0;)E.getNext(),b=E.peek();return E}}compareTo(s){return this.isEmpty()?s.isEmpty()?0:-1:s.isLeafNode()||s.isEmpty()?1:s===$a?-1:0}withIndex(s){if(s===Zi||this.indexMap_.hasIndex(s))return this;{const l=this.indexMap_.addIndex(s,this.children_);return new o(this.children_,this.priorityNode_,l)}}isIndexed(s){return s===Zi||this.indexMap_.hasIndex(s)}equals(s){if(s===this)return!0;if(s.isLeafNode())return!1;{const l=s;if(this.getPriority().equals(l.getPriority())){if(this.children_.count()===l.children_.count()){const h=this.getIterator(En),E=l.getIterator(En);let b=h.getNext(),P=E.getNext();for(;b&&P;){if(b.name!==P.name||!b.node.equals(P.node))return!1;b=h.getNext(),P=E.getNext()}return null===b&&null===P}return!1}return!1}}resolveIndex_(s){return s===Zi?null:this.indexMap_.get(s.toString())}}return o.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,o})();const $a=new class dc extends Ft{constructor(){super(new gi(id),Ft.EMPTY_NODE,qs.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return Ft.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Yt,{MIN:{value:new Yt(Ni,Ft.EMPTY_NODE)},MAX:{value:new Yt(pi,$a)}}),rd.__EMPTY_NODE=Ft.EMPTY_NODE,Ys.__childrenNodeConstructor=Ft,function ja(o){Xo=o}($a),function lc(o){uc=o}($a);const dh=!0;function Mn(o,r=null){if(null===o)return Ft.EMPTY_NODE;if("object"==typeof o&&".priority"in o&&(r=o[".priority"]),(0,N.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof o&&".value"in o&&null!==o[".value"]&&(o=o[".value"]),"object"!=typeof o||".sv"in o)return new Ys(o,Mn(r));if(o instanceof Array||!dh){let s=Ft.EMPTY_NODE;return I(o,(l,h)=>{if((0,N.r3)(o,l)&&"."!==l.substring(0,1)){const E=Mn(h);(E.isLeafNode()||!E.isEmpty())&&(s=s.updateImmediateChild(l,E))}}),s.updatePriority(Mn(r))}{const s=[];let l=!1;if(I(o,(b,P)=>{if("."!==b.substring(0,1)){const U=Mn(P);U.isEmpty()||(l=l||!U.getPriority().isEmpty(),s.push(new Yt(b,U)))}}),0===s.length)return Ft.EMPTY_NODE;const E=Jo(s,bf,b=>b.name,id);if(l){const b=Jo(s,En.getCompare());return new Ft(E,Mn(r),new qs({".priority":b},{".priority":En}))}return new Ft(E,Mn(r),qs.Default)}}!function Sl(o){ac=o}(Mn);class Qs extends Ui{constructor(r){super(),this.indexPath_=r,(0,N.hu)(!qe(r)&&".priority"!==m(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,s){const l=this.extractChild(r.node),h=this.extractChild(s.node),E=l.compareTo(h);return 0===E?Oi(r.name,s.name):E}makePost(r,s){const l=Mn(r),h=Ft.EMPTY_NODE.updateChild(this.indexPath_,l);return new Yt(s,h)}maxPost(){const r=Ft.EMPTY_NODE.updateChild(this.indexPath_,$a);return new Yt(pi,r)}toString(){return ye(this.indexPath_,0).join("/")}}const Wa=new class hh extends Ui{compare(r,s){const l=r.node.compareTo(s.node);return 0===l?Oi(r.name,s.name):l}isDefinedOn(r){return!0}indexedValueChanged(r,s){return!r.equals(s)}minPost(){return Yt.MIN}maxPost(){return Yt.MAX}makePost(r,s){const l=Mn(r);return new Yt(s,l)}toString(){return".value"}};function hc(o){return{type:"value",snapshotNode:o}}function Es(o,r){return{type:"child_added",snapshotNode:r,childName:o}}function ea(o,r){return{type:"child_removed",snapshotNode:r,childName:o}}function mr(o,r,s){return{type:"child_changed",snapshotNode:r,childName:o,oldSnap:s}}class ta{constructor(r){this.index_=r}updateChild(r,s,l,h,E,b){(0,N.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const P=r.getImmediateChild(s);return P.getChild(h).equals(l.getChild(h))&&P.isEmpty()===l.isEmpty()||(null!=b&&(l.isEmpty()?r.hasChild(s)?b.trackChildChange(ea(s,P)):(0,N.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):P.isEmpty()?b.trackChildChange(Es(s,l)):b.trackChildChange(mr(s,l,P))),r.isLeafNode()&&l.isEmpty())?r:r.updateImmediateChild(s,l).withIndex(this.index_)}updateFullNode(r,s,l){return null!=l&&(r.isLeafNode()||r.forEachChild(En,(h,E)=>{s.hasChild(h)||l.trackChildChange(ea(h,E))}),s.isLeafNode()||s.forEachChild(En,(h,E)=>{if(r.hasChild(h)){const b=r.getImmediateChild(h);b.equals(E)||l.trackChildChange(mr(h,E,b))}else l.trackChildChange(Es(h,E))})),s.withIndex(this.index_)}updatePriority(r,s){return r.isEmpty()?Ft.EMPTY_NODE:r.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Xs{constructor(r){this.indexedFilter_=new ta(r.getIndex()),this.index_=r.getIndex(),this.startPost_=Xs.getStartPost_(r),this.endPost_=Xs.getEndPost_(r),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),r)<=0:this.index_.compare(this.getStartPost(),r)<0,l=this.endIsInclusive_?this.index_.compare(r,this.getEndPost())<=0:this.index_.compare(r,this.getEndPost())<0;return s&&l}updateChild(r,s,l,h,E,b){return this.matches(new Yt(s,l))||(l=Ft.EMPTY_NODE),this.indexedFilter_.updateChild(r,s,l,h,E,b)}updateFullNode(r,s,l){s.isLeafNode()&&(s=Ft.EMPTY_NODE);let h=s.withIndex(this.index_);h=h.updatePriority(Ft.EMPTY_NODE);const E=this;return s.forEachChild(En,(b,P)=>{E.matches(new Yt(b,P))||(h=h.updateImmediateChild(b,Ft.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,h,l)}updatePriority(r,s){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const s=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),s)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const s=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),s)}return r.getIndex().maxPost()}}class od{constructor(r){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=s=>{const l=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new Xs(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft(),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}updateChild(r,s,l,h,E,b){return this.rangedFilter_.matches(new Yt(s,l))||(l=Ft.EMPTY_NODE),r.getImmediateChild(s).equals(l)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,s,l,h,E,b):this.fullLimitUpdateChild_(r,s,l,E,b)}updateFullNode(r,s,l){let h;if(s.isLeafNode()||s.isEmpty())h=Ft.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<s.numChildren()&&s.isIndexed(this.index_)){let E;h=Ft.EMPTY_NODE.withIndex(this.index_),E=this.reverse_?s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let b=0;for(;E.hasNext()&&b<this.limit_;){const P=E.getNext();if(this.withinDirectionalStart(P)){if(!this.withinDirectionalEnd(P))break;h=h.updateImmediateChild(P.name,P.node),b++}}}else{let E;h=s.withIndex(this.index_),h=h.updatePriority(Ft.EMPTY_NODE),E=this.reverse_?h.getReverseIterator(this.index_):h.getIterator(this.index_);let b=0;for(;E.hasNext();){const P=E.getNext();b<this.limit_&&this.withinDirectionalStart(P)&&this.withinDirectionalEnd(P)?b++:h=h.updateImmediateChild(P.name,Ft.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,h,l)}updatePriority(r,s){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,s,l,h,E){let b;if(this.reverse_){const Ee=this.index_.getCompare();b=(be,Ge)=>Ee(Ge,be)}else b=this.index_.getCompare();const P=r;(0,N.hu)(P.numChildren()===this.limit_,"");const U=new Yt(s,l),$=this.reverse_?P.getFirstChild(this.index_):P.getLastChild(this.index_),pe=this.rangedFilter_.matches(U);if(P.hasChild(s)){const Ee=P.getImmediateChild(s);let be=h.getChildAfterChild(this.index_,$,this.reverse_);for(;null!=be&&(be.name===s||P.hasChild(be.name));)be=h.getChildAfterChild(this.index_,be,this.reverse_);const Ge=null==be?1:b(be,U);if(pe&&!l.isEmpty()&&Ge>=0)return E?.trackChildChange(mr(s,l,Ee)),P.updateImmediateChild(s,l);{E?.trackChildChange(ea(s,Ee));const Bt=P.updateImmediateChild(s,Ft.EMPTY_NODE);return null!=be&&this.rangedFilter_.matches(be)?(E?.trackChildChange(Es(be.name,be.node)),Bt.updateImmediateChild(be.name,be.node)):Bt}}return l.isEmpty()?r:pe&&b($,U)>=0?(null!=E&&(E.trackChildChange(ea($.name,$.node)),E.trackChildChange(Es(s,l))),P.updateImmediateChild(s,l).updateImmediateChild($.name,Ft.EMPTY_NODE)):r}}class na{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=En}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ni}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===En}copy(){const r=new na;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.startAfterSet_=this.startAfterSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.endBeforeSet_=this.endBeforeSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function Js(o,r,s){const l=o.copy();return l.startSet_=!0,void 0===r&&(r=null),l.indexStartValue_=r,null!=s?(l.startNameSet_=!0,l.indexStartName_=s):(l.startNameSet_=!1,l.indexStartName_=""),l}function za(o,r,s){const l=o.copy();return l.endSet_=!0,void 0===r&&(r=null),l.indexEndValue_=r,void 0!==s?(l.endNameSet_=!0,l.indexEndName_=s):(l.endNameSet_=!1,l.indexEndName_=""),l}function gc(o,r){const s=o.copy();return s.index_=r,s}function ud(o){const r={};if(o.isDefault())return r;let s;if(o.index_===En?s="$priority":o.index_===Wa?s="$value":o.index_===Zi?s="$key":((0,N.hu)(o.index_ instanceof Qs,"Unrecognized index type!"),s=o.index_.toString()),r.orderBy=(0,N.Wl)(s),o.startSet_){const l=o.startAfterSet_?"startAfter":"startAt";r[l]=(0,N.Wl)(o.indexStartValue_),o.startNameSet_&&(r[l]+=","+(0,N.Wl)(o.indexStartName_))}if(o.endSet_){const l=o.endBeforeSet_?"endBefore":"endAt";r[l]=(0,N.Wl)(o.indexEndValue_),o.endNameSet_&&(r[l]+=","+(0,N.Wl)(o.indexEndName_))}return o.limitSet_&&(o.isViewFromLeft()?r.limitToFirst=o.limit_:r.limitToLast=o.limit_),r}function fh(o){const r={};if(o.startSet_&&(r.sp=o.indexStartValue_,o.startNameSet_&&(r.sn=o.indexStartName_),r.sin=!o.startAfterSet_),o.endSet_&&(r.ep=o.indexEndValue_,o.endNameSet_&&(r.en=o.indexEndName_),r.ein=!o.endBeforeSet_),o.limitSet_){r.l=o.limit_;let s=o.viewFrom_;""===s&&(s=o.isViewFromLeft()?"l":"r"),r.vf=s}return o.index_!==En&&(r.i=o.index_.toString()),r}class Zu extends Hu{constructor(r,s,l,h){super(),this.repoInfo_=r,this.onDataUpdate_=s,this.authTokenProvider_=l,this.appCheckTokenProvider_=h,this.log_=Pi("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,s){return void 0!==s?"tag$"+s:((0,N.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,s,l,h){const E=r._path.toString();this.log_("Listen called for "+E+" "+r._queryIdentifier);const b=Zu.getListenId_(r,l),P={};this.listens_[b]=P;const U=ud(r._queryParams);this.restRequest_(E+".json",U,($,pe)=>{let Ee=pe;if(404===$&&(Ee=null,$=null),null===$&&this.onDataUpdate_(E,Ee,!1,l),(0,N.DV)(this.listens_,b)===P){let be;be=$?401===$?"permission_denied":"rest_error:"+$:"ok",h(be,null)}})}unlisten(r,s){const l=Zu.getListenId_(r,s);delete this.listens_[l]}get(r){const s=ud(r._queryParams),l=r._path.toString(),h=new N.BH;return this.restRequest_(l+".json",s,(E,b)=>{let P=b;404===E&&(P=null,E=null),null===E?(this.onDataUpdate_(l,P,!1,null),h.resolve(P)):h.reject(new Error(P))}),h.promise}refreshAuthToken(r){}restRequest_(r,s={},l){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([h,E])=>{h&&h.accessToken&&(s.auth=h.accessToken),E&&E.token&&(s.ac=E.token);const b=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,N.xO)(s);this.log_("Sending REST request for "+b);const P=new XMLHttpRequest;P.onreadystatechange=()=>{if(l&&4===P.readyState){this.log_("REST Response for "+b+" received. status:",P.status,"response:",P.responseText);let U=null;if(P.status>=200&&P.status<300){try{U=(0,N.cI)(P.responseText)}catch{yr("Failed to parse JSON response for "+b+": "+P.responseText)}l(null,U)}else 401!==P.status&&404!==P.status&&yr("Got unsuccessful REST response for "+b+" Status: "+P.status),l(P.status);l=null}},P.open("GET",b,!0),P.send()})}}class Tf{constructor(){this.rootNode_=Ft.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,s){this.rootNode_=this.rootNode_.updateChild(r,s)}}function mc(){return{value:null,children:new Map}}function Ga(o,r,s){if(qe(r))o.value=s,o.children.clear();else if(null!==o.value)o.value=o.value.updateChild(r,s);else{const l=m(r);o.children.has(l)||o.children.set(l,mc()),Ga(o.children.get(l),r=S(r),s)}}function ld(o,r){if(qe(r))return o.value=null,o.children.clear(),!0;if(null!==o.value){if(o.value.isLeafNode())return!1;{const s=o.value;return o.value=null,s.forEachChild(En,(l,h)=>{Ga(o,new _(l),h)}),ld(o,r)}}if(o.children.size>0){const s=m(r);return r=S(r),o.children.has(s)&&ld(o.children.get(s),r)&&o.children.delete(s),0===o.children.size}return!0}function Ki(o,r,s){null!==o.value?s(r,o.value):function ph(o,r){o.children.forEach((s,l)=>{r(l,s)})}(o,(l,h)=>{Ki(h,new _(r.toString()+"/"+l),s)})}class gh{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),s=Object.assign({},r);return this.last_&&I(this.last_,(l,h)=>{s[l]=s[l]-h}),this.last_=r,s}}class _h{constructor(r,s){this.server_=s,this.statsToReport_={},this.statsListener_=new gh(r);const l=1e4+2e4*Math.random();Nt(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const r=this.statsListener_.get(),s={};let l=!1;I(r,(h,E)=>{E>0&&(0,N.r3)(this.statsToReport_,h)&&(s[h]=E,l=!0)}),l&&this.server_.reportStats(s),Nt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var rr=function(o){return o[o.OVERWRITE=0]="OVERWRITE",o[o.MERGE=1]="MERGE",o[o.ACK_USER_WRITE=2]="ACK_USER_WRITE",o[o.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",o}(rr||{});function Ka(o){return{fromUser:!1,fromServer:!0,queryId:o,tagged:!0}}class So{constructor(r,s,l){this.path=r,this.affectedTree=s,this.revert=l,this.type=rr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(qe(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new _(r));return new So(D(),s,this.revert)}}return(0,N.hu)(m(this.path)===r,"operationForChild called for unrelated child."),new So(S(this.path),this.affectedTree,this.revert)}}class Yu{constructor(r,s){this.source=r,this.path=s,this.type=rr.LISTEN_COMPLETE}operationForChild(r){return qe(this.path)?new Yu(this.source,D()):new Yu(this.source,S(this.path))}}class Ya{constructor(r,s,l){this.source=r,this.path=s,this.snap=l,this.type=rr.OVERWRITE}operationForChild(r){return qe(this.path)?new Ya(this.source,D(),this.snap.getImmediateChild(r)):new Ya(this.source,S(this.path),this.snap)}}class qa{constructor(r,s,l){this.source=r,this.path=s,this.children=l,this.type=rr.MERGE}operationForChild(r){if(qe(this.path)){const s=this.children.subtree(new _(r));return s.isEmpty()?null:s.value?new Ya(this.source,D(),s.value):new qa(this.source,D(),s)}return(0,N.hu)(m(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new qa(this.source,S(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ao{constructor(r,s,l){this.node_=r,this.fullyInitialized_=s,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(qe(r))return this.isFullyInitialized()&&!this.filtered_;const s=m(r);return this.isCompleteForChild(s)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class wi{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function Is(o,r,s,l,h,E){const b=l.filter(P=>P.type===s);b.sort((P,U)=>function cd(o,r,s){if(null==r.childName||null==s.childName)throw(0,N.g5)("Should only compare child_ events.");const l=new Yt(r.childName,r.snapshotNode),h=new Yt(s.childName,s.snapshotNode);return o.index_.compare(l,h)}(o,P,U)),b.forEach(P=>{const U=function Sf(o,r,s){return"value"===r.type||"child_removed"===r.type||(r.prevName=s.getPredecessorChildName(r.childName,r.snapshotNode,o.index_)),r}(o,P,E);h.forEach($=>{$.respondsTo(P.type)&&r.push($.createEvent(U,o.query_))})})}function Qa(o,r){return{eventCache:o,serverCache:r}}function sa(o,r,s,l){return Qa(new Ao(r,s,l),o.serverCache)}function dd(o,r,s,l){return Qa(o.eventCache,new Ao(r,s,l))}function Xa(o){return o.eventCache.isFullyInitialized()?o.eventCache.getNode():null}function oa(o){return o.serverCache.isFullyInitialized()?o.serverCache.getNode():null}let Rl;class vn{constructor(r,s=(()=>(Rl||(Rl=new gi(Pa)),Rl))()){this.value=r,this.children=s}static fromObject(r){let s=new vn(null);return I(r,(l,h)=>{s=s.set(new _(l),h)}),s}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,s){if(null!=this.value&&s(this.value))return{path:D(),value:this.value};if(qe(r))return null;{const l=m(r),h=this.children.get(l);if(null!==h){const E=h.findRootMostMatchingPathAndValue(S(r),s);return null!=E?{path:$e(new _(l),E.path),value:E.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(qe(r))return this;{const s=m(r),l=this.children.get(s);return null!==l?l.subtree(S(r)):new vn(null)}}set(r,s){if(qe(r))return new vn(s,this.children);{const l=m(r),E=(this.children.get(l)||new vn(null)).set(S(r),s),b=this.children.insert(l,E);return new vn(this.value,b)}}remove(r){if(qe(r))return this.children.isEmpty()?new vn(null):new vn(null,this.children);{const s=m(r),l=this.children.get(s);if(l){const h=l.remove(S(r));let E;return E=h.isEmpty()?this.children.remove(s):this.children.insert(s,h),null===this.value&&E.isEmpty()?new vn(null):new vn(this.value,E)}return this}}get(r){if(qe(r))return this.value;{const s=m(r),l=this.children.get(s);return l?l.get(S(r)):null}}setTree(r,s){if(qe(r))return s;{const l=m(r),E=(this.children.get(l)||new vn(null)).setTree(S(r),s);let b;return b=E.isEmpty()?this.children.remove(l):this.children.insert(l,E),new vn(this.value,b)}}fold(r){return this.fold_(D(),r)}fold_(r,s){const l={};return this.children.inorderTraversal((h,E)=>{l[h]=E.fold_($e(r,h),s)}),s(r,this.value,l)}findOnPath(r,s){return this.findOnPath_(r,D(),s)}findOnPath_(r,s,l){const h=!!this.value&&l(s,this.value);if(h)return h;if(qe(r))return null;{const E=m(r),b=this.children.get(E);return b?b.findOnPath_(S(r),$e(s,E),l):null}}foreachOnPath(r,s){return this.foreachOnPath_(r,D(),s)}foreachOnPath_(r,s,l){if(qe(r))return this;{this.value&&l(s,this.value);const h=m(r),E=this.children.get(h);return E?E.foreachOnPath_(S(r),$e(s,h),l):new vn(null)}}foreach(r){this.foreach_(D(),r)}foreach_(r,s){this.children.inorderTraversal((l,h)=>{h.foreach_($e(r,l),s)}),this.value&&s(r,this.value)}foreachChild(r){this.children.inorderTraversal((s,l)=>{l.value&&r(s,l.value)})}}class Yi{constructor(r){this.writeTree_=r}static empty(){return new Yi(new vn(null))}}function aa(o,r,s){if(qe(r))return new Yi(new vn(s));{const l=o.writeTree_.findRootMostValueAndPath(r);if(null!=l){const h=l.path;let E=l.value;const b=wt(h,r);return E=E.updateChild(b,s),new Yi(o.writeTree_.set(h,E))}{const h=new vn(s),E=o.writeTree_.setTree(r,h);return new Yi(E)}}}function qu(o,r,s){let l=o;return I(s,(h,E)=>{l=aa(l,$e(r,h),E)}),l}function Ja(o,r){if(qe(r))return Yi.empty();{const s=o.writeTree_.setTree(r,new vn(null));return new Yi(s)}}function eu(o,r){return null!=eo(o,r)}function eo(o,r){const s=o.writeTree_.findRootMostValueAndPath(r);return null!=s?o.writeTree_.get(s.path).getChild(wt(s.path,r)):null}function Qu(o){const r=[],s=o.writeTree_.value;return null!=s?s.isLeafNode()||s.forEachChild(En,(l,h)=>{r.push(new Yt(l,h))}):o.writeTree_.children.inorderTraversal((l,h)=>{null!=h.value&&r.push(new Yt(l,h.value))}),r}function qi(o,r){if(qe(r))return o;{const s=eo(o,r);return new Yi(null!=s?new vn(s):o.writeTree_.subtree(r))}}function Ml(o){return o.writeTree_.isEmpty()}function tu(o,r){return hd(D(),o.writeTree_,r)}function hd(o,r,s){if(null!=r.value)return s.updateChild(o,r.value);{let l=null;return r.children.inorderTraversal((h,E)=>{".priority"===h?((0,N.hu)(null!==E.value,"Priority writes must always be leaf nodes"),l=E.value):s=hd($e(o,h),E,s)}),!s.getChild(o).isEmpty()&&null!==l&&(s=s.updateChild($e(o,".priority"),l)),s}}function to(o,r){return Ec(r,o)}function ua(o,r){if(o.snap)return lr(o.path,r);for(const s in o.children)if(o.children.hasOwnProperty(s)&&lr($e(o.path,s),r))return!0;return!1}function yh(o){return o.visible}function Pl(o,r,s){let l=Yi.empty();for(let h=0;h<o.length;++h){const E=o[h];if(r(E)){const b=E.path;let P;if(E.snap)lr(s,b)?(P=wt(s,b),l=aa(l,P,E.snap)):lr(b,s)&&(P=wt(b,s),l=aa(l,D(),E.snap.getChild(P)));else{if(!E.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(lr(s,b))P=wt(s,b),l=qu(l,P,E.children);else if(lr(b,s))if(P=wt(b,s),qe(P))l=qu(l,D(),E.children);else{const U=(0,N.DV)(E.children,m(P));if(U){const $=U.getChild(S(P));l=aa(l,D(),$)}}}}}return l}function pd(o,r,s,l,h){if(l||h){const E=qi(o.visibleWrites,r);return!h&&Ml(E)?s:h||null!=s||eu(E,D())?tu(Pl(o.allWrites,function($){return($.visible||h)&&(!l||!~l.indexOf($.writeId))&&(lr($.path,r)||lr(r,$.path))},r),s||Ft.EMPTY_NODE):null}{const E=eo(o.visibleWrites,r);if(null!=E)return E;{const b=qi(o.visibleWrites,r);return Ml(b)?s:null!=s||eu(b,D())?tu(b,s||Ft.EMPTY_NODE):null}}}function Xu(o,r,s,l){return pd(o.writeTree,o.treePath,r,s,l)}function yc(o,r){return function ru(o,r,s){let l=Ft.EMPTY_NODE;const h=eo(o.visibleWrites,r);if(h)return h.isLeafNode()||h.forEachChild(En,(E,b)=>{l=l.updateImmediateChild(E,b)}),l;if(s){const E=qi(o.visibleWrites,r);return s.forEachChild(En,(b,P)=>{const U=tu(qi(E,new _(b)),P);l=l.updateImmediateChild(b,U)}),Qu(E).forEach(b=>{l=l.updateImmediateChild(b.name,b.node)}),l}return Qu(qi(o.visibleWrites,r)).forEach(b=>{l=l.updateImmediateChild(b.name,b.node)}),l}(o.writeTree,o.treePath,r)}function _d(o,r,s,l){return function gd(o,r,s,l,h){(0,N.hu)(l||h,"Either existingEventSnap or existingServerSnap must exist");const E=$e(r,s);if(eu(o.visibleWrites,E))return null;{const b=qi(o.visibleWrites,E);return Ml(b)?h.getChild(s):tu(b,h.getChild(s))}}(o.writeTree,o.treePath,r,s,l)}function iu(o,r){return function Nl(o,r){return eo(o.visibleWrites,r)}(o.writeTree,$e(o.treePath,r))}function vd(o,r,s){return function Eh(o,r,s,l){const h=$e(r,s),E=eo(o.visibleWrites,h);return null!=E?E:l.isCompleteForChild(s)?tu(qi(o.visibleWrites,h),l.getNode().getImmediateChild(s)):null}(o.writeTree,o.treePath,r,s)}function Ju(o,r){return Ec($e(o.treePath,r),o.writeTree)}function Ec(o,r){return{treePath:o,writeTree:r}}class Pf{constructor(){this.changeMap=new Map}trackChildChange(r){const s=r.type,l=r.childName;(0,N.hu)("child_added"===s||"child_changed"===s||"child_removed"===s,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==l,"Only non-priority child changes can be tracked.");const h=this.changeMap.get(l);if(h){const E=h.type;if("child_added"===s&&"child_removed"===E)this.changeMap.set(l,mr(l,r.snapshotNode,h.snapshotNode));else if("child_removed"===s&&"child_added"===E)this.changeMap.delete(l);else if("child_removed"===s&&"child_changed"===E)this.changeMap.set(l,ea(l,h.oldSnap));else if("child_changed"===s&&"child_added"===E)this.changeMap.set(l,Es(l,r.snapshotNode));else{if("child_changed"!==s||"child_changed"!==E)throw(0,N.g5)("Illegal combination of changes: "+r+" occurred after "+h);this.changeMap.set(l,mr(l,r.snapshotNode,h.oldSnap))}}else this.changeMap.set(l,r)}getChanges(){return Array.from(this.changeMap.values())}}const Ic=new class Nf{getCompleteChild(r){return null}getChildAfterChild(r,s,l){return null}};class Ol{constructor(r,s,l=null){this.writes_=r,this.viewCache_=s,this.optCompleteServerCache_=l}getCompleteChild(r){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(r))return s.getNode().getImmediateChild(r);{const l=null!=this.optCompleteServerCache_?new Ao(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vd(this.writes_,r,l)}}getChildAfterChild(r,s,l){const h=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:oa(this.viewCache_),E=function Mf(o,r,s,l,h,E){return function Rf(o,r,s,l,h,E,b){let P;const U=qi(o.visibleWrites,r),$=eo(U,D());if(null!=$)P=$;else{if(null==s)return[];P=tu(U,s)}if(P=P.withIndex(b),P.isEmpty()||P.isLeafNode())return[];{const pe=[],Ee=b.getCompare(),be=E?P.getReverseIteratorFrom(l,b):P.getIteratorFrom(l,b);let Ge=be.getNext();for(;Ge&&pe.length<h;)0!==Ee(Ge,l)&&pe.push(Ge),Ge=be.getNext();return pe}}(o.writeTree,o.treePath,r,s,l,h,E)}(this.writes_,h,s,1,l,r);return 0===E.length?null:E[0]}}function Dc(o,r,s,l,h,E){const b=r.eventCache;if(null!=iu(l,s))return r;{let P,U;if(qe(s))if((0,N.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const $=oa(r),Ee=yc(l,$ instanceof Ft?$:Ft.EMPTY_NODE);P=o.filter.updateFullNode(r.eventCache.getNode(),Ee,E)}else{const $=Xu(l,oa(r));P=o.filter.updateFullNode(r.eventCache.getNode(),$,E)}else{const $=m(s);if(".priority"===$){(0,N.hu)(1===w(s),"Can't have a priority with additional path components");const pe=b.getNode();U=r.serverCache.getNode();const Ee=_d(l,s,pe,U);P=null!=Ee?o.filter.updatePriority(pe,Ee):b.getNode()}else{const pe=S(s);let Ee;if(b.isCompleteForChild($)){U=r.serverCache.getNode();const be=_d(l,s,b.getNode(),U);Ee=null!=be?b.getNode().getImmediateChild($).updateChild(pe,be):b.getNode().getImmediateChild($)}else Ee=vd(l,$,r.serverCache);P=null!=Ee?o.filter.updateChild(b.getNode(),$,Ee,pe,h,E):b.getNode()}}return sa(r,P,b.isFullyInitialized()||qe(s),o.filter.filtersNodes())}}function el(o,r,s,l,h,E,b,P){const U=r.serverCache;let $;const pe=b?o.filter:o.filter.getIndexedFilter();if(qe(s))$=pe.updateFullNode(U.getNode(),l,null);else if(pe.filtersNodes()&&!U.isFiltered()){const Ge=U.getNode().updateChild(s,l);$=pe.updateFullNode(U.getNode(),Ge,null)}else{const Ge=m(s);if(!U.isCompleteForPath(s)&&w(s)>1)return r;const nt=S(s),Jt=U.getNode().getImmediateChild(Ge).updateChild(nt,l);$=".priority"===Ge?pe.updatePriority(U.getNode(),Jt):pe.updateChild(U.getNode(),Ge,Jt,nt,Ic,null)}const Ee=dd(r,$,U.isFullyInitialized()||qe(s),pe.filtersNodes());return Dc(o,Ee,s,h,new Ol(h,Ee,E),P)}function no(o,r,s,l,h,E,b){const P=r.eventCache;let U,$;const pe=new Ol(h,r,E);if(qe(s))$=o.filter.updateFullNode(r.eventCache.getNode(),l,b),U=sa(r,$,!0,o.filter.filtersNodes());else{const Ee=m(s);if(".priority"===Ee)$=o.filter.updatePriority(r.eventCache.getNode(),l),U=sa(r,$,P.isFullyInitialized(),P.isFiltered());else{const be=S(s),Ge=P.getNode().getImmediateChild(Ee);let nt;if(qe(be))nt=l;else{const Bt=pe.getCompleteChild(Ee);nt=null!=Bt?".priority"===F(be)&&Bt.getChild(ve(be)).isEmpty()?Bt:Bt.updateChild(be,l):Ft.EMPTY_NODE}U=Ge.equals(nt)?r:sa(r,o.filter.updateChild(P.getNode(),Ee,nt,be,pe,b),P.isFullyInitialized(),o.filter.filtersNodes())}}return U}function Cc(o,r){return o.eventCache.isCompleteForChild(r)}function tl(o,r,s){return s.foreach((l,h)=>{r=r.updateChild(l,h)}),r}function su(o,r,s,l,h,E,b,P){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let $,U=r;$=qe(s)?l:new vn(null).setTree(s,l);const pe=r.serverCache.getNode();return $.children.inorderTraversal((Ee,be)=>{if(pe.hasChild(Ee)){const nt=tl(0,r.serverCache.getNode().getImmediateChild(Ee),be);U=el(o,U,new _(Ee),nt,h,E,b,P)}}),$.children.inorderTraversal((Ee,be)=>{const Ge=!r.serverCache.isCompleteForChild(Ee)&&null===be.value;if(!pe.hasChild(Ee)&&!Ge){const Bt=tl(0,r.serverCache.getNode().getImmediateChild(Ee),be);U=el(o,U,new _(Ee),Bt,h,E,b,P)}}),U}class Ch{constructor(r,s){this.query_=r,this.eventRegistrations_=[];const l=this.query_._queryParams,h=new ta(l.getIndex()),E=function pc(o){return o.loadsAllData()?new ta(o.getIndex()):o.hasLimit()?new od(o):new Xs(o)}(l);this.processor_=function Ih(o){return{filter:o}}(E);const b=s.serverCache,P=s.eventCache,U=h.updateFullNode(Ft.EMPTY_NODE,b.getNode(),null),$=E.updateFullNode(Ft.EMPTY_NODE,P.getNode(),null),pe=new Ao(U,b.isFullyInitialized(),h.filtersNodes()),Ee=new Ao($,P.isFullyInitialized(),E.filtersNodes());this.viewCache_=Qa(Ee,pe),this.eventGenerator_=new wi(this.query_)}get query(){return this.query_}}function wh(o,r){const s=oa(o.viewCache_);return s&&(o.query._queryParams.loadsAllData()||!qe(r)&&!s.getImmediateChild(m(r)).isEmpty())?s.getChild(r):null}function bc(o){return 0===o.eventRegistrations_.length}function nl(o,r,s){const l=[];if(s){(0,N.hu)(null==r,"A cancel should cancel all event registrations.");const h=o.query._path;o.eventRegistrations_.forEach(E=>{const b=E.createCancelEvent(s,h);b&&l.push(b)})}if(r){let h=[];for(let E=0;E<o.eventRegistrations_.length;++E){const b=o.eventRegistrations_[E];if(b.matches(r)){if(r.hasAnyCallback()){h=h.concat(o.eventRegistrations_.slice(E+1));break}}else h.push(b)}o.eventRegistrations_=h}else o.eventRegistrations_=[];return l}function Sc(o,r,s,l){r.type===rr.MERGE&&null!==r.source.queryId&&((0,N.hu)(oa(o.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(Xa(o.viewCache_),"Missing event cache, even though we have a server cache"));const h=o.viewCache_,E=function la(o,r,s,l,h){const E=new Pf;let b,P;if(s.type===rr.OVERWRITE){const $=s;$.source.fromUser?b=no(o,r,$.path,$.snap,l,h,E):((0,N.hu)($.source.fromServer,"Unknown source."),P=$.source.tagged||r.serverCache.isFiltered()&&!qe($.path),b=el(o,r,$.path,$.snap,l,h,P,E))}else if(s.type===rr.MERGE){const $=s;$.source.fromUser?b=function Ed(o,r,s,l,h,E,b){let P=r;return l.foreach((U,$)=>{const pe=$e(s,U);Cc(r,m(pe))&&(P=no(o,P,pe,$,h,E,b))}),l.foreach((U,$)=>{const pe=$e(s,U);Cc(r,m(pe))||(P=no(o,P,pe,$,h,E,b))}),P}(o,r,$.path,$.children,l,h,E):((0,N.hu)($.source.fromServer,"Unknown source."),P=$.source.tagged||r.serverCache.isFiltered(),b=su(o,r,$.path,$.children,l,h,P,E))}else if(s.type===rr.ACK_USER_WRITE){const $=s;b=$.revert?function Id(o,r,s,l,h,E){let b;if(null!=iu(l,s))return r;{const P=new Ol(l,r,h),U=r.eventCache.getNode();let $;if(qe(s)||".priority"===m(s)){let pe;if(r.serverCache.isFullyInitialized())pe=Xu(l,oa(r));else{const Ee=r.serverCache.getNode();(0,N.hu)(Ee instanceof Ft,"serverChildren would be complete if leaf node"),pe=yc(l,Ee)}$=o.filter.updateFullNode(U,pe,E)}else{const pe=m(s);let Ee=vd(l,pe,r.serverCache);null==Ee&&r.serverCache.isCompleteForChild(pe)&&(Ee=U.getImmediateChild(pe)),$=null!=Ee?o.filter.updateChild(U,pe,Ee,S(s),P,E):r.eventCache.getNode().hasChild(pe)?o.filter.updateChild(U,pe,Ft.EMPTY_NODE,S(s),P,E):U,$.isEmpty()&&r.serverCache.isFullyInitialized()&&(b=Xu(l,oa(r)),b.isLeafNode()&&($=o.filter.updateFullNode($,b,E)))}return b=r.serverCache.isFullyInitialized()||null!=iu(l,D()),sa(r,$,b,o.filter.filtersNodes())}}(o,r,$.path,l,h,E):function Ro(o,r,s,l,h,E,b){if(null!=iu(h,s))return r;const P=r.serverCache.isFiltered(),U=r.serverCache;if(null!=l.value){if(qe(s)&&U.isFullyInitialized()||U.isCompleteForPath(s))return el(o,r,s,U.getNode().getChild(s),h,E,P,b);if(qe(s)){let $=new vn(null);return U.getNode().forEachChild(Zi,(pe,Ee)=>{$=$.set(new _(pe),Ee)}),su(o,r,s,$,h,E,P,b)}return r}{let $=new vn(null);return l.foreach((pe,Ee)=>{const be=$e(s,pe);U.isCompleteForPath(be)&&($=$.set(pe,U.getNode().getChild(be)))}),su(o,r,s,$,h,E,P,b)}}(o,r,$.path,$.affectedTree,l,h,E)}else{if(s.type!==rr.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+s.type);b=function Dh(o,r,s,l,h){const E=r.serverCache;return Dc(o,dd(r,E.getNode(),E.isFullyInitialized()||qe(s),E.isFiltered()),s,l,Ic,h)}(o,r,s.path,l,E)}const U=E.getChanges();return function yd(o,r,s){const l=r.eventCache;if(l.isFullyInitialized()){const h=l.getNode().isLeafNode()||l.getNode().isEmpty(),E=Xa(o);(s.length>0||!o.eventCache.isFullyInitialized()||h&&!l.getNode().equals(E)||!l.getNode().getPriority().equals(E.getPriority()))&&s.push(hc(Xa(r)))}}(r,b,U),{viewCache:b,changes:U}}(o.processor_,h,r,s,l);return function xl(o,r){(0,N.hu)(r.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(r.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed")}(o.processor_,E.viewCache),(0,N.hu)(E.viewCache.serverCache.isFullyInitialized()||!h.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),o.viewCache_=E.viewCache,Pr(o,E.changes,E.viewCache.eventCache.getNode(),null)}function Pr(o,r,s,l){return function _c(o,r,s,l){const h=[],E=[];return r.forEach(b=>{"child_changed"===b.type&&o.index_.indexedValueChanged(b.oldSnap,b.snapshotNode)&&E.push(function fc(o,r){return{type:"child_moved",snapshotNode:r,childName:o}}(b.childName,b.snapshotNode))}),Is(o,h,"child_removed",r,l,s),Is(o,h,"child_added",r,l,s),Is(o,h,"child_moved",E,l,s),Is(o,h,"child_changed",r,l,s),Is(o,h,"value",r,l,s),h}(o.eventGenerator_,r,s,l?[l]:o.eventRegistrations_)}let ou,da;class ei{constructor(){this.views=new Map}}function au(o,r,s,l){const h=r.source.queryId;if(null!==h){const E=o.views.get(h);return(0,N.hu)(null!=E,"SyncTree gave us an op for an invalid query."),Sc(E,r,s,l)}{let E=[];for(const b of o.views.values())E=E.concat(Sc(b,r,s,l));return E}}function il(o,r,s,l,h){const b=o.views.get(r._queryIdentifier);if(!b){let P=Xu(s,h?l:null),U=!1;P?U=!0:l instanceof Ft?(P=yc(s,l),U=!1):(P=Ft.EMPTY_NODE,U=!1);const $=Qa(new Ao(P,U,!1),new Ao(l,h,!1));return new Ch(r,$)}return b}function Cd(o){const r=[];for(const s of o.views.values())s.query._queryParams.loadsAllData()||r.push(s);return r}function jr(o,r){let s=null;for(const l of o.views.values())s=s||wh(l,r);return s}function Rc(o,r){return r._queryParams.loadsAllData()?kl(o):o.views.get(r._queryIdentifier)}function Mc(o,r){return null!=Rc(o,r)}function Mo(o){return null!=kl(o)}function kl(o){for(const r of o.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let ha=1;class wd{constructor(r){this.listenProvider_=r,this.syncPointTree_=new vn(null),this.pendingWriteTree_=function md(){return{visibleWrites:Yi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Qi(o,r,s,l,h){return function nu(o,r,s,l,h){(0,N.hu)(l>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===h&&(h=!0),o.allWrites.push({path:r,snap:s,writeId:l,visible:h}),h&&(o.visibleWrites=aa(o.visibleWrites,r,s)),o.lastWriteId=l}(o.pendingWriteTree_,r,s,l,h),h?g(o,new Ya({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,s)):[]}function Ds(o,r,s=!1){const l=function Xp(o,r){for(let s=0;s<o.allWrites.length;s++){const l=o.allWrites[s];if(l.writeId===r)return l}return null}(o.pendingWriteTree_,r);if(function fd(o,r){const s=o.allWrites.findIndex(P=>P.writeId===r);(0,N.hu)(s>=0,"removeWrite called with nonexistent writeId.");const l=o.allWrites[s];o.allWrites.splice(s,1);let h=l.visible,E=!1,b=o.allWrites.length-1;for(;h&&b>=0;){const P=o.allWrites[b];P.visible&&(b>=s&&ua(P,l.path)?h=!1:lr(l.path,P.path)&&(E=!0)),b--}return!!h&&(E?(function Af(o){o.visibleWrites=Pl(o.allWrites,yh,D()),o.lastWriteId=o.allWrites.length>0?o.allWrites[o.allWrites.length-1].writeId:-1}(o),!0):(l.snap?o.visibleWrites=Ja(o.visibleWrites,l.path):I(l.children,U=>{o.visibleWrites=Ja(o.visibleWrites,$e(l.path,U))}),!0))}(o.pendingWriteTree_,r)){let E=new vn(null);return null!=l.snap?E=E.set(D(),!0):I(l.children,b=>{E=E.set(new _(b),!0)}),g(o,new So(l.path,E,s))}return[]}function fa(o,r,s){return g(o,new Ya({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,s))}function du(o,r,s,l,h=!1){const E=r._path,b=o.syncPointTree_.get(E);let P=[];if(b&&("default"===r._queryIdentifier||Mc(b,r))){const U=function Ac(o,r,s,l){const h=r._queryIdentifier,E=[];let b=[];const P=Mo(o);if("default"===h)for(const[U,$]of o.views.entries())b=b.concat(nl($,s,l)),bc($)&&(o.views.delete(U),$.query._queryParams.loadsAllData()||E.push($.query));else{const U=o.views.get(h);U&&(b=b.concat(nl(U,s,l)),bc(U)&&(o.views.delete(h),U.query._queryParams.loadsAllData()||E.push(U.query)))}return P&&!Mo(o)&&E.push(new(function Nr(){return(0,N.hu)(ou,"Reference.ts has not been loaded"),ou}())(r._repo,r._path)),{removed:E,events:b}}(b,r,s,l);(function rl(o){return 0===o.views.size})(b)&&(o.syncPointTree_=o.syncPointTree_.remove(E));const $=U.removed;if(P=U.events,!h){const pe=-1!==$.findIndex(be=>be._queryParams.loadsAllData()),Ee=o.syncPointTree_.findOnPath(E,(be,Ge)=>Mo(Ge));if(pe&&!Ee){const be=o.syncPointTree_.subtree(E);if(!be.isEmpty()){const Ge=function zn(o){return o.fold((r,s,l)=>{if(s&&Mo(s))return[kl(s)];{let h=[];return s&&(h=Cd(s)),I(l,(E,b)=>{h=h.concat(b)}),h}})}(be);for(let nt=0;nt<Ge.length;++nt){const Bt=Ge[nt],Jt=Bt.query,Kn=Q(o,Bt);o.listenProvider_.startListening(ir(Jt),ce(o,Jt),Kn.hashFn,Kn.onComplete)}}}!Ee&&$.length>0&&!l&&(pe?o.listenProvider_.stopListening(ir(r),null):$.forEach(be=>{const Ge=o.queryToTagMap.get(Ae(be));o.listenProvider_.stopListening(ir(be),Ge)}))}!function ol(o,r){for(let s=0;s<r.length;++s){const l=r[s];if(!l._queryParams.loadsAllData()){const h=Ae(l),E=o.queryToTagMap.get(h);o.queryToTagMap.delete(h),o.tagToQueryMap.delete(E)}}}(o,$)}return P}function sl(o,r,s,l){const h=Xe(o,l);if(null!=h){const E=ft(h),b=E.path,P=E.queryId,U=wt(b,r);return lt(o,b,new Ya(Ka(P),U,s))}return[]}function f(o,r,s,l=!1){const h=r._path;let E=null,b=!1;o.syncPointTree_.foreachOnPath(h,(be,Ge)=>{const nt=wt(be,h);E=E||jr(Ge,nt),b=b||Mo(Ge)});let U,P=o.syncPointTree_.get(h);P?(b=b||Mo(P),E=E||jr(P,D())):(P=new ei,o.syncPointTree_=o.syncPointTree_.set(h,P)),null!=E?U=!0:(U=!1,E=Ft.EMPTY_NODE,o.syncPointTree_.subtree(h).foreachChild((Ge,nt)=>{const Bt=jr(nt,D());Bt&&(E=E.updateImmediateChild(Ge,Bt))}));const $=Mc(P,r);if(!$&&!r._queryParams.loadsAllData()){const be=Ae(r);(0,N.hu)(!o.queryToTagMap.has(be),"View does not exist, but we have a tag");const Ge=function Nc(){return ha++}();o.queryToTagMap.set(be,Ge),o.tagToQueryMap.set(Ge,be)}let Ee=function Th(o,r,s,l,h,E){const b=il(o,r,l,h,E);return o.views.has(r._queryIdentifier)||o.views.set(r._queryIdentifier,b),function Tc(o,r){o.eventRegistrations_.push(r)}(b,s),function bh(o,r){const s=o.viewCache_.eventCache,l=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(En,(E,b)=>{l.push(Es(E,b))}),s.isFullyInitialized()&&l.push(hc(s.getNode())),Pr(o,l,s.getNode(),r)}(b,s)}(P,r,s,to(o.pendingWriteTree_,h),E,U);if(!$&&!b&&!l){const be=Rc(P,r);Ee=Ee.concat(function Oc(o,r,s){const l=r._path,h=ce(o,r),E=Q(o,s),b=o.listenProvider_.startListening(ir(r),h,E.hashFn,E.onComplete),P=o.syncPointTree_.subtree(l);if(h)(0,N.hu)(!Mo(P.value),"If we're adding a query, it shouldn't be shadowed");else{const U=P.fold(($,pe,Ee)=>{if(!qe($)&&pe&&Mo(pe))return[kl(pe).query];{let be=[];return pe&&(be=be.concat(Cd(pe).map(Ge=>Ge.query))),I(Ee,(Ge,nt)=>{be=be.concat(nt)}),be}});for(let $=0;$<U.length;++$){const pe=U[$];o.listenProvider_.stopListening(ir(pe),ce(o,pe))}}return b}(o,r,be))}return Ee}function u(o,r,s){const h=o.pendingWriteTree_,E=o.syncPointTree_.findOnPath(r,(b,P)=>{const $=jr(P,wt(b,r));if($)return $});return pd(h,r,E,s,!0)}function g(o,r){return A(r,o.syncPointTree_,null,to(o.pendingWriteTree_,D()))}function A(o,r,s,l){if(qe(o.path))return k(o,r,s,l);{const h=r.get(D());null==s&&null!=h&&(s=jr(h,D()));let E=[];const b=m(o.path),P=o.operationForChild(b),U=r.children.get(b);if(U&&P){const $=s?s.getImmediateChild(b):null,pe=Ju(l,b);E=E.concat(A(P,U,$,pe))}return h&&(E=E.concat(au(h,o,l,s))),E}}function k(o,r,s,l){const h=r.get(D());null==s&&null!=h&&(s=jr(h,D()));let E=[];return r.children.inorderTraversal((b,P)=>{const U=s?s.getImmediateChild(b):null,$=Ju(l,b),pe=o.operationForChild(b);pe&&(E=E.concat(k(pe,P,U,$)))}),h&&(E=E.concat(au(h,o,l,s))),E}function Q(o,r){const s=r.query,l=ce(o,s);return{hashFn:()=>(function Dd(o){return o.viewCache_.serverCache.getNode()}(r)||Ft.EMPTY_NODE).hash(),onComplete:h=>{if("ok"===h)return l?function bd(o,r,s){const l=Xe(o,s);if(l){const h=ft(l),E=h.path,b=h.queryId,P=wt(E,r);return lt(o,E,new Yu(Ka(b),P))}return[]}(o,s._path,l):function cu(o,r){return g(o,new Yu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(o,s._path);{const E=function Y(o,r){let s="Unknown Error";"too_big"===o?s="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===o?s="Client doesn't have permission to access the desired data.":"unavailable"===o&&(s="The service is unavailable");const l=new Error(o+" at "+r._path.toString()+": "+s);return l.code=o.toUpperCase(),l}(h,s);return du(o,s,null,E)}}}}function ce(o,r){const s=Ae(r);return o.queryToTagMap.get(s)}function Ae(o){return o._path.toString()+"$"+o._queryIdentifier}function Xe(o,r){return o.tagToQueryMap.get(r)}function ft(o){const r=o.indexOf("$");return(0,N.hu)(-1!==r&&r<o.length-1,"Bad queryKey."),{queryId:o.substr(r+1),path:new _(o.substr(0,r))}}function lt(o,r,s){const l=o.syncPointTree_.get(r);return(0,N.hu)(l,"Missing sync point for query tag that we're tracking"),au(l,s,to(o.pendingWriteTree_,r),null)}function ir(o){return o._queryParams.loadsAllData()&&!o._queryParams.isDefault()?new(function Pc(){return(0,N.hu)(da,"Reference.ts has not been loaded"),da}())(o._repo,o._path):o}class xc{constructor(r){this.node_=r}getImmediateChild(r){const s=this.node_.getImmediateChild(r);return new xc(s)}node(){return this.node_}}class pa{constructor(r,s){this.syncTree_=r,this.path_=s}getImmediateChild(r){const s=$e(this.path_,r);return new pa(this.syncTree_,s)}node(){return u(this.syncTree_,this.path_)}}const kc=function(o){return(o=o||{}).timestamp=o.timestamp||(new Date).getTime(),o},Ll=function(o,r,s){return o&&"object"==typeof o?((0,N.hu)(".sv"in o,"Unexpected leaf node or priority contents"),"string"==typeof o[".sv"]?Lc(o[".sv"],r,s):"object"==typeof o[".sv"]?Fl(o[".sv"],r):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2))):o},Lc=function(o,r,s){if("timestamp"===o)return s.timestamp;(0,N.hu)(!1,"Unexpected server value: "+o)},Fl=function(o,r,s){o.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2));const l=o.increment;"number"!=typeof l&&(0,N.hu)(!1,"Unexpected increment value: "+l);const h=r.node();if((0,N.hu)(null!==h&&typeof h<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!h.isLeafNode())return l;const b=h.getValue();return"number"!=typeof b?l:b+l},al=function(o,r,s,l){return Po(r,new pa(s,o),l)},Ul=function(o,r,s){return Po(o,new xc(r),s)};function Po(o,r,s){const l=o.getPriority().val(),h=Ll(l,r.getImmediateChild(".priority"),s);let E;if(o.isLeafNode()){const b=o,P=Ll(b.getValue(),r,s);return P!==b.getValue()||h!==b.getPriority().val()?new Ys(P,Mn(h)):o}{const b=o;return E=b,h!==b.getPriority().val()&&(E=E.updatePriority(new Ys(h))),b.forEachChild(En,(P,U)=>{const $=Po(U,r.getImmediateChild(P),s);$!==U&&(E=E.updateImmediateChild(P,$))}),E}}class ga{constructor(r="",s=null,l={children:{},childCount:0}){this.name=r,this.parent=s,this.node=l}}function Fc(o,r){let s=r instanceof _?r:new _(r),l=o,h=m(s);for(;null!==h;){const E=(0,N.DV)(l.node.children,h)||{children:{},childCount:0};l=new ga(h,l,E),s=S(s),h=m(s)}return l}function ma(o){return o.node.value}function Bl(o,r){o.node.value=r,Mh(o)}function Ah(o){return o.node.childCount>0}function hu(o,r){I(o.node.children,(s,l)=>{r(new ga(s,o,l))})}function Of(o,r,s,l){s&&!l&&r(o),hu(o,h=>{Of(h,r,!0,l)}),s&&l&&r(o)}function Uc(o){return new _(null===o.parent?o.name:Uc(o.parent)+"/"+o.name)}function Mh(o){null!==o.parent&&function Jp(o,r,s){const l=function Rh(o){return void 0===ma(o)&&!Ah(o)}(s),h=(0,N.r3)(o.node.children,r);l&&h?(delete o.node.children[r],o.node.childCount--,Mh(o)):!l&&!h&&(o.node.children[r]=s.node,o.node.childCount++,Mh(o))}(o.parent,o.name,o)}const kf=/[\[\].#$\/\u0000-\u001F\u007F]/,Lf=/[\[\].#$\u0000-\u001F\u007F]/,jl=10485760,Vl=function(o){return"string"==typeof o&&0!==o.length&&!kf.test(o)},ul=function(o){return"string"==typeof o&&0!==o.length&&!Lf.test(o)},Bc=function(o){return null===o||"string"==typeof o||"number"==typeof o&&!$o(o)||o&&"object"==typeof o&&(0,N.r3)(o,".sv")},_a=function(o,r,s,l){l&&void 0===r||jc((0,N.gK)(o,"value"),r,s)},jc=function(o,r,s){const l=s instanceof _?new qo(s,o):s;if(void 0===r)throw new Error(o+"contains undefined "+Ks(l));if("function"==typeof r)throw new Error(o+"contains a function "+Ks(l)+" with contents = "+r.toString());if($o(r))throw new Error(o+"contains "+r.toString()+" "+Ks(l));if("string"==typeof r&&r.length>jl/3&&(0,N.ug)(r)>jl)throw new Error(o+"contains a string greater than "+jl+" utf8 bytes "+Ks(l)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let h=!1,E=!1;if(I(r,(b,P)=>{if(".value"===b)h=!0;else if(".priority"!==b&&".sv"!==b&&(E=!0,!Vl(b)))throw new Error(o+" contains an invalid key ("+b+") "+Ks(l)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Wu(o,r){o.parts_.length>0&&(o.byteLength_+=1),o.parts_.push(r),o.byteLength_+=(0,N.ug)(r),zu(o)})(l,b),jc(o,P,l),function Io(o){const r=o.parts_.pop();o.byteLength_-=(0,N.ug)(r),o.parts_.length>0&&(o.byteLength_-=1)}(l)}),h&&E)throw new Error(o+' contains ".value" child '+Ks(l)+" in addition to actual children.")}},Ff=function(o,r,s,l){if(l&&void 0===r)return;const h=(0,N.gK)(o,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(h+" must be an object containing the children to replace.");const E=[];I(r,(b,P)=>{const U=new _(b);if(jc(h,P,$e(s,U)),".priority"===F(U)&&!Bc(P))throw new Error(h+"contains an invalid value for '"+U.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");E.push(U)}),function(o,r){let s,l;for(s=0;s<r.length;s++){l=r[s];const E=ye(l);for(let b=0;b<E.length;b++)if((".priority"!==E[b]||b!==E.length-1)&&!Vl(E[b]))throw new Error(o+"contains an invalid key ("+E[b]+") in path "+l.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(Zt);let h=null;for(s=0;s<r.length;s++){if(l=r[s],null!==h&&lr(h,l))throw new Error(o+"contains a path "+h.toString()+" that is ancestor of another path "+l.toString());h=l}}(h,E)},fu=function(o,r,s){if(!s||void 0!==r){if($o(r))throw new Error((0,N.gK)(o,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Bc(r))throw new Error((0,N.gK)(o,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},pu=function(o,r,s,l){if(!(l&&void 0===s||Vl(s)))throw new Error((0,N.gK)(o,r)+'was an invalid key = "'+s+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ll=function(o,r,s,l){if(!(l&&void 0===s||ul(s)))throw new Error((0,N.gK)(o,r)+'was an invalid path = "'+s+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Uf=function(o,r,s,l){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),ll(o,r,s,l)},Xi=function(o,r){if(".info"===m(r))throw new Error(o+" failed = Can't modify data under /.info/")},Nh=function(o,r){const s=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!Vl(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==s.length&&!function(o){return o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),ul(o)}(s))throw new Error((0,N.gK)(o,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Bf{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Td(o,r){let s=null;for(let l=0;l<r.length;l++){const h=r[l],E=h.getPath();null!==s&&!sn(E,s.path)&&(o.eventLists_.push(s),s=null),null===s&&(s={events:[],path:E}),s.events.push(h)}s&&o.eventLists_.push(s)}function jf(o,r,s){Td(o,s),Vf(o,l=>sn(l,r))}function Ji(o,r,s){Td(o,s),Vf(o,l=>lr(l,r)||lr(r,l))}function Vf(o,r){o.recursionDepth_++;let s=!0;for(let l=0;l<o.eventLists_.length;l++){const h=o.eventLists_[l];h&&(r(h.path)?(tg(o.eventLists_[l]),o.eventLists_[l]=null):s=!1)}s&&(o.eventLists_=[]),o.recursionDepth_--}function tg(o){for(let r=0;r<o.events.length;r++){const s=o.events[r];if(null!==s){o.events[r]=null;const l=s.getEventRunner();Xr&&Nn("event: "+s.toString()),Kt(l)}}}const va="repo_interrupt",Vc=25;class ng{constructor(r,s,l,h){this.repoInfo_=r,this.forceRestClient_=s,this.authTokenProvider_=l,this.appCheckProvider_=h,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Bf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mc(),this.transactionQueueTree_=new ga,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rg(o){const s=o.infoData_.getNode(new _(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+s}function Sd(o){return kc({timestamp:rg(o)})}function ig(o,r,s,l,h){o.dataUpdateCount++;const E=new _(r);s=o.interceptServerDataCallback_?o.interceptServerDataCallback_(r,s):s;let b=[];if(h)if(l){const U=(0,N.UI)(s,$=>Mn($));b=function Sh(o,r,s,l){const h=Xe(o,l);if(h){const E=ft(h),b=E.path,P=E.queryId,U=wt(b,r),$=vn.fromObject(s);return lt(o,b,new qa(Ka(P),U,$))}return[]}(o.serverSyncTree_,E,U,h)}else{const U=Mn(s);b=sl(o.serverSyncTree_,E,U,h)}else if(l){const U=(0,N.UI)(s,$=>Mn($));b=function lu(o,r,s){const l=vn.fromObject(s);return g(o,new qa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,l))}(o.serverSyncTree_,E,U)}else{const U=Mn(s);b=fa(o.serverSyncTree_,E,U)}let P=E;b.length>0&&(P=Hl(o,E)),Ji(o.eventQueue_,P,b)}function sg(o,r){Oh(o,"connected",r),!1===r&&function ya(o){gu(o,"onDisconnectEvents");const r=Sd(o),s=mc();Ki(o.onDisconnect_,D(),(h,E)=>{const b=al(h,E,o.serverSyncTree_,r);Ga(s,h,b)});let l=[];Ki(s,D(),(h,E)=>{l=l.concat(fa(o.serverSyncTree_,h,E));const b=Bh(o,h);Hl(o,b)}),o.onDisconnect_=mc(),Ji(o.eventQueue_,D(),l)}(o)}function Oh(o,r,s){const l=new _("/.info/"+r),h=Mn(s);o.infoData_.updateSnapshot(l,h);const E=fa(o.infoSyncTree_,l,h);Ji(o.eventQueue_,l,E)}function Ad(o){return o.nextWriteId_++}function xh(o,r,s,l,h){gu(o,"set",{path:r.toString(),value:s,priority:l});const E=Sd(o),b=Mn(s,l),P=u(o.serverSyncTree_,r),U=Ul(b,P,E),$=Ad(o),pe=Qi(o.serverSyncTree_,r,U,$,!0);Td(o.eventQueue_,pe),o.server_.put(r.toString(),b.val(!0),(be,Ge)=>{const nt="ok"===be;nt||yr("set at "+r+" failed: "+be);const Bt=Ds(o.serverSyncTree_,$,!nt);Ji(o.eventQueue_,r,Bt),cl(0,h,be,Ge)});const Ee=Bh(o,r);Hl(o,Ee),Ji(o.eventQueue_,Ee,[])}function Hc(o,r,s){o.server_.onDisconnectCancel(r.toString(),(l,h)=>{"ok"===l&&ld(o.onDisconnect_,r),cl(0,s,l,h)})}function Lh(o,r,s,l){const h=Mn(s);o.server_.onDisconnectPut(r.toString(),h.val(!0),(E,b)=>{"ok"===E&&Ga(o.onDisconnect_,r,h),cl(0,l,E,b)})}function zf(o,r,s){let l;l=".info"===m(r._path)?du(o.infoSyncTree_,r,s):du(o.serverSyncTree_,r,s),jf(o.eventQueue_,r._path,l)}function ag(o){o.persistentConnection_&&o.persistentConnection_.interrupt(va)}function gu(o,...r){let s="";o.persistentConnection_&&(s=o.persistentConnection_.id+":"),Nn(s,...r)}function cl(o,r,s,l){r&&Kt(()=>{if("ok"===s)r(null);else{const h=(s||"error").toUpperCase();let E=h;l&&(E+=": "+l);const b=new Error(E);b.code=h,r(b)}})}function Rd(o,r,s){return u(o.serverSyncTree_,r,s)||Ft.EMPTY_NODE}function Md(o,r=o.transactionQueueTree_){if(r||$l(o,r),ma(r)){const s=$c(o,r);(0,N.hu)(s.length>0,"Sending zero length transaction queue"),s.every(h=>0===h.status)&&function ug(o,r,s){const l=s.map($=>$.currentWriteId),h=Rd(o,r,l);let E=h;const b=h.hash();for(let $=0;$<s.length;$++){const pe=s[$];(0,N.hu)(0===pe.status,"tryToSendTransactionQueue_: items in queue should all be run."),pe.status=1,pe.retryCount++;const Ee=wt(r,pe.path);E=E.updateChild(Ee,pe.currentOutputSnapshotRaw)}const P=E.val(!0),U=r;o.server_.put(U.toString(),P,$=>{gu(o,"transaction put response",{path:U.toString(),status:$});let pe=[];if("ok"===$){const Ee=[];for(let be=0;be<s.length;be++)s[be].status=2,pe=pe.concat(Ds(o.serverSyncTree_,s[be].currentWriteId)),s[be].onComplete&&Ee.push(()=>s[be].onComplete(null,!0,s[be].currentOutputSnapshotResolved)),s[be].unwatcher();$l(o,Fc(o.transactionQueueTree_,r)),Md(o,o.transactionQueueTree_),Ji(o.eventQueue_,r,pe);for(let be=0;be<Ee.length;be++)Kt(Ee[be])}else{if("datastale"===$)for(let Ee=0;Ee<s.length;Ee++)s[Ee].status=3===s[Ee].status?4:0;else{yr("transaction at "+U.toString()+" failed: "+$);for(let Ee=0;Ee<s.length;Ee++)s[Ee].status=4,s[Ee].abortReason=$}Hl(o,r)}},b)}(o,Uc(r),s)}else Ah(r)&&hu(r,s=>{Md(o,s)})}function Hl(o,r){const s=Uh(o,r),l=Uc(s);return function lg(o,r,s){if(0===r.length)return;const l=[];let h=[];const b=r.filter(P=>0===P.status).map(P=>P.currentWriteId);for(let P=0;P<r.length;P++){const U=r[P],$=wt(s,U.path);let Ee,pe=!1;if((0,N.hu)(null!==$,"rerunTransactionsUnderNode_: relativePath should not be null."),4===U.status)pe=!0,Ee=U.abortReason,h=h.concat(Ds(o.serverSyncTree_,U.currentWriteId,!0));else if(0===U.status)if(U.retryCount>=Vc)pe=!0,Ee="maxretry",h=h.concat(Ds(o.serverSyncTree_,U.currentWriteId,!0));else{const be=Rd(o,U.path,b);U.currentInputSnapshot=be;const Ge=r[P].update(be.val());if(void 0!==Ge){jc("transaction failed: Data returned ",Ge,U.path);let nt=Mn(Ge);"object"==typeof Ge&&null!=Ge&&(0,N.r3)(Ge,".priority")||(nt=nt.updatePriority(be.getPriority()));const Jt=U.currentWriteId,Kn=Sd(o),jn=Ul(nt,be,Kn);U.currentOutputSnapshotRaw=nt,U.currentOutputSnapshotResolved=jn,U.currentWriteId=Ad(o),b.splice(b.indexOf(Jt),1),h=h.concat(Qi(o.serverSyncTree_,U.path,jn,U.currentWriteId,U.applyLocally)),h=h.concat(Ds(o.serverSyncTree_,Jt,!0))}else pe=!0,Ee="nodata",h=h.concat(Ds(o.serverSyncTree_,U.currentWriteId,!0))}Ji(o.eventQueue_,s,h),h=[],pe&&(r[P].status=2,setTimeout(r[P].unwatcher,Math.floor(0)),r[P].onComplete&&l.push("nodata"===Ee?()=>r[P].onComplete(null,!1,r[P].currentInputSnapshot):()=>r[P].onComplete(new Error(Ee),!1,null)))}$l(o,o.transactionQueueTree_);for(let P=0;P<l.length;P++)Kt(l[P]);Md(o,o.transactionQueueTree_)}(o,$c(o,s),l),l}function Uh(o,r){let s,l=o.transactionQueueTree_;for(s=m(r);null!==s&&void 0===ma(l);)l=Fc(l,s),s=m(r=S(r));return l}function $c(o,r){const s=[];return Gf(o,r,s),s.sort((l,h)=>l.order-h.order),s}function Gf(o,r,s){const l=ma(r);if(l)for(let h=0;h<l.length;h++)s.push(l[h]);hu(r,h=>{Gf(o,h,s)})}function $l(o,r){const s=ma(r);if(s){let l=0;for(let h=0;h<s.length;h++)2!==s[h].status&&(s[l]=s[h],l++);s.length=l,Bl(r,s.length>0?s:void 0)}hu(r,l=>{$l(o,l)})}function Bh(o,r){const s=Uc(Uh(o,r)),l=Fc(o.transactionQueueTree_,r);return function xf(o,r,s){let l=s?o:o.parent;for(;null!==l;){if(r(l))return!0;l=l.parent}}(l,h=>{mu(o,h)}),mu(o,l),Of(l,h=>{mu(o,h)}),s}function mu(o,r){const s=ma(r);if(s){const l=[];let h=[],E=-1;for(let b=0;b<s.length;b++)3===s[b].status||(1===s[b].status?((0,N.hu)(E===b-1,"All SENT items should be at beginning of queue."),E=b,s[b].status=3,s[b].abortReason="set"):((0,N.hu)(0===s[b].status,"Unexpected transaction status in abort"),s[b].unwatcher(),h=h.concat(Ds(o.serverSyncTree_,s[b].currentWriteId,!0)),s[b].onComplete&&l.push(s[b].onComplete.bind(null,new Error("set"),!1,null))));-1===E?Bl(r,void 0):s.length=E+1,Ji(o.eventQueue_,Uc(r),h);for(let b=0;b<l.length;b++)Kt(l[b])}}const Pd=function(o,r){const s=Zf(o),l=s.namespace;return"firebase.com"===s.domain&&fi(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||"undefined"===l)&&"localhost"!==s.domain&&fi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&yr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ur(s.host,s.secure,l,"ws"===s.scheme||"wss"===s.scheme,r,"",l!==s.subdomain),path:new _(s.pathString)}},Zf=function(o){let r="",s="",l="",h="",E="",b=!0,P="https",U=443;if("string"==typeof o){let $=o.indexOf("//");$>=0&&(P=o.substring(0,$-1),o=o.substring($+2));let pe=o.indexOf("/");-1===pe&&(pe=o.length);let Ee=o.indexOf("?");-1===Ee&&(Ee=o.length),r=o.substring(0,Math.min(pe,Ee)),pe<Ee&&(h=function cg(o){let r="";const s=o.split("/");for(let l=0;l<s.length;l++)if(s[l].length>0){let h=s[l];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch{}r+="/"+h}return r}(o.substring(pe,Ee)));const be=function dg(o){const r={};"?"===o.charAt(0)&&(o=o.substring(1));for(const s of o.split("&")){if(0===s.length)continue;const l=s.split("=");2===l.length?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):yr(`Invalid query segment '${s}' in query '${o}'`)}return r}(o.substring(Math.min(o.length,Ee)));$=r.indexOf(":"),$>=0?(b="https"===P||"wss"===P,U=parseInt(r.substring($+1),10)):$=r.length;const Ge=r.slice(0,$);if("localhost"===Ge.toLowerCase())s="localhost";else if(Ge.split(".").length<=2)s=Ge;else{const nt=r.indexOf(".");l=r.substring(0,nt).toLowerCase(),s=r.substring(nt+1),E=l}"ns"in be&&(E=be.ns)}return{host:r,port:U,domain:s,subdomain:l,secure:b,scheme:P,pathString:h,namespace:E}},Kf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",hg=function(){let o=0;const r=[];return function(s){const l=s===o;let h;o=s;const E=new Array(8);for(h=7;h>=0;h--)E[h]=Kf.charAt(s%64),s=Math.floor(s/64);(0,N.hu)(0===s,"Cannot push at time == 0");let b=E.join("");if(l){for(h=11;h>=0&&63===r[h];h--)r[h]=0;r[h]++}else for(h=0;h<12;h++)r[h]=Math.floor(64*Math.random());for(h=0;h<12;h++)b+=Kf.charAt(r[h]);return(0,N.hu)(20===b.length,"nextPushId: Length should be 20."),b}}();class Yf{constructor(r,s,l,h){this.eventType=r,this.eventRegistration=s,this.snapshot=l,this.prevName=h}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Wl)(this.snapshot.exportVal())}}class qf{constructor(r,s,l){this.eventRegistration=r,this.error=s,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Nd{constructor(r,s){this.snapshotCallback=r,this.cancelCallback=s}onValue(r,s){this.snapshotCallback.call(null,r,s)}onCancel(r){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class fg{constructor(r,s){this._repo=r,this._path=s}cancel(){const r=new N.BH;return Hc(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){Xi("OnDisconnect.remove",this._path);const r=new N.BH;return Lh(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){Xi("OnDisconnect.set",this._path),_a("OnDisconnect.set",r,this._path,!1);const s=new N.BH;return Lh(this._repo,this._path,r,s.wrapCallback(()=>{})),s.promise}setWithPriority(r,s){Xi("OnDisconnect.setWithPriority",this._path),_a("OnDisconnect.setWithPriority",r,this._path,!1),fu("OnDisconnect.setWithPriority",s,!1);const l=new N.BH;return function $f(o,r,s,l,h){const E=Mn(s,l);o.server_.onDisconnectPut(r.toString(),E.val(!0),(b,P)=>{"ok"===b&&Ga(o.onDisconnect_,r,E),cl(0,h,b,P)})}(this._repo,this._path,r,s,l.wrapCallback(()=>{})),l.promise}update(r){Xi("OnDisconnect.update",this._path),Ff("OnDisconnect.update",r,this._path,!1);const s=new N.BH;return function Wf(o,r,s,l){if((0,N.xb)(s))return Nn("onDisconnect().update() called with empty data.  Don't do anything."),void cl(0,l,"ok",void 0);o.server_.onDisconnectMerge(r.toString(),s,(h,E)=>{"ok"===h&&I(s,(b,P)=>{const U=Mn(P);Ga(o.onDisconnect_,$e(r,b),U)}),cl(0,l,h,E)})}(this._repo,this._path,r,s.wrapCallback(()=>{})),s.promise}}class es{constructor(r,s,l,h){this._repo=r,this._path=s,this._queryParams=l,this._orderByCalled=h}get key(){return qe(this._path)?null:F(this._path)}get ref(){return new ts(this._repo,this._path)}get _queryIdentifier(){const r=fh(this._queryParams),s=fs(r);return"{}"===s?"default":s}get _queryObject(){return fh(this._queryParams)}isEqual(r){if(!((r=(0,N.m9)(r))instanceof es))return!1;const s=this._repo===r._repo,l=sn(this._path,r._path);return s&&l&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function K(o){let r="";for(let s=o.pieceNum_;s<o.pieces_.length;s++)""!==o.pieces_[s]&&(r+="/"+encodeURIComponent(String(o.pieces_[s])));return r||"/"}(this._path)}}function _u(o,r){if(!0===o._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function Cs(o){let r=null,s=null;if(o.hasStart()&&(r=o.getIndexStartValue()),o.hasEnd()&&(s=o.getIndexEndValue()),o.getIndex()===Zi){const l="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",h="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(o.hasStart()){if(o.getIndexStartName()!==Ni)throw new Error(l);if("string"!=typeof r)throw new Error(h)}if(o.hasEnd()){if(o.getIndexEndName()!==pi)throw new Error(l);if("string"!=typeof s)throw new Error(h)}}else if(o.getIndex()===En){if(null!=r&&!Bc(r)||null!=s&&!Bc(s))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(o.getIndex()instanceof Qs||o.getIndex()===Wa,"unknown index type."),null!=r&&"object"==typeof r||null!=s&&"object"==typeof s)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Wc(o){if(o.hasStart()&&o.hasEnd()&&o.hasLimit()&&!o.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ts extends es{constructor(r,s){super(r,s,new na,!1)}get parent(){const r=ve(this._path);return null===r?null:new ts(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class Ea{constructor(r,s,l){this._node=r,this.ref=s,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const s=new _(r),l=vu(this.ref,r);return new Ea(this._node.getChild(s),l,En)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(l,h)=>r(new Ea(h,vu(this.ref,l),En)))}hasChild(r){const s=new _(r);return!this._node.getChild(s).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function jh(o,r){return(o=(0,N.m9)(o))._checkNotDeleted("ref"),void 0!==r?vu(o._root,r):o._root}function Qf(o,r){(o=(0,N.m9)(o))._checkNotDeleted("refFromURL");const s=Pd(r,o._repo.repoInfo_.nodeAdmin);Nh("refFromURL",s);const l=s.repoInfo;return!o._repo.repoInfo_.isCustomHost()&&l.host!==o._repo.repoInfo_.host&&fi("refFromURL: Host name does not match the current database: (found "+l.host+" but expected "+o._repo.repoInfo_.host+")"),jh(o,s.path.toString())}function vu(o,r){return null===m((o=(0,N.m9)(o))._path)?Uf("child","path",r,!1):ll("child","path",r,!1),new ts(o._repo,$e(o._path,r))}function zc(o,r){o=(0,N.m9)(o),Xi("set",o._path),_a("set",r,o._path,!1);const s=new N.BH;return xh(o._repo,o._path,r,null,s.wrapCallback(()=>{})),s.promise}function Xf(o,r){Ff("update",r,o._path,!1);const s=new N.BH;return function kh(o,r,s,l){gu(o,"update",{path:r.toString(),value:s});let h=!0;const E=Sd(o),b={};if(I(s,(P,U)=>{h=!1,b[P]=al($e(r,P),Mn(U),o.serverSyncTree_,E)}),h)Nn("update() called with empty data.  Don't do anything."),cl(0,l,"ok",void 0);else{const P=Ad(o),U=function uu(o,r,s,l){!function vh(o,r,s,l){(0,N.hu)(l>o.lastWriteId,"Stacking an older merge on top of newer ones"),o.allWrites.push({path:r,children:s,writeId:l,visible:!0}),o.visibleWrites=qu(o.visibleWrites,r,s),o.lastWriteId=l}(o.pendingWriteTree_,r,s,l);const h=vn.fromObject(s);return g(o,new qa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,h))}(o.serverSyncTree_,r,b,P);Td(o.eventQueue_,U),o.server_.merge(r.toString(),s,($,pe)=>{const Ee="ok"===$;Ee||yr("update at "+r+" failed: "+$);const be=Ds(o.serverSyncTree_,P,!Ee),Ge=be.length>0?Hl(o,r):r;Ji(o.eventQueue_,Ge,be),cl(0,l,$,pe)}),I(s,$=>{const pe=Bh(o,$e(r,$));Hl(o,pe)}),Ji(o.eventQueue_,r,[])}}(o._repo,o._path,r,s.wrapCallback(()=>{})),s.promise}function Jf(o){o=(0,N.m9)(o);const r=new Nd(()=>{}),s=new ro(r);return function og(o,r,s){const l=function c(o,r){const s=r._path;let l=null;o.syncPointTree_.foreachOnPath(s,($,pe)=>{const Ee=wt($,s);l=l||jr(pe,Ee)});let h=o.syncPointTree_.get(s);h?l=l||jr(h,D()):(h=new ei,o.syncPointTree_=o.syncPointTree_.set(s,h));const E=null!=l,b=E?new Ao(l,!0,!1):null;return function wc(o){return Xa(o.viewCache_)}(il(h,r,to(o.pendingWriteTree_,r._path),E?b.getNode():Ft.EMPTY_NODE,E))}(o.serverSyncTree_,r);return null!=l?Promise.resolve(l):o.server_.get(r).then(h=>{const E=Mn(h).withIndex(r._queryParams.getIndex());let b;if(f(o.serverSyncTree_,r,s,!0),r._queryParams.loadsAllData())b=fa(o.serverSyncTree_,r._path,E);else{const P=ce(o.serverSyncTree_,r);b=sl(o.serverSyncTree_,r._path,E,P)}return Ji(o.eventQueue_,r._path,b),du(o.serverSyncTree_,r,s,null,!0),E},h=>(gu(o,"get for query "+(0,N.Wl)(r)+" failed: "+h),Promise.reject(new Error(h))))}(o._repo,o,s).then(l=>new Ea(l,new ts(o._repo,o._path),o._queryParams.getIndex()))}class ro{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,s){const l=s._queryParams.getIndex();return new Yf("value",this,new Ea(r.snapshotNode,new ts(s._repo,s._path),l))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,s){return this.callbackContext.hasCancelCallback?new qf(this,r,s):null}matches(r){return r instanceof ro&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class xd{constructor(r,s){this.eventType=r,this.callbackContext=s}respondsTo(r){let s="children_added"===r?"child_added":r;return s="children_removed"===s?"child_removed":s,this.eventType===s}createCancelEvent(r,s){return this.callbackContext.hasCancelCallback?new qf(this,r,s):null}createEvent(r,s){(0,N.hu)(null!=r.childName,"Child events should have a childName.");const l=vu(new ts(s._repo,s._path),r.childName),h=s._queryParams.getIndex();return new Yf(r.type,this,new Ea(r.snapshotNode,l,h),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof xd&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function dl(o,r,s,l,h){let E;if("object"==typeof l&&(E=void 0,h=l),"function"==typeof l&&(E=l),h&&h.onlyOnce){const U=s,$=(pe,Ee)=>{zf(o._repo,o,P),U(pe,Ee)};$.userCallback=s.userCallback,$.context=s.context,s=$}const b=new Nd(s,E||void 0),P="value"===r?new ro(b):new xd(r,b);return function r_(o,r,s){let l;l=".info"===m(r._path)?f(o.infoSyncTree_,r,s):f(o.serverSyncTree_,r,s),jf(o.eventQueue_,r._path,l)}(o._repo,o,P),()=>zf(o._repo,o,P)}function Wl(o,r,s,l){return dl(o,"value",r,s,l)}function ep(o,r,s,l){return dl(o,"child_added",r,s,l)}function kd(o,r,s,l){return dl(o,"child_changed",r,s,l)}function Gc(o,r,s,l){return dl(o,"child_moved",r,s,l)}function io(o,r,s,l){return dl(o,"child_removed",r,s,l)}function hl(o,r,s){let l=null;const h=s?new Nd(s):null;"value"===r?l=new ro(h):r&&(l=new xd(r,h)),zf(o._repo,o,l)}class ns{}class tp extends ns{constructor(r,s){super(),this._value=r,this._key=s,this.type="endAt"}_apply(r){_a("endAt",this._value,r._path,!0);const s=za(r._queryParams,this._value,this._key);if(Wc(s),Cs(s),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new es(r._repo,r._path,s,r._orderByCalled)}}class np extends ns{constructor(r,s){super(),this._value=r,this._key=s,this.type="endBefore"}_apply(r){_a("endBefore",this._value,r._path,!1);const s=function bo(o,r,s){let l;return l=za(o,r,o.index_===Zi||s?s:Ni),l.endBeforeSet_=!0,l}(r._queryParams,this._value,this._key);if(Wc(s),Cs(s),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new es(r._repo,r._path,s,r._orderByCalled)}}class rp extends ns{constructor(r,s){super(),this._value=r,this._key=s,this.type="startAt"}_apply(r){_a("startAt",this._value,r._path,!0);const s=Js(r._queryParams,this._value,this._key);if(Wc(s),Cs(s),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new es(r._repo,r._path,s,r._orderByCalled)}}class vg extends ns{constructor(r,s){super(),this._value=r,this._key=s,this.type="startAfter"}_apply(r){_a("startAfter",this._value,r._path,!1);const s=function ad(o,r,s){let l;return l=Js(o,r,o.index_===Zi||s?s:pi),l.startAfterSet_=!0,l}(r._queryParams,this._value,this._key);if(Wc(s),Cs(s),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new es(r._repo,r._path,s,r._orderByCalled)}}class ip extends ns{constructor(r){super(),this._limit=r,this.type="limitToFirst"}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new es(r._repo,r._path,function ra(o,r){const s=o.copy();return s.limitSet_=!0,s.limit_=r,s.viewFrom_="l",s}(r._queryParams,this._limit),r._orderByCalled)}}class sp extends ns{constructor(r){super(),this._limit=r,this.type="limitToLast"}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new es(r._repo,r._path,function ia(o,r){const s=o.copy();return s.limitSet_=!0,s.limit_=r,s.viewFrom_="r",s}(r._queryParams,this._limit),r._orderByCalled)}}class o_ extends ns{constructor(r){super(),this._path=r,this.type="orderByChild"}_apply(r){_u(r,"orderByChild");const s=new _(this._path);if(qe(s))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const l=new Qs(s),h=gc(r._queryParams,l);return Cs(h),new es(r._repo,r._path,h,!0)}}class Eg extends ns{constructor(){super(...arguments),this.type="orderByKey"}_apply(r){_u(r,"orderByKey");const s=gc(r._queryParams,Zi);return Cs(s),new es(r._repo,r._path,s,!0)}}class u_ extends ns{constructor(){super(...arguments),this.type="orderByPriority"}_apply(r){_u(r,"orderByPriority");const s=gc(r._queryParams,En);return Cs(s),new es(r._repo,r._path,s,!0)}}class Ld extends ns{constructor(){super(...arguments),this.type="orderByValue"}_apply(r){_u(r,"orderByValue");const s=gc(r._queryParams,Wa);return Cs(s),new es(r._repo,r._path,s,!0)}}class Wh extends ns{constructor(r,s){super(),this._value=r,this._key=s,this.type="equalTo"}_apply(r){if(_a("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new tp(this._value,this._key)._apply(new rp(this._value,this._key)._apply(r))}}function mi(o,...r){let s=(0,N.m9)(o);for(const l of r)s=l._apply(s);return s}(function ca(o){(0,N.hu)(!ou,"__referenceConstructor has already been defined"),ou=o})(ts),function Vr(o){(0,N.hu)(!da,"__referenceConstructor has already been defined"),da=o}(ts);const Zc={};function yu(o,r,s,l,h){let E=l||o.options.databaseURL;void 0===E&&(o.options.projectId||fi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Nn("Using default host for project ",o.options.projectId),E=`${o.options.projectId}-default-rtdb.firebaseio.com`);let U,$,b=Pd(E,h),P=b.repoInfo;typeof process<"u"&&process.env&&($=process.env.FIREBASE_DATABASE_EMULATOR_HOST),$?(U=!0,E=`http://${$}?ns=${P.namespace}`,b=Pd(E,h),P=b.repoInfo):U=!b.repoInfo.secure;const pe=h&&U?new _n(_n.OWNER):new pn(o.name,o.options,r);Nh("Invalid Firebase Database URL",b),qe(b.path)||fi("Database URL must point to the root of a Firebase Database (not including a child path).");const Ee=function Kh(o,r,s,l){let h=Zc[r.name];h||(h={},Zc[r.name]=h);let E=h[o.toURLString()];return E&&fi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),E=new ng(o,false,s,l),h[o.toURLString()]=E,E}(P,o,pe,new kn(o.name,s));return new c_(Ee,o)}class c_{constructor(r,s){this._repoInternal=r,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function n_(o,r,s){if(o.stats_=ku(o.repoInfo_),o.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)o.server_=new Zu(o.repoInfo_,(l,h,E,b)=>{ig(o,l,h,E,b)},o.authTokenProvider_,o.appCheckProvider_),setTimeout(()=>sg(o,!0),0);else{if(typeof s<"u"&&null!==s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Wl)(s)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}o.persistentConnection_=new Do(o.repoInfo_,r,(l,h,E,b)=>{ig(o,l,h,E,b)},l=>{sg(o,l)},l=>{!function Hf(o,r){I(r,(s,l)=>{Oh(o,s,l)})}(o,l)},o.authTokenProvider_,o.appCheckProvider_,s),o.server_=o.persistentConnection_}o.authTokenProvider_.addTokenChangeListener(l=>{o.server_.refreshAuthToken(l)}),o.appCheckProvider_.addTokenChangeListener(l=>{o.server_.refreshAppCheckToken(l.token)}),o.statsReporter_=function Lu(o,r){const s=o.toString();return Il[s]||(Il[s]=r()),Il[s]}(o.repoInfo_,()=>new _h(o.stats_,o.server_)),o.infoData_=new Tf,o.infoSyncTree_=new wd({startListening:(l,h,E,b)=>{let P=[];const U=o.infoData_.getNode(l._path);return U.isEmpty()||(P=fa(o.infoSyncTree_,l._path,U),setTimeout(()=>{b("ok")},0)),P},stopListening:()=>{}}),Oh(o,"connected",!1),o.serverSyncTree_=new wd({startListening:(l,h,E,b)=>(o.server_.listen(l,E,h,(P,U)=>{const $=b(P,U);Ji(o.eventQueue_,l._path,$)}),[]),stopListening:(l,h)=>{o.server_.unlisten(l,h)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ts(this._repo,D())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Zh(o,r){const s=Zc[r];(!s||s[o.key]!==o)&&fi(`Database ${r}(${o.repoInfo_}) has already been deleted.`),ag(o),delete s[o.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&fi("Cannot call "+r+" on a deleted database.")}}function Bd(){Zn.IS_TRANSPORT_INITIALIZED&&yr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Kc(){Bd(),Gs.forceDisallow()}function Cg(){Bd(),Ko.forceDisallow(),Gs.forceAllow()}function ap(o,r){hi(o,r)}const Sg={".sv":"timestamp"};class jd{constructor(r,s){this.committed=r,this.snapshot=s}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Do.prototype.simpleListen=function(o,r){this.sendRequest("q",{p:o},r)},Do.prototype.echo=function(o,r){this.sendRequest("echo",{d:o},r)},function Tg(o){Bs(de.SDK_VERSION),(0,de._registerComponent)(new ue.wA("database",(r,{instanceIdentifier:s})=>yu(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),s),"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Xn,"1.0.4",o),(0,de.registerVersion)(Xn,"1.0.4","esm2017")}();const lp=new Vo.Yd("@firebase/database-compat"),cp=function(o){lp.warn("FIREBASE WARNING: "+o)};class Pg{constructor(r){this._delegate=r}cancel(r){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",r,!0);const s=this._delegate.cancel();return r&&s.then(()=>r(null),l=>r(l)),s}remove(r){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",r,!0);const s=this._delegate.remove();return r&&s.then(()=>r(null),l=>r(l)),s}set(r,s){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",s,!0);const l=this._delegate.set(r);return s&&l.then(()=>s(null),h=>s(h)),l}setWithPriority(r,s,l){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",l,!0);const h=this._delegate.setWithPriority(r,s);return l&&h.then(()=>l(null),E=>l(E)),h}update(r,s){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const h={};for(let E=0;E<r.length;++E)h[""+E]=r[E];r=h,cp("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",s,!0);const l=this._delegate.update(r);return s&&l.then(()=>s(null),h=>s(h)),l}}class Hd{constructor(r,s){this.committed=r,this.snapshot=s}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Eu{constructor(r,s){this._database=r,this._delegate=s}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),ll("DataSnapshot.child","path",r,!1),new Eu(this._database,this._delegate.child(r))}hasChild(r){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ll("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(s=>r(new Eu(this._database,s)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new ti(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class dr{constructor(r,s){this.database=r,this._delegate=s}on(r,s,l,h){var E;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",s,!1);const b=dr.getCancelAndContextArgs_("Query.on",l,h),P=($,pe)=>{s.call(b.context,new Eu(this.database,$),pe)};P.userCallback=s,P.context=b.context;const U=null===(E=b.cancel)||void 0===E?void 0:E.bind(b.context);switch(r){case"value":return Wl(this._delegate,P,U),s;case"child_added":return ep(this._delegate,P,U),s;case"child_removed":return io(this._delegate,P,U),s;case"child_changed":return kd(this._delegate,P,U),s;case"child_moved":return Gc(this._delegate,P,U),s;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,s,l){if((0,N.Dv)("Query.off",0,3,arguments.length),function(o,r,s){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,N.Wj)("Query.off","callback",s,!0),(0,N.lb)("Query.off","context",l,!0),s){const h=()=>{};h.userCallback=s,h.context=l,hl(this._delegate,r,h)}else hl(this._delegate,r)}get(){return Jf(this._delegate).then(r=>new Eu(this.database,r))}once(r,s,l,h){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",s,!0);const E=dr.getCancelAndContextArgs_("Query.once",l,h),b=new N.BH,P=($,pe)=>{const Ee=new Eu(this.database,$);s&&s.call(E.context,Ee,pe),b.resolve(Ee)};P.userCallback=s,P.context=E.context;const U=$=>{E.cancel&&E.cancel.call(E.context,$),b.reject($)};switch(r){case"value":Wl(this._delegate,P,U,{onlyOnce:!0});break;case"child_added":ep(this._delegate,P,U,{onlyOnce:!0});break;case"child_removed":io(this._delegate,P,U,{onlyOnce:!0});break;case"child_changed":kd(this._delegate,P,U,{onlyOnce:!0});break;case"child_moved":Gc(this._delegate,P,U,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return b.promise}limitToFirst(r){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new dr(this.database,mi(this._delegate,function yg(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ip(o)}(r)))}limitToLast(r){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new dr(this.database,mi(this._delegate,function $h(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new sp(o)}(r)))}orderByChild(r){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new dr(this.database,mi(this._delegate,function a_(o){if("$key"===o)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===o)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===o)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ll("orderByChild","path",o,!1),new o_(o)}(r)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new dr(this.database,mi(this._delegate,function Ig(){return new Eg}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new dr(this.database,mi(this._delegate,function l_(){return new u_}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new dr(this.database,mi(this._delegate,function Dg(){return new Ld}()))}startAt(r=null,s){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new dr(this.database,mi(this._delegate,function _g(o=null,r){return pu("startAt","key",r,!0),new rp(o,r)}(r,s)))}startAfter(r=null,s){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new dr(this.database,mi(this._delegate,function Hh(o,r){return pu("startAfter","key",r,!0),new vg(o,r)}(r,s)))}endAt(r=null,s){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new dr(this.database,mi(this._delegate,function mg(o,r){return pu("endAt","key",r,!0),new tp(o,r)}(r,s)))}endBefore(r=null,s){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new dr(this.database,mi(this._delegate,function zl(o,r){return pu("endBefore","key",r,!0),new np(o,r)}(r,s)))}equalTo(r,s){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new dr(this.database,mi(this._delegate,function zh(o,r){return pu("equalTo","key",r,!0),new Wh(o,r)}(r,s)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof dr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,s,l){const h={cancel:void 0,context:void 0};if(s&&l)h.cancel=s,(0,N.Wj)(r,"cancel",h.cancel,!0),h.context=l,(0,N.lb)(r,"context",h.context,!0);else if(s)if("object"==typeof s&&null!==s)h.context=s;else{if("function"!=typeof s)throw new Error((0,N.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");h.cancel=s}return h}get ref(){return new ti(this.database,new ts(this._delegate._repo,this._delegate._path))}}class ti extends dr{constructor(r,s){super(r,new es(s._repo,s._path,new na,!1)),this.database=r,this._delegate=s}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new ti(this.database,vu(this._delegate,r))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new ti(this.database,r):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new ti(this.database,this._delegate.root)}set(r,s){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",s,!0);const l=zc(this._delegate,r);return s&&l.then(()=>s(null),h=>s(h)),l}update(r,s){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const h={};for(let E=0;E<r.length;++E)h[""+E]=r[E];r=h,cp("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xi("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",s,!0);const l=Xf(this._delegate,r);return s&&l.then(()=>s(null),h=>s(h)),l}setWithPriority(r,s,l){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",l,!0);const h=function Vh(o,r,s){if(Xi("setWithPriority",o._path),_a("setWithPriority",r,o._path,!1),fu("setWithPriority",s,!1),".length"===o.key||".keys"===o.key)throw"setWithPriority failed: "+o.key+" is a read-only object.";const l=new N.BH;return xh(o._repo,o._path,r,s,l.wrapCallback(()=>{})),l.promise}(this._delegate,r,s);return l&&h.then(()=>l(null),E=>l(E)),h}remove(r){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",r,!0);const s=function s_(o){return Xi("remove",o._path),zc(o,null)}(this._delegate);return r&&s.then(()=>r(null),l=>r(l)),s}transaction(r,s,l){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,N.Wj)("Reference.transaction","onComplete",s,!0),function(o,r,s,l){if(void 0!==s&&"boolean"!=typeof s)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,l);const h=function qh(o,r,s){var l;if(o=(0,N.m9)(o),Xi("Reference.transaction",o._path),".length"===o.key||".keys"===o.key)throw"Reference.transaction failed: "+o.key+" is a read-only object.";const h=null===(l=s?.applyLocally)||void 0===l||l,E=new N.BH,P=Wl(o,()=>{});return function i_(o,r,s,l,h,E){gu(o,"transaction on "+r);const b={path:r,update:s,onComplete:l,status:null,order:js(),applyLocally:E,retryCount:0,unwatcher:h,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},P=Rd(o,r,void 0);b.currentInputSnapshot=P;const U=b.update(P.val());if(void 0===U)b.unwatcher(),b.currentOutputSnapshotRaw=null,b.currentOutputSnapshotResolved=null,b.onComplete&&b.onComplete(null,!1,b.currentInputSnapshot);else{jc("transaction failed: Data returned ",U,b.path),b.status=0;const $=Fc(o.transactionQueueTree_,r),pe=ma($)||[];let Ee;pe.push(b),Bl($,pe),"object"==typeof U&&null!==U&&(0,N.r3)(U,".priority")?(Ee=(0,N.DV)(U,".priority"),(0,N.hu)(Bc(Ee),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Ee=(u(o.serverSyncTree_,r)||Ft.EMPTY_NODE).getPriority().val();const be=Sd(o),Ge=Mn(U,Ee),nt=Ul(Ge,P,be);b.currentOutputSnapshotRaw=Ge,b.currentOutputSnapshotResolved=nt,b.currentWriteId=Ad(o);const Bt=Qi(o.serverSyncTree_,r,nt,b.currentWriteId,b.applyLocally);Ji(o.eventQueue_,r,Bt),Md(o,o.transactionQueueTree_)}}(o._repo,o._path,r,(U,$,pe)=>{let Ee=null;U?E.reject(U):(Ee=new Ea(pe,new ts(o._repo,o._path),En),E.resolve(new jd($,Ee)))},P,h),E.promise}(this._delegate,r,{applyLocally:l}).then(E=>new Hd(E.committed,new Eu(this.database,E.snapshot)));return s&&h.then(E=>s(null,E.committed,E.snapshot),E=>s(E,!1,null)),h}setPriority(r,s){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",s,!0);const l=function gg(o,r){o=(0,N.m9)(o),Xi("setPriority",o._path),fu("setPriority",r,!1);const s=new N.BH;return xh(o._repo,$e(o._path,".priority"),r,null,s.wrapCallback(()=>{})),s.promise}(this._delegate,r);return s&&l.then(()=>s(null),h=>s(h)),l}push(r,s){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",s,!0);const l=function Od(o,r){o=(0,N.m9)(o),Xi("push",o._path),_a("push",r,o._path,!0);const s=rg(o._repo),l=hg(s),h=vu(o,l),E=vu(o,l);let b;return b=null!=r?zc(E,r).then(()=>E):Promise.resolve(E),h.then=b.then.bind(b),h.catch=b.then.bind(b,void 0),h}(this._delegate,r),h=l.then(b=>new ti(this.database,b));s&&h.then(()=>s(null),b=>s(b));const E=new ti(this.database,l);return E.then=h.then.bind(h),E.catch=h.catch.bind(h,void 0),E}onDisconnect(){return Xi("Reference.onDisconnect",this._delegate._path),new Pg(new fg(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Yc{constructor(r,s){this._delegate=r,this.app=s,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Kc,forceLongPolling:Cg}}useEmulator(r,s,l={}){!function op(o,r,s,l={}){(o=(0,N.m9)(o))._checkNotDeleted("useEmulator"),o._instanceStarted&&fi("Cannot call useEmulator() after instance has already been initialized.");const h=o._repoInternal;let E;if(h.repoInfo_.nodeAdmin)l.mockUserToken&&fi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),E=new _n(_n.OWNER);else if(l.mockUserToken){const b="string"==typeof l.mockUserToken?l.mockUserToken:(0,N.Sg)(l.mockUserToken,o.app.options.projectId);E=new _n(b)}!function Fd(o,r,s,l){o.repoInfo_=new ur(`${r}:${s}`,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams,!0),l&&(o.authTokenProvider_=l)}(h,r,s,E)}(this._delegate,r,s,l)}ref(r){if((0,N.Dv)("database.ref",0,1,arguments.length),r instanceof ti){const s=Qf(this._delegate,r.toString());return new ti(this,s)}{const s=jh(this._delegate,r);return new ti(this,s)}}refFromURL(r){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const l=Qf(this._delegate,r);return new ti(this,l)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function bg(o){(o=(0,N.m9)(o))._checkNotDeleted("goOffline"),ag(o._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function Yh(o){(o=(0,N.m9)(o))._checkNotDeleted("goOnline"),function Fh(o){o.persistentConnection_&&o.persistentConnection_.resume(va)}(o._repo)}(this._delegate)}}Yc.ServerValue={TIMESTAMP:function d_(){return Sg}(),increment:o=>function Ag(o){return{".sv":{increment:o}}}(o)};var Ng=Object.freeze({__proto__:null,initStandalone:function hp({app:o,url:r,version:s,customAuthImpl:l,customAppCheckImpl:h,namespace:E,nodeAdmin:b=!1}){Bs(s);const P=new ue.H0("database-standalone"),U=new ue.zt("auth-internal",P);let $;return U.setComponent(new ue.wA("auth-internal",()=>l,"PRIVATE")),h&&($=new ue.zt("app-check-internal",P),$.setComponent(new ue.wA("app-check-internal",()=>h,"PRIVATE"))),{instance:new Yc(yu(o,U,$,r,b),o),namespace:E}}});const Og=Yc.ServerValue;function Zl(o,r,s="on",l=oe.z){return new me.y(h=>{let E=null;return E=o[s](r,(b,P)=>{l.schedule(()=>{h.next({snapshot:b,prevKey:P})}),"once"===s&&l.schedule(()=>h.complete())},b=>{l.schedule(()=>h.error(b))}),"on"===s?{unsubscribe(){null!=E&&o.off(r,E)}}:{unsubscribe(){}}}).pipe((0,Le.U)(h=>{const{snapshot:E,prevKey:b}=h;let P=null;return E.exists()&&(P=E.key),{type:r,payload:E,prevKey:b,key:P}}),(0,Pu.B)())}function kg(o){return null==o}function $d(o){return"function"==typeof o.set}function Xh(o,r){return $d(r)?r:o.ref(r)}function pp(o,r){if(function fp(o){return"string"==typeof o}(o))return r.stringCase();if($d(o))return r.firebaseCase();if(function Qh(o){return"function"==typeof o.exportVal}(o))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof o)}function gp(o){return(kg(o)||0===o.length)&&(o=["child_added","child_removed","child_changed","child_moved"]),o}function Jh(o,r,s){const l=(r=gp(r)).map(h=>Zl(o,h,"on",s));return(0,Ar.T)(...l)}function _p(o,r){return function(l,h){return pp(l,{stringCase:()=>o.child(l)[r](h),firebaseCase:()=>l[r](h),snapshotCase:()=>l.ref[r](h)})}}function p_(o){return function(s){return s?pp(s,{stringCase:()=>o.child(s).remove(),firebaseCase:()=>s.remove(),snapshotCase:()=>s.ref.remove()}):o.remove()}}function ef(o,r){const s=o.length;for(let l=0;l<s;l++)if(o[l].payload.key===r)return l;return-1}function yp(o,r){const{payload:s,prevKey:l,key:h}=r,E=ef(o,h),b=function so(o,r){if(kg(r))return 0;{const s=ef(o,r);return-1===s?o.length:s+1}}(o,l);switch(r.type){case"value":if(r.payload?.exists()){let P=null;r.payload.forEach(U=>{const $={payload:U,type:"value",prevKey:P,key:U.key};return P=U.key,o=[...o,$],!1})}return o;case"child_added":if(E>-1)(o[E-1]?.key||null)!==l&&(o=o.filter(U=>U.payload.key!==s.key)).splice(b,0,r);else{if(null==l)return[r,...o];(o=o.slice()).splice(b,0,r)}return o;case"child_removed":return o.filter(P=>P.payload.key!==s.key);case"child_changed":return o.map(P=>P.payload.key===h?r:P);case"child_moved":if(E>-1){const P=o.splice(E,1)[0];return(o=o.slice()).splice(b,0,P),o}return o;default:return o}}function Ug(o,r,s){return function vp(o,r,s){return Zl(o,"value","once",s).pipe((0,Ke.w)(l=>{const h=[(0,Z.of)(l)];return r.forEach(E=>h.push(Zl(o,E,"on",s))),(0,Ar.T)(...h).pipe((0,Sa.R)(yp,[]))}),(0,ci.x)())}(o,r=gp(r),s)}function Ia(o,r){return function(){return Zl(o,"value","on",r)}}!function xg(o){o.INTERNAL.registerComponent(new ue.wA("database-compat",(r,{instanceIdentifier:s})=>{const l=r.getProvider("app-compat").getImmediate(),h=r.getProvider("database").getImmediate({identifier:s});return new Yc(h,l)},"PUBLIC").setServiceProps({Reference:ti,Query:dr,Database:Yc,DataSnapshot:Eu,enableLogging:ap,INTERNAL:Ng,ServerValue:Og}).setMultipleInstances(!0)),o.registerVersion("@firebase/database-compat","1.0.4")}(gt.Z);const Bg=new z.OlP("angularfire2.realtimeDatabaseURL"),g_=new z.OlP("angularfire2.database.use-emulator");let jg=(()=>{class o{schedulers;database;constructor(s,l,h,E,b,P,U,$,pe,Ee,be,Ge,nt,Bt,Jt){this.schedulers=P;const Kn=U,jn=(0,Ue.on)(s,b,l);$&&(0,ae.nw)(jn,b,pe,be,Ge,nt,Ee,Bt),this.database=(0,Ue.cc)(`${jn.name}.database.${h}`,"AngularFireDatabase",jn.name,()=>{const Fn=b.runOutsideAngular(()=>jn.database(h||void 0));return Kn&&Fn.useEmulator(...Kn),Fn},[Kn])}list(s,l){const h=this.schedulers.ngZone.runOutsideAngular(()=>Xh(this.database,s));let E=h;return l&&(E=l(h)),function tf(o,r){const s=r.schedulers.outsideAngular,l=r.schedulers.ngZone.run(()=>o.ref);return{query:o,update:_p(l,"update"),set:_p(l,"set"),push:h=>l.push(h),remove:p_(l),snapshotChanges:h=>Ug(o,h,s).pipe(Ie.iC),stateChanges:h=>Jh(o,h,s).pipe(Ie.iC),auditTrail:h=>function Lg(o,r,s){return function Fg(o,r,s){return function mp(o,r){return Zl(o,"value","on",r).pipe((0,Le.U)(s=>{let l;return s.payload.forEach(h=>(l=h.key,!1)),{data:s,lastKeyToLoad:l}}))}(o,s).pipe(function zi(...o){const r=(0,ho.jO)(o);return(0,Fe.e)((s,l)=>{const h=o.length,E=new Array(h);let b=o.map(()=>!1),P=!1;for(let U=0;U<h;U++)(0,Aa.Xf)(o[U]).subscribe((0,Oe.x)(l,$=>{E[U]=$,!P&&!b[U]&&(b[U]=!0,(P=b.every(Bo.y))&&(b=null))},jo.Z));s.subscribe((0,Oe.x)(l,U=>{if(P){const $=[U,...E];l.next(r?r(...$):$)}}))})}(r),(0,Le.U)(([h,E])=>{const b=h.lastKeyToLoad,P=E.map(U=>U.key);return{actions:E,lastKeyToLoad:b,loadedKeys:P}}),function Ra(o){return(0,Fe.e)((r,s)=>{let l=!1,h=0;r.subscribe((0,Oe.x)(s,E=>(l||(l=!o(E,h++)))&&s.next(E)))})}(h=>-1===h.loadedKeys.indexOf(h.lastKeyToLoad)),(0,Le.U)(h=>h.actions))}(o,Jh(o,r).pipe((0,Sa.R)((h,E)=>[...h,E],[])),s)}(o,h,s).pipe(Ie.iC),valueChanges:(h,E)=>Ug(o,h,s).pipe((0,Le.U)(P=>P.map(U=>E&&E.idField?{...U.payload.val(),[E.idField]:U.key}:U.payload.val())),Ie.iC)}}(E,this)}object(s){return function nf(o,r){return{query:o,snapshotChanges:()=>Ia(o,r.schedulers.outsideAngular)().pipe(Ie.iC),update:s=>o.ref.update(s),set:s=>o.ref.set(s),remove:()=>o.ref.remove(),valueChanges:()=>Ia(o,r.schedulers.outsideAngular)().pipe(Ie.iC,(0,Le.U)(l=>l.payload.exists()?l.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Xh(this.database,s)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(l){return new(l||o)(z.LFG(Ue.Dh),z.LFG(Ue.xv,8),z.LFG(Bg,8),z.LFG(z.Lbi),z.LFG(z.R0b),z.LFG(Ie.HU),z.LFG(g_,8),z.LFG(ae.zQ,8),z.LFG(ae.Qv,8),z.LFG(ae.L6,8),z.LFG(ae._Q,8),z.LFG(ae.rT,8),z.LFG(ae.lh,8),z.LFG(ae.f7,8),z.LFG(Ie.Rf,8))};static \u0275prov=z.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"})}return o})(),rf=(()=>{class o{constructor(){Ru.Z.registerVersion("angularfire",Ie.q4.full,"rtdb-compat")}static \u0275fac=function(l){return new(l||o)};static \u0275mod=z.oAB({type:o});static \u0275inj=z.cJS({providers:[jg]})}return o})();const No_firebaseConfig={apiKey:"AIzaSyBg1NQo-D7PuBfbLL6LHubCDLPuMmbSpXs",authDomain:"sonrie-membresias-60f58.firebaseapp.com",projectId:"sonrie-membresias-60f58",storageBucket:"sonrie-membresias-60f58.appspot.com",messagingSenderId:"538542720323",appId:"1:538542720323:web:805a2195e433656761dbf6",measurementId:"G-M3KFTD3DV6"};let Ep=(()=>{class o{static#e=this.\u0275fac=function(l){return new(l||o)};static#t=this.\u0275mod=z.oAB({type:o,bootstrap:[te]});static#n=this.\u0275inj=z.cJS({imports:[v.b2,ie,Ue.hO.initializeApp(No_firebaseConfig),ae.ww,Mu,rf]})}return o})();v.q6().bootstrapModule(Ep).catch(o=>console.error(o))},5619:(st,Ce,O)=>{O.d(Ce,{X:()=>X});var v=O(8645);class X extends v.x{constructor(G){super(),this._value=G}get value(){return this.getValue()}_subscribe(G){const ie=super._subscribe(G);return!ie.closed&&G.next(this._value),ie}getValue(){const{hasError:G,thrownError:ie,_value:te}=this;if(G)throw ie;return this._throwIfClosed(),te}next(G){super.next(this._value=G)}}},5592:(st,Ce,O)=>{O.d(Ce,{y:()=>Ie});var v=O(305),X=O(7394),z=O(4850),G=O(8407),ie=O(2653),te=O(4674),ae=O(1441);let Ie=(()=>{class oe{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const Ze=new oe;return Ze.source=this,Ze.operator=Oe,Ze}subscribe(Oe,Ze,Le){const Ke=function q(oe){return oe&&oe instanceof v.Lv||function Z(oe){return oe&&(0,te.m)(oe.next)&&(0,te.m)(oe.error)&&(0,te.m)(oe.complete)}(oe)&&(0,X.Nn)(oe)}(Oe)?Oe:new v.Hp(Oe,Ze,Le);return(0,ae.x)(()=>{const{operator:Ue,source:gt}=this;Ke.add(Ue?Ue.call(Ke,gt):gt?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(Ze){Oe.error(Ze)}}forEach(Oe,Ze){return new(Ze=me(Ze))((Le,Ke)=>{const Ue=new v.Hp({next:gt=>{try{Oe(gt)}catch(ct){Ke(ct),Ue.unsubscribe()}},error:Ke,complete:Le});this.subscribe(Ue)})}_subscribe(Oe){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Oe)}[z.L](){return this}pipe(...Oe){return(0,G.U)(Oe)(this)}toPromise(Oe){return new(Oe=me(Oe))((Ze,Le)=>{let Ke;this.subscribe(Ue=>Ke=Ue,Ue=>Le(Ue),()=>Ze(Ke))})}}return oe.create=Fe=>new oe(Fe),oe})();function me(oe){var Fe;return null!==(Fe=oe??ie.config.Promise)&&void 0!==Fe?Fe:Promise}},8645:(st,Ce,O)=>{O.d(Ce,{x:()=>ae});var v=O(5592),X=O(7394);const G=(0,O(2306).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=O(9039),te=O(1441);let ae=(()=>{class me extends v.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const oe=new Ie(this,this);return oe.operator=q,oe}_throwIfClosed(){if(this.closed)throw new G}next(q){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const oe of this.currentObservers)oe.next(q)}})}error(q){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:oe}=this;for(;oe.length;)oe.shift().error(q)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:oe,isStopped:Fe,observers:Oe}=this;return oe||Fe?X.Lc:(this.currentObservers=null,Oe.push(q),new X.w0(()=>{this.currentObservers=null,(0,ie.P)(Oe,q)}))}_checkFinalizedStatuses(q){const{hasError:oe,thrownError:Fe,isStopped:Oe}=this;oe?q.error(Fe):Oe&&q.complete()}asObservable(){const q=new v.y;return q.source=this,q}}return me.create=(Z,q)=>new Ie(Z,q),me})();class Ie extends ae{constructor(Z,q){super(),this.destination=Z,this.source=q}next(Z){var q,oe;null===(oe=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===oe||oe.call(q,Z)}error(Z){var q,oe;null===(oe=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===oe||oe.call(q,Z)}complete(){var Z,q;null===(q=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===q||q.call(Z)}_subscribe(Z){var q,oe;return null!==(oe=null===(q=this.source)||void 0===q?void 0:q.subscribe(Z))&&void 0!==oe?oe:X.Lc}}},305:(st,Ce,O)=>{O.d(Ce,{Hp:()=>Le,Lv:()=>oe});var v=O(4674),X=O(7394),z=O(2653),G=O(3894),ie=O(2420);const te=me("C",void 0,void 0);function me(de,N,ue){return{kind:de,value:N,error:ue}}var Z=O(7599),q=O(1441);class oe extends X.w0{constructor(N){super(),this.isStopped=!1,N?(this.destination=N,(0,X.Nn)(N)&&N.add(this)):this.destination=ct}static create(N,ue,Ne){return new Le(N,ue,Ne)}next(N){this.isStopped?gt(function Ie(de){return me("N",de,void 0)}(N),this):this._next(N)}error(N){this.isStopped?gt(function ae(de){return me("E",void 0,de)}(N),this):(this.isStopped=!0,this._error(N))}complete(){this.isStopped?gt(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(N){this.destination.next(N)}_error(N){try{this.destination.error(N)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Oe(de,N){return Fe.call(de,N)}class Ze{constructor(N){this.partialObserver=N}next(N){const{partialObserver:ue}=this;if(ue.next)try{ue.next(N)}catch(Ne){Ke(Ne)}}error(N){const{partialObserver:ue}=this;if(ue.error)try{ue.error(N)}catch(Ne){Ke(Ne)}else Ke(N)}complete(){const{partialObserver:N}=this;if(N.complete)try{N.complete()}catch(ue){Ke(ue)}}}class Le extends oe{constructor(N,ue,Ne){let Re;if(super(),(0,v.m)(N)||!N)Re={next:N??void 0,error:ue??void 0,complete:Ne??void 0};else{let He;this&&z.config.useDeprecatedNextContext?(He=Object.create(N),He.unsubscribe=()=>this.unsubscribe(),Re={next:N.next&&Oe(N.next,He),error:N.error&&Oe(N.error,He),complete:N.complete&&Oe(N.complete,He)}):Re=N}this.destination=new Ze(Re)}}function Ke(de){z.config.useDeprecatedSynchronousErrorHandling?(0,q.O)(de):(0,G.h)(de)}function gt(de,N){const{onStoppedNotification:ue}=z.config;ue&&Z.z.setTimeout(()=>ue(de,N))}const ct={closed:!0,next:ie.Z,error:function Ue(de){throw de},complete:ie.Z}},7394:(st,Ce,O)=>{O.d(Ce,{Lc:()=>te,w0:()=>ie,Nn:()=>ae});var v=O(4674);const z=(0,O(2306).d)(me=>function(q){me(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((oe,Fe)=>`${Fe+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var G=O(9039);class ie{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Oe of q)Oe.remove(this);else q.remove(this);const{initialTeardown:oe}=this;if((0,v.m)(oe))try{oe()}catch(Oe){Z=Oe instanceof z?Oe.errors:[Oe]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Oe of Fe)try{Ie(Oe)}catch(Ze){Z=Z??[],Ze instanceof z?Z=[...Z,...Ze.errors]:Z.push(Ze)}}if(Z)throw new z(Z)}}add(Z){var q;if(Z&&Z!==this)if(this.closed)Ie(Z);else{if(Z instanceof ie){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(Z)}}_hasParent(Z){const{_parentage:q}=this;return q===Z||Array.isArray(q)&&q.includes(Z)}_addParent(Z){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(Z),q):q?[q,Z]:Z}_removeParent(Z){const{_parentage:q}=this;q===Z?this._parentage=null:Array.isArray(q)&&(0,G.P)(q,Z)}remove(Z){const{_finalizers:q}=this;q&&(0,G.P)(q,Z),Z instanceof ie&&Z._removeParent(this)}}ie.EMPTY=(()=>{const me=new ie;return me.closed=!0,me})();const te=ie.EMPTY;function ae(me){return me instanceof ie||me&&"closed"in me&&(0,v.m)(me.remove)&&(0,v.m)(me.add)&&(0,v.m)(me.unsubscribe)}function Ie(me){(0,v.m)(me)?me():me.unsubscribe()}},2653:(st,Ce,O)=>{O.d(Ce,{config:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(st,Ce,O)=>{O.d(Ce,{z:()=>ie});var v=O(7537),z=O(4564),G=O(2459);function ie(...te){return function X(){return(0,v.J)(1)}()((0,G.D)(te,(0,z.yG)(te)))}},6232:(st,Ce,O)=>{O.d(Ce,{E:()=>X});const X=new(O(5592).y)(ie=>ie.complete())},2459:(st,Ce,O)=>{O.d(Ce,{D:()=>N});var v=O(4829),X=O(3093),z=O(5137),te=O(5592),Ie=O(4971),me=O(4674),Z=O(7103);function oe(ue,Ne){if(!ue)throw new Error("Iterable cannot be null");return new te.y(Re=>{(0,Z.f)(Re,Ne,()=>{const He=ue[Symbol.asyncIterator]();(0,Z.f)(Re,Ne,()=>{He.next().then(at=>{at.done?Re.complete():Re.next(at.value)})},0,!0)})})}var Fe=O(8382),Oe=O(4026),Ze=O(4266),Le=O(3664),Ke=O(5726),Ue=O(9853),gt=O(541);function N(ue,Ne){return Ne?function de(ue,Ne){if(null!=ue){if((0,Fe.c)(ue))return function G(ue,Ne){return(0,v.Xf)(ue).pipe((0,z.R)(Ne),(0,X.Q)(Ne))}(ue,Ne);if((0,Ze.z)(ue))return function ae(ue,Ne){return new te.y(Re=>{let He=0;return Ne.schedule(function(){He===ue.length?Re.complete():(Re.next(ue[He++]),Re.closed||this.schedule())})})}(ue,Ne);if((0,Oe.t)(ue))return function ie(ue,Ne){return(0,v.Xf)(ue).pipe((0,z.R)(Ne),(0,X.Q)(Ne))}(ue,Ne);if((0,Ke.D)(ue))return oe(ue,Ne);if((0,Le.T)(ue))return function q(ue,Ne){return new te.y(Re=>{let He;return(0,Z.f)(Re,Ne,()=>{He=ue[Ie.h](),(0,Z.f)(Re,Ne,()=>{let at,we;try{({value:at,done:we}=He.next())}catch(rt){return void Re.error(rt)}we?Re.complete():Re.next(at)},0,!0)}),()=>(0,me.m)(He?.return)&&He.return()})}(ue,Ne);if((0,gt.L)(ue))return function ct(ue,Ne){return oe((0,gt.Q)(ue),Ne)}(ue,Ne)}throw(0,Ue.z)(ue)}(ue,Ne):(0,v.Xf)(ue)}},4829:(st,Ce,O)=>{O.d(Ce,{Xf:()=>Fe});var v=O(7582),X=O(4266),z=O(4026),G=O(5592),ie=O(8382),te=O(5726),ae=O(9853),Ie=O(3664),me=O(541),Z=O(4674),q=O(3894),oe=O(4850);function Fe(de){if(de instanceof G.y)return de;if(null!=de){if((0,ie.c)(de))return function Oe(de){return new G.y(N=>{const ue=de[oe.L]();if((0,Z.m)(ue.subscribe))return ue.subscribe(N);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(de);if((0,X.z)(de))return function Ze(de){return new G.y(N=>{for(let ue=0;ue<de.length&&!N.closed;ue++)N.next(de[ue]);N.complete()})}(de);if((0,z.t)(de))return function Le(de){return new G.y(N=>{de.then(ue=>{N.closed||(N.next(ue),N.complete())},ue=>N.error(ue)).then(null,q.h)})}(de);if((0,te.D)(de))return Ue(de);if((0,Ie.T)(de))return function Ke(de){return new G.y(N=>{for(const ue of de)if(N.next(ue),N.closed)return;N.complete()})}(de);if((0,me.L)(de))return function gt(de){return Ue((0,me.Q)(de))}(de)}throw(0,ae.z)(de)}function Ue(de){return new G.y(N=>{(function ct(de,N){var ue,Ne,Re,He;return(0,v.mG)(this,void 0,void 0,function*(){try{for(ue=(0,v.KL)(de);!(Ne=yield ue.next()).done;)if(N.next(Ne.value),N.closed)return}catch(at){Re={error:at}}finally{try{Ne&&!Ne.done&&(He=ue.return)&&(yield He.call(ue))}finally{if(Re)throw Re.error}}N.complete()})})(de,N).catch(ue=>N.error(ue))})}},3019:(st,Ce,O)=>{O.d(Ce,{T:()=>te});var v=O(7537),X=O(4829),z=O(6232),G=O(4564),ie=O(2459);function te(...ae){const Ie=(0,G.yG)(ae),me=(0,G._6)(ae,1/0),Z=ae;return Z.length?1===Z.length?(0,X.Xf)(Z[0]):(0,v.J)(me)((0,ie.D)(Z,Ie)):z.E}},2096:(st,Ce,O)=>{O.d(Ce,{of:()=>z});var v=O(4564),X=O(2459);function z(...G){const ie=(0,v.yG)(G);return(0,X.D)(G,ie)}},8251:(st,Ce,O)=>{O.d(Ce,{x:()=>X});var v=O(305);function X(G,ie,te,ae,Ie){return new z(G,ie,te,ae,Ie)}class z extends v.Lv{constructor(ie,te,ae,Ie,me,Z){super(ie),this.onFinalize=me,this.shouldUnsubscribe=Z,this._next=te?function(q){try{te(q)}catch(oe){ie.error(oe)}}:super._next,this._error=Ie?function(q){try{Ie(q)}catch(oe){ie.error(oe)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(q){ie.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:te}=this;super.unsubscribe(),!te&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},3572:(st,Ce,O)=>{O.d(Ce,{d:()=>z});var v=O(9360),X=O(8251);function z(G){return(0,v.e)((ie,te)=>{let ae=!1;ie.subscribe((0,X.x)(te,Ie=>{ae=!0,te.next(Ie)},()=>{ae||te.next(G),te.complete()}))})}},3997:(st,Ce,O)=>{O.d(Ce,{x:()=>G});var v=O(2737),X=O(9360),z=O(8251);function G(te,ae=v.y){return te=te??ie,(0,X.e)((Ie,me)=>{let Z,q=!0;Ie.subscribe((0,z.x)(me,oe=>{const Fe=ae(oe);(q||!te(Z,Fe))&&(q=!1,Z=Fe,me.next(oe))}))})}function ie(te,ae){return te===ae}},2181:(st,Ce,O)=>{O.d(Ce,{h:()=>z});var v=O(9360),X=O(8251);function z(G,ie){return(0,v.e)((te,ae)=>{let Ie=0;te.subscribe((0,X.x)(ae,me=>G.call(ie,me,Ie++)&&ae.next(me)))})}},1374:(st,Ce,O)=>{O.d(Ce,{P:()=>ae});var v=O(6973),X=O(2181),z=O(8180),G=O(3572),ie=O(3026),te=O(2737);function ae(Ie,me){const Z=arguments.length>=2;return q=>q.pipe(Ie?(0,X.h)((oe,Fe)=>Ie(oe,Fe,q)):te.y,(0,z.q)(1),Z?(0,G.d)(me):(0,ie.T)(()=>new v.K))}},7398:(st,Ce,O)=>{O.d(Ce,{U:()=>z});var v=O(9360),X=O(8251);function z(G,ie){return(0,v.e)((te,ae)=>{let Ie=0;te.subscribe((0,X.x)(ae,me=>{ae.next(G.call(ie,me,Ie++))}))})}},7537:(st,Ce,O)=>{O.d(Ce,{J:()=>z});var v=O(1631),X=O(2737);function z(G=1/0){return(0,v.z)(X.y,G)}},1631:(st,Ce,O)=>{O.d(Ce,{z:()=>Ie});var v=O(7398),X=O(4829),z=O(9360),G=O(7103),ie=O(8251),ae=O(4674);function Ie(me,Z,q=1/0){return(0,ae.m)(Z)?Ie((oe,Fe)=>(0,v.U)((Oe,Ze)=>Z(oe,Oe,Fe,Ze))((0,X.Xf)(me(oe,Fe))),q):("number"==typeof Z&&(q=Z),(0,z.e)((oe,Fe)=>function te(me,Z,q,oe,Fe,Oe,Ze,Le){const Ke=[];let Ue=0,gt=0,ct=!1;const de=()=>{ct&&!Ke.length&&!Ue&&Z.complete()},N=Ne=>Ue<oe?ue(Ne):Ke.push(Ne),ue=Ne=>{Oe&&Z.next(Ne),Ue++;let Re=!1;(0,X.Xf)(q(Ne,gt++)).subscribe((0,ie.x)(Z,He=>{Fe?.(He),Oe?N(He):Z.next(He)},()=>{Re=!0},void 0,()=>{if(Re)try{for(Ue--;Ke.length&&Ue<oe;){const He=Ke.shift();Ze?(0,G.f)(Z,Ze,()=>ue(He)):ue(He)}de()}catch(He){Z.error(He)}}))};return me.subscribe((0,ie.x)(Z,N,()=>{ct=!0,de()})),()=>{Le?.()}}(oe,Fe,me,q)))}},3093:(st,Ce,O)=>{O.d(Ce,{Q:()=>G});var v=O(7103),X=O(9360),z=O(8251);function G(ie,te=0){return(0,X.e)((ae,Ie)=>{ae.subscribe((0,z.x)(Ie,me=>(0,v.f)(Ie,ie,()=>Ie.next(me),te),()=>(0,v.f)(Ie,ie,()=>Ie.complete(),te),me=>(0,v.f)(Ie,ie,()=>Ie.error(me),te)))})}},6699:(st,Ce,O)=>{O.d(Ce,{R:()=>G});var v=O(9360),X=O(8251);function G(ie,te){return(0,v.e)(function z(ie,te,ae,Ie,me){return(Z,q)=>{let oe=ae,Fe=te,Oe=0;Z.subscribe((0,X.x)(q,Ze=>{const Le=Oe++;Fe=oe?ie(Fe,Ze,Le):(oe=!0,Ze),Ie&&q.next(Fe)},me&&(()=>{oe&&q.next(Fe),q.complete()})))}}(ie,te,arguments.length>=2,!0))}},3020:(st,Ce,O)=>{O.d(Ce,{B:()=>ie});var v=O(4829),X=O(8645),z=O(305),G=O(9360);function ie(ae={}){const{connector:Ie=(()=>new X.x),resetOnError:me=!0,resetOnComplete:Z=!0,resetOnRefCountZero:q=!0}=ae;return oe=>{let Fe,Oe,Ze,Le=0,Ke=!1,Ue=!1;const gt=()=>{Oe?.unsubscribe(),Oe=void 0},ct=()=>{gt(),Fe=Ze=void 0,Ke=Ue=!1},de=()=>{const N=Fe;ct(),N?.unsubscribe()};return(0,G.e)((N,ue)=>{Le++,!Ue&&!Ke&&gt();const Ne=Ze=Ze??Ie();ue.add(()=>{Le--,0===Le&&!Ue&&!Ke&&(Oe=te(de,q))}),Ne.subscribe(ue),!Fe&&Le>0&&(Fe=new z.Hp({next:Re=>Ne.next(Re),error:Re=>{Ue=!0,gt(),Oe=te(ct,me,Re),Ne.error(Re)},complete:()=>{Ke=!0,gt(),Oe=te(ct,Z),Ne.complete()}}),(0,v.Xf)(N).subscribe(Fe))})(oe)}}function te(ae,Ie,...me){if(!0===Ie)return void ae();if(!1===Ie)return;const Z=new z.Hp({next:()=>{Z.unsubscribe(),ae()}});return(0,v.Xf)(Ie(...me)).subscribe(Z)}},7921:(st,Ce,O)=>{O.d(Ce,{O:()=>G});var v=O(5211),X=O(4564),z=O(9360);function G(...ie){const te=(0,X.yG)(ie);return(0,z.e)((ae,Ie)=>{(te?(0,v.z)(ie,ae,te):(0,v.z)(ie,ae)).subscribe(Ie)})}},5137:(st,Ce,O)=>{O.d(Ce,{R:()=>X});var v=O(9360);function X(z,G=0){return(0,v.e)((ie,te)=>{te.add(z.schedule(()=>ie.subscribe(te),G))})}},4664:(st,Ce,O)=>{O.d(Ce,{w:()=>G});var v=O(4829),X=O(9360),z=O(8251);function G(ie,te){return(0,X.e)((ae,Ie)=>{let me=null,Z=0,q=!1;const oe=()=>q&&!me&&Ie.complete();ae.subscribe((0,z.x)(Ie,Fe=>{me?.unsubscribe();let Oe=0;const Ze=Z++;(0,v.Xf)(ie(Fe,Ze)).subscribe(me=(0,z.x)(Ie,Le=>Ie.next(te?te(Fe,Le,Ze,Oe++):Le),()=>{me=null,oe()}))},()=>{q=!0,oe()}))})}},8180:(st,Ce,O)=>{O.d(Ce,{q:()=>G});var v=O(6232),X=O(9360),z=O(8251);function G(ie){return ie<=0?()=>v.E:(0,X.e)((te,ae)=>{let Ie=0;te.subscribe((0,z.x)(ae,me=>{++Ie<=ie&&(ae.next(me),ie<=Ie&&ae.complete())}))})}},9397:(st,Ce,O)=>{O.d(Ce,{b:()=>ie});var v=O(4674),X=O(9360),z=O(8251),G=O(2737);function ie(te,ae,Ie){const me=(0,v.m)(te)||ae||Ie?{next:te,error:ae,complete:Ie}:te;return me?(0,X.e)((Z,q)=>{var oe;null===(oe=me.subscribe)||void 0===oe||oe.call(me);let Fe=!0;Z.subscribe((0,z.x)(q,Oe=>{var Ze;null===(Ze=me.next)||void 0===Ze||Ze.call(me,Oe),q.next(Oe)},()=>{var Oe;Fe=!1,null===(Oe=me.complete)||void 0===Oe||Oe.call(me),q.complete()},Oe=>{var Ze;Fe=!1,null===(Ze=me.error)||void 0===Ze||Ze.call(me,Oe),q.error(Oe)},()=>{var Oe,Ze;Fe&&(null===(Oe=me.unsubscribe)||void 0===Oe||Oe.call(me)),null===(Ze=me.finalize)||void 0===Ze||Ze.call(me)}))}):G.y}},3026:(st,Ce,O)=>{O.d(Ce,{T:()=>G});var v=O(6973),X=O(9360),z=O(8251);function G(te=ie){return(0,X.e)((ae,Ie)=>{let me=!1;ae.subscribe((0,z.x)(Ie,Z=>{me=!0,Ie.next(Z)},()=>me?Ie.complete():Ie.error(te())))})}function ie(){return new v.K}},1954:(st,Ce,O)=>{O.d(Ce,{o:()=>ie});var v=O(7394);class X extends v.w0{constructor(ae,Ie){super()}schedule(ae,Ie=0){return this}}const z={setInterval(te,ae,...Ie){const{delegate:me}=z;return me?.setInterval?me.setInterval(te,ae,...Ie):setInterval(te,ae,...Ie)},clearInterval(te){const{delegate:ae}=z;return(ae?.clearInterval||clearInterval)(te)},delegate:void 0};var G=O(9039);class ie extends X{constructor(ae,Ie){super(ae,Ie),this.scheduler=ae,this.work=Ie,this.pending=!1}schedule(ae,Ie=0){var me;if(this.closed)return this;this.state=ae;const Z=this.id,q=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(q,Z,Ie)),this.pending=!0,this.delay=Ie,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(q,this.id,Ie),this}requestAsyncId(ae,Ie,me=0){return z.setInterval(ae.flush.bind(ae,this),me)}recycleAsyncId(ae,Ie,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return Ie;null!=Ie&&z.clearInterval(Ie)}execute(ae,Ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(ae,Ie);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,Ie){let Z,me=!1;try{this.work(ae)}catch(q){me=!0,Z=q||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:ae,scheduler:Ie}=this,{actions:me}=Ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.P)(me,this),null!=ae&&(this.id=this.recycleAsyncId(Ie,ae,null)),this.delay=null,super.unsubscribe()}}}},2631:(st,Ce,O)=>{O.d(Ce,{v:()=>z});var v=O(4552);class X{constructor(ie,te=X.now){this.schedulerActionCtor=ie,this.now=te}schedule(ie,te=0,ae){return new this.schedulerActionCtor(this,ie).schedule(ae,te)}}X.now=v.l.now;class z extends X{constructor(ie,te=X.now){super(ie,te),this.actions=[],this._active=!1}flush(ie){const{actions:te}=this;if(this._active)return void te.push(ie);let ae;this._active=!0;do{if(ae=ie.execute(ie.state,ie.delay))break}while(ie=te.shift());if(this._active=!1,ae){for(;ie=te.shift();)ie.unsubscribe();throw ae}}}},6321:(st,Ce,O)=>{O.d(Ce,{z:()=>z});var v=O(1954);const z=new(O(2631).v)(v.o)},4552:(st,Ce,O)=>{O.d(Ce,{l:()=>v});const v={now:()=>(v.delegate||Date).now(),delegate:void 0}},7599:(st,Ce,O)=>{O.d(Ce,{z:()=>v});const v={setTimeout(X,z,...G){const{delegate:ie}=v;return ie?.setTimeout?ie.setTimeout(X,z,...G):setTimeout(X,z,...G)},clearTimeout(X){const{delegate:z}=v;return(z?.clearTimeout||clearTimeout)(X)},delegate:void 0}},4971:(st,Ce,O)=>{O.d(Ce,{h:()=>X});const X=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(st,Ce,O)=>{O.d(Ce,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(st,Ce,O)=>{O.d(Ce,{K:()=>X});const X=(0,O(2306).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(st,Ce,O)=>{O.d(Ce,{_6:()=>te,jO:()=>G,yG:()=>ie});var v=O(4674);function z(ae){return ae[ae.length-1]}function G(ae){return(0,v.m)(z(ae))?ae.pop():void 0}function ie(ae){return function X(ae){return ae&&(0,v.m)(ae.schedule)}(z(ae))?ae.pop():void 0}function te(ae,Ie){return"number"==typeof z(ae)?ae.pop():Ie}},7453:(st,Ce,O)=>{O.d(Ce,{D:()=>ie});const{isArray:v}=Array,{getPrototypeOf:X,prototype:z,keys:G}=Object;function ie(ae){if(1===ae.length){const Ie=ae[0];if(v(Ie))return{args:Ie,keys:null};if(function te(ae){return ae&&"object"==typeof ae&&X(ae)===z}(Ie)){const me=G(Ie);return{args:me.map(Z=>Ie[Z]),keys:me}}}return{args:ae,keys:null}}},9039:(st,Ce,O)=>{function v(X,z){if(X){const G=X.indexOf(z);0<=G&&X.splice(G,1)}}O.d(Ce,{P:()=>v})},2306:(st,Ce,O)=>{function v(X){const G=X(ie=>{Error.call(ie),ie.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}O.d(Ce,{d:()=>v})},2714:(st,Ce,O)=>{function v(X,z){return X.reduce((G,ie,te)=>(G[ie]=z[te],G),{})}O.d(Ce,{n:()=>v})},1441:(st,Ce,O)=>{O.d(Ce,{O:()=>G,x:()=>z});var v=O(2653);let X=null;function z(ie){if(v.config.useDeprecatedSynchronousErrorHandling){const te=!X;if(te&&(X={errorThrown:!1,error:null}),ie(),te){const{errorThrown:ae,error:Ie}=X;if(X=null,ae)throw Ie}}else ie()}function G(ie){v.config.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ie)}},7103:(st,Ce,O)=>{function v(X,z,G,ie=0,te=!1){const ae=z.schedule(function(){G(),te?X.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(X.add(ae),!te)return ae}O.d(Ce,{f:()=>v})},2737:(st,Ce,O)=>{function v(X){return X}O.d(Ce,{y:()=>v})},4266:(st,Ce,O)=>{O.d(Ce,{z:()=>v});const v=X=>X&&"number"==typeof X.length&&"function"!=typeof X},5726:(st,Ce,O)=>{O.d(Ce,{D:()=>X});var v=O(4674);function X(z){return Symbol.asyncIterator&&(0,v.m)(z?.[Symbol.asyncIterator])}},4674:(st,Ce,O)=>{function v(X){return"function"==typeof X}O.d(Ce,{m:()=>v})},8382:(st,Ce,O)=>{O.d(Ce,{c:()=>z});var v=O(4850),X=O(4674);function z(G){return(0,X.m)(G[v.L])}},3664:(st,Ce,O)=>{O.d(Ce,{T:()=>z});var v=O(4971),X=O(4674);function z(G){return(0,X.m)(G?.[v.h])}},4026:(st,Ce,O)=>{O.d(Ce,{t:()=>X});var v=O(4674);function X(z){return(0,v.m)(z?.then)}},541:(st,Ce,O)=>{O.d(Ce,{L:()=>G,Q:()=>z});var v=O(7582),X=O(4674);function z(ie){return(0,v.FC)(this,arguments,function*(){const ae=ie.getReader();try{for(;;){const{value:Ie,done:me}=yield(0,v.qq)(ae.read());if(me)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(Ie)}}finally{ae.releaseLock()}})}function G(ie){return(0,X.m)(ie?.getReader)}},9360:(st,Ce,O)=>{O.d(Ce,{A:()=>X,e:()=>z});var v=O(4674);function X(G){return(0,v.m)(G?.lift)}function z(G){return ie=>{if(X(ie))return ie.lift(function(te){try{return G(te,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(st,Ce,O)=>{O.d(Ce,{Z:()=>G});var v=O(7398);const{isArray:X}=Array;function G(ie){return(0,v.U)(te=>function z(ie,te){return X(te)?ie(...te):ie(te)}(ie,te))}},2420:(st,Ce,O)=>{function v(){}O.d(Ce,{Z:()=>v})},8407:(st,Ce,O)=>{O.d(Ce,{U:()=>z,z:()=>X});var v=O(2737);function X(...G){return z(G)}function z(G){return 0===G.length?v.y:1===G.length?G[0]:function(te){return G.reduce((ae,Ie)=>Ie(ae),te)}}},3894:(st,Ce,O)=>{O.d(Ce,{h:()=>z});var v=O(2653),X=O(7599);function z(G){X.z.setTimeout(()=>{const{onUnhandledError:ie}=v.config;if(!ie)throw G;ie(G)})}},9853:(st,Ce,O)=>{function v(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Ce,{z:()=>v})},6814:(st,Ce,O)=>{O.d(Ce,{Do:()=>Le,EM:()=>Ei,HT:()=>G,JF:()=>Ii,K0:()=>te,Mx:()=>Et,O5:()=>as,PM:()=>xs,S$:()=>Fe,V_:()=>Ie,Ye:()=>Ke,b0:()=>Ze,bD:()=>An,ez:()=>ui,q:()=>z,w_:()=>ie});var v=O(5879);let X=null;function z(){return X}function G(I){X||(X=I)}class ie{}const te=new v.OlP("DocumentToken");let ae=(()=>{class I{historyGo(T){throw new Error("Not implemented")}static#e=this.\u0275fac=function(M){return new(M||I)};static#t=this.\u0275prov=v.Yz7({token:I,factory:function(){return(0,v.f3M)(me)},providedIn:"platform"})}return I})();const Ie=new v.OlP("Location Initialized");let me=(()=>{class I extends ae{constructor(){super(),this._doc=(0,v.f3M)(te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(T){const M=z().getGlobalEventTarget(this._doc,"window");return M.addEventListener("popstate",T,!1),()=>M.removeEventListener("popstate",T)}onHashChange(T){const M=z().getGlobalEventTarget(this._doc,"window");return M.addEventListener("hashchange",T,!1),()=>M.removeEventListener("hashchange",T)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(T){this._location.pathname=T}pushState(T,M,Y){this._history.pushState(T,M,Y)}replaceState(T,M,Y){this._history.replaceState(T,M,Y)}forward(){this._history.forward()}back(){this._history.back()}historyGo(T=0){this._history.go(T)}getState(){return this._history.state}static#e=this.\u0275fac=function(M){return new(M||I)};static#t=this.\u0275prov=v.Yz7({token:I,factory:function(){return new I},providedIn:"platform"})}return I})();function Z(I,x){if(0==I.length)return x;if(0==x.length)return I;let T=0;return I.endsWith("/")&&T++,x.startsWith("/")&&T++,2==T?I+x.substring(1):1==T?I+x:I+"/"+x}function q(I){const x=I.match(/#|\?|$/),T=x&&x.index||I.length;return I.slice(0,T-("/"===I[T-1]?1:0))+I.slice(T)}function oe(I){return I&&"?"!==I[0]?"?"+I:I}let Fe=(()=>{class I{historyGo(T){throw new Error("Not implemented")}static#e=this.\u0275fac=function(M){return new(M||I)};static#t=this.\u0275prov=v.Yz7({token:I,factory:function(){return(0,v.f3M)(Ze)},providedIn:"root"})}return I})();const Oe=new v.OlP("appBaseHref");let Ze=(()=>{class I extends Fe{constructor(T,M){super(),this._platformLocation=T,this._removeListenerFns=[],this._baseHref=M??this._platformLocation.getBaseHrefFromDOM()??(0,v.f3M)(te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}prepareExternalUrl(T){return Z(this._baseHref,T)}path(T=!1){const M=this._platformLocation.pathname+oe(this._platformLocation.search),Y=this._platformLocation.hash;return Y&&T?`${M}${Y}`:M}pushState(T,M,Y,De){const ke=this.prepareExternalUrl(Y+oe(De));this._platformLocation.pushState(T,M,ke)}replaceState(T,M,Y,De){const ke=this.prepareExternalUrl(Y+oe(De));this._platformLocation.replaceState(T,M,ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}static#e=this.\u0275fac=function(M){return new(M||I)(v.LFG(ae),v.LFG(Oe,8))};static#t=this.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})(),Le=(()=>{class I extends Fe{constructor(T,M){super(),this._platformLocation=T,this._baseHref="",this._removeListenerFns=[],null!=M&&(this._baseHref=M)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}path(T=!1){let M=this._platformLocation.hash;return null==M&&(M="#"),M.length>0?M.substring(1):M}prepareExternalUrl(T){const M=Z(this._baseHref,T);return M.length>0?"#"+M:M}pushState(T,M,Y,De){let ke=this.prepareExternalUrl(Y+oe(De));0==ke.length&&(ke=this._platformLocation.pathname),this._platformLocation.pushState(T,M,ke)}replaceState(T,M,Y,De){let ke=this.prepareExternalUrl(Y+oe(De));0==ke.length&&(ke=this._platformLocation.pathname),this._platformLocation.replaceState(T,M,ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}static#e=this.\u0275fac=function(M){return new(M||I)(v.LFG(ae),v.LFG(Oe,8))};static#t=this.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac})}return I})(),Ke=(()=>{class I{constructor(T){this._subject=new v.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=T;const M=this._locationStrategy.getBaseHref();this._basePath=function de(I){if(new RegExp("^(https?:)?//").test(I)){const[,T]=I.split(/\/\/[^\/]+/);return T}return I}(q(ct(M))),this._locationStrategy.onPopState(Y=>{this._subject.emit({url:this.path(!0),pop:!0,state:Y.state,type:Y.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(T=!1){return this.normalize(this._locationStrategy.path(T))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(T,M=""){return this.path()==this.normalize(T+oe(M))}normalize(T){return I.stripTrailingSlash(function gt(I,x){if(!I||!x.startsWith(I))return x;const T=x.substring(I.length);return""===T||["/",";","?","#"].includes(T[0])?T:x}(this._basePath,ct(T)))}prepareExternalUrl(T){return T&&"/"!==T[0]&&(T="/"+T),this._locationStrategy.prepareExternalUrl(T)}go(T,M="",Y=null){this._locationStrategy.pushState(Y,"",T,M),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+oe(M)),Y)}replaceState(T,M="",Y=null){this._locationStrategy.replaceState(Y,"",T,M),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+oe(M)),Y)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(T=0){this._locationStrategy.historyGo?.(T)}onUrlChange(T){return this._urlChangeListeners.push(T),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(M=>{this._notifyUrlChangeListeners(M.url,M.state)})),()=>{const M=this._urlChangeListeners.indexOf(T);this._urlChangeListeners.splice(M,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(T="",M){this._urlChangeListeners.forEach(Y=>Y(T,M))}subscribe(T,M,Y){return this._subject.subscribe({next:T,error:M,complete:Y})}static#e=this.normalizeQueryParams=oe;static#t=this.joinWithSlash=Z;static#n=this.stripTrailingSlash=q;static#r=this.\u0275fac=function(M){return new(M||I)(v.LFG(Fe))};static#i=this.\u0275prov=v.Yz7({token:I,factory:function(){return function Ue(){return new Ke((0,v.LFG)(Fe))}()},providedIn:"root"})}return I})();function ct(I){return I.replace(/\/index.html$/,"")}function Et(I,x){x=encodeURIComponent(x);for(const T of I.split(";")){const M=T.indexOf("="),[Y,De]=-1==M?[T,""]:[T.slice(0,M),T.slice(M+1)];if(Y.trim()===x)return decodeURIComponent(De)}return null}let as=(()=>{class I{constructor(T,M){this._viewContainer=T,this._context=new uo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=M}set ngIf(T){this._context.$implicit=this._context.ngIf=T,this._updateView()}set ngIfThen(T){Rs("ngIfThen",T),this._thenTemplateRef=T,this._thenViewRef=null,this._updateView()}set ngIfElse(T){Rs("ngIfElse",T),this._elseTemplateRef=T,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(T,M){return!0}static#e=this.\u0275fac=function(M){return new(M||I)(v.Y36(v.s_b),v.Y36(v.Rgc))};static#t=this.\u0275dir=v.lG2({type:I,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return I})();class uo{constructor(){this.$implicit=null,this.ngIf=null}}function Rs(I,x){if(x&&!x.createEmbeddedView)throw new Error(`${I} must be a TemplateRef, but received '${(0,v.AaK)(x)}'.`)}let ui=(()=>{class I{static#e=this.\u0275fac=function(M){return new(M||I)};static#t=this.\u0275mod=v.oAB({type:I});static#n=this.\u0275inj=v.cJS({})}return I})();const An="browser",Fr="server";function xs(I){return I===Fr}let Ei=(()=>{class I{static#e=this.\u0275prov=(0,v.Yz7)({token:I,providedIn:"root",factory:()=>new Gn((0,v.LFG)(te),window)})}return I})();class Gn{constructor(x,T){this.document=x,this.window=T,this.offset=()=>[0,0]}setOffset(x){this.offset=Array.isArray(x)?()=>x:x}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(x){this.supportsScrolling()&&this.window.scrollTo(x[0],x[1])}scrollToAnchor(x){if(!this.supportsScrolling())return;const T=function Ls(I,x){const T=I.getElementById(x)||I.getElementsByName(x)[0];if(T)return T;if("function"==typeof I.createTreeWalker&&I.body&&"function"==typeof I.body.attachShadow){const M=I.createTreeWalker(I.body,NodeFilter.SHOW_ELEMENT);let Y=M.currentNode;for(;Y;){const De=Y.shadowRoot;if(De){const ke=De.getElementById(x)||De.querySelector(`[name="${x}"]`);if(ke)return ke}Y=M.nextNode()}}return null}(this.document,x);T&&(this.scrollToElement(T),T.focus())}setHistoryScrollRestoration(x){this.supportsScrolling()&&(this.window.history.scrollRestoration=x)}scrollToElement(x){const T=x.getBoundingClientRect(),M=T.left+this.window.pageXOffset,Y=T.top+this.window.pageYOffset,De=this.offset();this.window.scrollTo(M-De[0],Y-De[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ii{}},5879:(st,Ce,O)=>{O.d(Ce,{$8M:()=>pc,$WT:()=>vi,$Z:()=>S_,AFp:()=>ip,AaK:()=>oe,CRH:()=>yE,EJc:()=>mb,F4k:()=>yv,FYo:()=>hp,FiY:()=>aa,GfV:()=>Zl,Gpc:()=>Ze,HDt:()=>VE,JOm:()=>Ro,LFG:()=>ut,Lbi:()=>$h,Lck:()=>QC,MMx:()=>Zy,NdJ:()=>hm,Ojb:()=>Eg,OlP:()=>dt,P3R:()=>Nd,PXZ:()=>zb,Q6J:()=>om,QGY:()=>dm,Qsj:()=>Ng,R0b:()=>s,RDi:()=>Ff,Rgc:()=>Df,SBq:()=>ti,Sil:()=>yb,Suo:()=>vE,TTD:()=>Nt,TgZ:()=>Op,VuI:()=>ST,X6Q:()=>Jb,XFs:()=>vt,Xpm:()=>Ns,Xq5:()=>ev,Xts:()=>Cs,Y36:()=>zd,YKP:()=>zy,YNc:()=>fv,Yjl:()=>_i,Yz7:()=>Ct,Z0I:()=>$t,ZZ4:()=>Xm,_Bn:()=>Wy,_UZ:()=>um,_c5:()=>gT,_uU:()=>Kv,aQg:()=>Jm,c2e:()=>jE,cJS:()=>dn,cg1:()=>ym,dDg:()=>Vb,dqk:()=>Gt,eFA:()=>QE,eJc:()=>Lm,ekj:()=>_m,eoX:()=>ZE,f3M:()=>mt,g9A:()=>sp,h0i:()=>Jc,hGG:()=>mT,hij:()=>Fp,iGM:()=>_E,ifc:()=>_r,ip1:()=>BE,jDz:()=>Ky,kL8:()=>my,lG2:()=>wa,lqb:()=>io,lri:()=>zE,n5z:()=>ta,oAB:()=>lo,oxw:()=>wv,q4F:()=>fp,qFp:()=>RT,qLn:()=>Ia,qOj:()=>Xg,qZA:()=>xp,rWj:()=>GE,rg0:()=>De,sBO:()=>eT,s_b:()=>Wp,soG:()=>Gp,tb:()=>Gm,tp0:()=>Ja,uIk:()=>em,vHH:()=>de,vpe:()=>No,wAp:()=>ih,xp6:()=>b_,z2F:()=>uh,zSh:()=>dl,zs3:()=>so});var v=O(8645),X=O(7394),z=O(5592),G=O(3019),ie=O(5619),te=O(2096),ae=O(3020),Ie=O(4664),me=O(3997);function Z(e){for(let t in e)if(e[t]===Z)return t;throw Error("Could not find renamed property on target object.")}function q(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function oe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(oe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Fe(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Oe=Z({__forward_ref__:Z});function Ze(e){return e.__forward_ref__=Ze,e.toString=function(){return oe(this())},e}function Le(e){return Ke(e)?e():e}function Ke(e){return"function"==typeof e&&e.hasOwnProperty(Oe)&&e.__forward_ref__===Ze}function Ue(e){return e&&!!e.\u0275providers}const ct="https://g.co/ng/security#xss";class de extends Error{constructor(t,n){super(function N(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function ue(e){return"string"==typeof e?e:null==e?"":String(e)}function we(e,t){throw new de(-201,!1)}function Ve(e,t){null==e&&function ze(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function Ct(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function dn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Qt(e){return Qe(e,bn)||Qe(e,Cr)}function $t(e){return null!==Qt(e)}function Qe(e,t){return e.hasOwnProperty(t)?e[t]:null}function Hn(e){return e&&(e.hasOwnProperty(Dr)||e.hasOwnProperty(Dn))?e[Dr]:null}const bn=Z({\u0275prov:Z}),Dr=Z({\u0275inj:Z}),Cr=Z({ngInjectableDef:Z}),Dn=Z({ngInjectorDef:Z});var vt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(vt||{});let Ot;function un(e){const t=Ot;return Ot=e,t}function Cn(e,t,n){const i=Qt(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&vt.Optional?null:void 0!==t?t:void we(oe(e))}const Gt=globalThis;class dt{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ct({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const or={},hr="__NG_DI_FLAG__",br="ngTempTokenPath",j=/\n/gm,B="__source";let H;function Me(e){const t=H;return H=e,t}function Je(e,t=vt.Default){if(void 0===H)throw new de(-203,!1);return null===H?Cn(e,void 0,t):H.get(e,t&vt.Optional?null:void 0,t)}function ut(e,t=vt.Default){return(function It(){return Ot}()||Je)(Le(e),t)}function mt(e,t=vt.Default){return ut(e,ht(t))}function ht(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function tn(e){const t=[];for(let n=0;n<e.length;n++){const i=Le(e[n]);if(Array.isArray(i)){if(0===i.length)throw new de(900,!1);let a,d=vt.Default;for(let p=0;p<i.length;p++){const y=i[p],C=ii(y);"number"==typeof C?-1===C?a=y.token:d|=C:a=y}t.push(ut(a,d))}else t.push(ut(i))}return t}function fr(e,t){return e[hr]=t,e.prototype[hr]=t,e}function ii(e){return e[hr]}function ar(e){return{toString:e}.toString()}var Wr=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Wr||{}),_r=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(_r||{});const $n={},le=[],he=Z({\u0275cmp:Z}),Pe=Z({\u0275dir:Z}),Ye=Z({\u0275pipe:Z}),_t=Z({\u0275mod:Z}),Et=Z({\u0275fac:Z}),Rt=Z({__NG_ELEMENT_ID__:Z}),gn=Z({__NG_ENV_ID__:Z});function ln(e,t,n){let i=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const d=t.length;if(a+d===i||e.charCodeAt(a+d)<=32)return a}n=a+1}}function Sn(e,t,n){let i=0;for(;i<n.length;){const a=n[i];if("number"==typeof a){if(0!==a)break;i++;const d=n[i++],p=n[i++],y=n[i++];e.setAttribute(t,p,y,d)}else{const d=a,p=n[++i];ao(d)?e.setProperty(t,d,p):e.setAttribute(t,d,p),i++}}return i}function si(e){return 3===e||4===e||6===e}function ao(e){return 64===e.charCodeAt(0)}function ss(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const a=t[i];"number"==typeof a?n=a:0===n||hn(e,n,a,null,-1===n||2===n?t[++i]:null)}}return e}function hn(e,t,n,i,a){let d=0,p=e.length;if(-1===t)p=-1;else for(;d<e.length;){const y=e[d++];if("number"==typeof y){if(y===t){p=-1;break}if(y>t){p=d-1;break}}}for(;d<e.length;){const y=e[d];if("number"==typeof y)break;if(y===n){if(null===i)return void(null!==a&&(e[d+1]=a));if(i===e[d+1])return void(e[d+2]=a)}d++,null!==i&&d++,null!==a&&d++}-1!==p&&(e.splice(p,0,t),d=p+1),e.splice(d++,0,n),null!==i&&e.splice(d++,0,i),null!==a&&e.splice(d++,0,a)}const os="ng-template";function as(e,t,n){let i=0,a=!0;for(;i<e.length;){let d=e[i++];if("string"==typeof d&&a){const p=e[i++];if(n&&"class"===d&&-1!==ln(p.toLowerCase(),t,0))return!0}else{if(1===d){for(;i<e.length&&"string"==typeof(d=e[i++]);)if(d.toLowerCase()===t)return!0;return!1}"number"==typeof d&&(a=!1)}}return!1}function uo(e){return 4===e.type&&e.value!==os}function Rs(e,t,n){return t===(4!==e.type||n?e.value:os)}function Ms(e,t,n){let i=4;const a=e.attrs||[],d=function oi(e){for(let t=0;t<e.length;t++)if(si(e[t]))return t;return e.length}(a);let p=!1;for(let y=0;y<t.length;y++){const C=t[y];if("number"!=typeof C){if(!p)if(4&i){if(i=2|1&i,""!==C&&!Rs(e,C,n)||""===C&&1===t.length){if(Jn(i))return!1;p=!0}}else{const R=8&i?C:t[++y];if(8&i&&null!==e.attrs){if(!as(e.attrs,R,n)){if(Jn(i))return!1;p=!0}continue}const W=ji(8&i?"class":C,a,uo(e),n);if(-1===W){if(Jn(i))return!1;p=!0;continue}if(""!==R){let re;re=W>d?"":a[W+1].toLowerCase();const ge=8&i?re:null;if(ge&&-1!==ln(ge,R,0)||2&i&&R!==re){if(Jn(i))return!1;p=!0}}}}else{if(!p&&!Jn(i)&&!Jn(C))return!1;if(p&&Jn(C))continue;p=!1,i=C|1&i}}return Jn(i)||p}function Jn(e){return 0==(1&e)}function ji(e,t,n,i){if(null===t)return-1;let a=0;if(i||!n){let d=!1;for(;a<t.length;){const p=t[a];if(p===e)return a;if(3===p||6===p)d=!0;else{if(1===p||2===p){let y=t[++a];for(;"string"==typeof y;)y=t[++a];continue}if(4===p)break;if(0===p){a+=4;continue}}a+=d?1:2}return-1}return function Ps(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function kr(e,t,n=!1){for(let i=0;i<t.length;i++)if(Ms(e,t[i],n))return!0;return!1}function Wn(e,t){return e?":not("+t.trim()+")":t}function Vi(e){let t=e[0],n=1,i=2,a="",d=!1;for(;n<e.length;){let p=e[n];if("string"==typeof p)if(2&i){const y=e[++n];a+="["+p+(y.length>0?'="'+y+'"':"")+"]"}else 8&i?a+="."+p:4&i&&(a+=" "+p);else""!==a&&!Jn(p)&&(t+=Wn(d,a),a=""),i=p,d=d||!Jn(i);n++}return""!==a&&(t+=Wn(d,a)),t}function Ns(e){return ar(()=>{const t=Os(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Wr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||_r.Emulated,styles:e.styles||le,_:null,schemas:e.schemas||null,tView:null,id:""};co(n);const i=e.dependencies;return n.directiveDefs=yi(i,!1),n.pipeDefs=yi(i,!0),n.id=function ai(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of n)t=Math.imul(31,t)+a.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Tu(e){return xt(e)||Un(e)}function Lr(e){return null!==e}function lo(e){return ar(()=>({type:e.type,bootstrap:e.bootstrap||le,declarations:e.declarations||le,imports:e.imports||le,exports:e.exports||le,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ko(e,t){if(null==e)return $n;const n={};for(const i in e)if(e.hasOwnProperty(i)){let a=e[i],d=a;Array.isArray(a)&&(d=a[1],a=a[0]),n[a]=i,t&&(t[a]=d)}return n}function wa(e){return ar(()=>{const t=Os(e);return co(t),t})}function _i(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function xt(e){return e[he]||null}function Un(e){return e[Pe]||null}function vr(e){return e[Ye]||null}function vi(e){const t=xt(e)||Un(e)||vr(e);return null!==t&&t.standalone}function er(e,t){const n=e[_t]||null;if(!n&&!0===t)throw new Error(`Type ${oe(e)} does not have '\u0275mod' property.`);return n}function Os(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||$n,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||le,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ko(e.inputs,t),outputs:ko(e.outputs)}}function co(e){e.features?.forEach(t=>t(e))}function yi(e,t){if(!e)return null;const n=t?vr:Tu;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(Lr)}const yn=0,et=1,kt=2,en=3,pr=4,cs=5,qn=6,ui=7,An=8,Fr=9,Ti=10,bt=11,Hi=12,xs=13,Sr=14,fn=15,ks=16,Ei=17,Gn=18,Ls=19,Fs=20,Ii=21,Gr=22,$i=23,Wi=24,Vt=25,Lo=1,Zr=2,Si=7,li=9,Bn=11;function xn(e){return Array.isArray(e)&&"object"==typeof e[Lo]}function Wt(e){return Array.isArray(e)&&!0===e[Lo]}function Us(e){return 0!=(4&e.flags)}function Ur(e){return e.componentOffset>-1}function Uo(e){return 1==(1&e.flags)}function Kr(e){return!!e.template}function Ri(e){return 0!=(512&e[kt])}function ci(e,t){return e.hasOwnProperty(Et)?e[Et]:null}let Xn=null,Mi=!1;function gr(e){const t=Xn;return Xn=e,t}const Bs={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function po(e){if(!hi(e)||e.dirty){if(!e.producerMustRecompute(e)&&!go(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function di(e){e.dirty=!0,function Yr(e){if(void 0===e.liveConsumerNode)return;const t=Mi;Mi=!0;try{for(const n of e.liveConsumerNode)n.dirty||di(n)}finally{Mi=t}}(e),e.consumerMarkedDirty?.(e)}function Qr(e){return e&&(e.nextProducerIndex=0),gr(e)}function js(e,t){if(gr(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(hi(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)mo(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function go(e){Nn(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(po(n),i!==n.version))return!0}return!1}function Vs(e){if(Nn(e),hi(e))for(let t=0;t<e.producerNode.length;t++)mo(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function mo(e,t){if(function Pi(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Nn(e),1===e.liveConsumerNode.length)for(let i=0;i<e.producerNode.length;i++)mo(e.producerNode[i],e.producerIndexOfThis[i]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const i=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];Nn(a),a.producerIndexOfThis[i]=t}}function hi(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Nn(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Ni=null;function De(e){const t=gr(null);try{return e()}finally{gr(t)}}const pt=()=>{},nn=(()=>({...Bs,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:pt}))();class Xt{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Nt(){return kn}function kn(e){return e.type.prototype.ngOnChanges&&(e.setInput=_n),pn}function pn(){const e=tr(this),t=e?.current;if(t){const n=e.previous;if(n===$n)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function _n(e,t,n,i){const a=this.declaredInputs[n],d=tr(e)||function xi(e,t){return e[Rr]=t}(e,{previous:$n,current:null}),p=d.current||(d.current={}),y=d.previous,C=y[a];p[a]=new Xt(C&&C.currentValue,t,y===$n),e[i]=t}Nt.ngInherit=!0;const Rr="__ngSimpleChanges__";function tr(e){return e[Rr]||null}const nr=function(e,t,n){};function wn(e){for(;Array.isArray(e);)e=e[yn];return e}function Wo(e,t){return wn(t[e])}function ur(e,t){return wn(t[e.index])}function xu(e,t){return e.data[t]}function Rn(e,t){const n=t[e];return xn(n)?n:n[yn]}function Ws(e,t){return null==t?null:e[t]}function Go(e){e[Ei]=0}function ps(e){1024&e[kt]||(e[kt]|=1024,tc(e,1))}function Fu(e){1024&e[kt]&&(e[kt]&=-1025,tc(e,-1))}function tc(e,t){let n=e[en];if(null===n)return;n[cs]+=t;let i=n;for(n=n[en];null!==n&&(1===t&&1===i[cs]||-1===t&&0===i[cs]);)n[cs]+=t,i=n,n=n[en]}const Mt={lFrame:F(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Zo(){return Mt.bindingsEnabled}function Be(){return Mt.lFrame.lView}function Ut(){return Mt.lFrame.tView}function Zn(){let e=ic();for(;null!==e&&64===e.type;)e=e.parent;return e}function ic(){return Mt.lFrame.currentTNode}function Gi(e,t){const n=Mt.lFrame;n.currentTNode=e,n.isParent=t}function yo(){return Mt.lFrame.isParent}function gs(){return Mt.lFrame.bindingIndex++}function Hu(e,t){const n=Mt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Zs(t)}function Zs(e){Mt.lFrame.currentDirectiveIndex=e}function Fa(){return Mt.lFrame.currentQueryIndex}function _(e){Mt.lFrame.currentQueryIndex=e}function D(e){const t=e[et];return 2===t.type?t.declTNode:1===t.type?e[qn]:null}function m(e,t,n){if(n&vt.SkipSelf){let a=t,d=e;for(;!(a=a.parent,null!==a||n&vt.Host||(a=D(d),null===a||(d=d[Sr],10&a.type))););if(null===a)return!1;t=a,e=d}const i=Mt.lFrame=S();return i.currentTNode=t,i.lView=e,!0}function w(e){const t=S(),n=e[et];Mt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function S(){const e=Mt.lFrame,t=null===e?null:e.child;return null===t?F(e):t}function F(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function K(){const e=Mt.lFrame;return Mt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ye=K;function ve(){const e=K();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wt(){return Mt.lFrame.selectedIndex}function Zt(e){Mt.lFrame.selectedIndex=e}function sn(){const e=Mt.lFrame;return xu(e.tView,e.selectedIndex)}let Ks=!0;function Ua(){return Ks}function Fi(e){Ks=e}function Qo(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const d=e.data[n].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:y,ngAfterViewInit:C,ngAfterViewChecked:R,ngOnDestroy:L}=d;p&&(e.contentHooks??=[]).push(-n,p),y&&((e.contentHooks??=[]).push(n,y),(e.contentCheckHooks??=[]).push(n,y)),C&&(e.viewHooks??=[]).push(-n,C),R&&((e.viewHooks??=[]).push(n,R),(e.viewCheckHooks??=[]).push(n,R)),null!=L&&(e.destroyHooks??=[]).push(n,L)}}function Tl(e,t,n){Gu(e,t,3,n)}function Ba(e,t,n,i){(3&e[kt])===n&&Gu(e,t,n,i)}function sc(e,t){let n=e[kt];(3&n)===t&&(n&=8191,n+=1,e[kt]=n)}function Gu(e,t,n,i){const d=i??-1,p=t.length-1;let y=0;for(let C=void 0!==i?65535&e[Ei]:0;C<p;C++)if("number"==typeof t[C+1]){if(y=t[C],null!=i&&y>=i)break}else t[C]<0&&(e[Ei]+=65536),(y<d||-1==d)&&(Yt(e,n,t,C),e[Ei]=(4294901760&e[Ei])+C+2),C++}function Do(e,t){nr(4,e,t);const n=gr(null);try{t.call(e)}finally{gr(n),nr(5,e,t)}}function Yt(e,t,n,i){const a=n[i]<0,d=n[i+1],y=e[a?-n[i]:n[i]];a?e[kt]>>13<e[Ei]>>16&&(3&e[kt])===t&&(e[kt]+=8192,Do(y,d)):Do(y,d)}const Ui=-1;class ms{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Xo(e){return e!==Ui}function ja(e){return 32767&e}function Va(e,t){let n=function sd(e){return e>>16}(e),i=t;for(;n>0;)i=i[Sr],n--;return i}let Ha=!0;function Ys(e){const t=Ha;return Ha=e,t}const uc=255,Sl=5;let lc=0;const vs={};function Al(e,t){const n=Jo(e,t);if(-1!==n)return n;const i=t[et];i.firstCreatePass&&(e.injectorIndex=t.length,cc(i.data,e),cc(t,null),cc(i.blueprint,null));const a=Co(e,t),d=e.injectorIndex;if(Xo(a)){const p=ja(a),y=Va(a,t),C=y[et].data;for(let R=0;R<8;R++)t[d+R]=y[p+R]|C[p+R]}return t[d+8]=a,d}function cc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Jo(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Co(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,a=t;for(;null!==a;){if(i=na(a),null===i)return Ui;if(n++,a=a[Sr],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Ui}function ys(e,t,n){!function En(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Rt)&&(i=n[Rt]),null==i&&(i=n[Rt]=lc++);const a=i&uc;t.data[e+(a>>Sl)]|=1<<a}(e,t,n)}function wo(e,t,n){if(n&vt.Optional||void 0!==e)return e;we()}function Ft(e,t,n,i){if(n&vt.Optional&&void 0===i&&(i=null),!(n&(vt.Self|vt.Host))){const a=e[Fr],d=un(void 0);try{return a?a.get(t,i,n&vt.Optional):Cn(t,i,n&vt.Optional)}finally{un(d)}}return wo(i,0,n)}function dc(e,t,n,i=vt.Default,a){if(null!==e){if(2048&t[kt]&&!(i&vt.Self)){const p=function od(e,t,n,i,a){let d=e,p=t;for(;null!==d&&null!==p&&2048&p[kt]&&!(512&p[kt]);){const y=$a(d,p,n,i|vt.Self,vs);if(y!==vs)return y;let C=d.parent;if(!C){const R=p[Fs];if(R){const L=R.get(n,vs,i);if(L!==vs)return L}C=na(p),p=p[Sr]}d=C}return a}(e,t,n,i,vs);if(p!==vs)return p}const d=$a(e,t,n,i,vs);if(d!==vs)return d}return Ft(t,n,i,a)}function $a(e,t,n,i,a){const d=function hh(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Rt)?e[Rt]:void 0;return"number"==typeof t?t>=0?t&uc:fc:t}(n);if("function"==typeof d){if(!m(t,e,i))return i&vt.Host?wo(a,0,i):Ft(t,n,i,a);try{let p;if(p=d(i),null!=p||i&vt.Optional)return p;we()}finally{ye()}}else if("number"==typeof d){let p=null,y=Jo(e,t),C=Ui,R=i&vt.Host?t[fn][qn]:null;for((-1===y||i&vt.SkipSelf)&&(C=-1===y?Co(e,t):t[y+8],C!==Ui&&hc(i,!1)?(p=t[et],y=ja(C),t=Va(C,t)):y=-1);-1!==y;){const L=t[et];if(Wa(d,y,L.data)){const W=dh(y,t,n,p,i,R);if(W!==vs)return W}C=t[y+8],C!==Ui&&hc(i,t[et].data[y+8]===R)&&Wa(d,y,t)?(p=L,y=ja(C),t=Va(C,t)):y=-1}}return a}function dh(e,t,n,i,a,d){const p=t[et],y=p.data[e+8],L=Mn(y,p,n,null==i?Ur(y)&&Ha:i!=p&&0!=(3&y.type),a&vt.Host&&d===y);return null!==L?Qs(t,p,L,y):vs}function Mn(e,t,n,i,a){const d=e.providerIndexes,p=t.data,y=1048575&d,C=e.directiveStart,L=d>>20,re=a?y+L:e.directiveEnd;for(let ge=i?y:y+L;ge<re;ge++){const xe=p[ge];if(ge<C&&n===xe||ge>=C&&xe.type===n)return ge}if(a){const ge=p[C];if(ge&&Kr(ge)&&ge.type===n)return C}return null}function Qs(e,t,n,i){let a=e[n];const d=t.data;if(function rd(e){return e instanceof ms}(a)){const p=a;p.resolving&&function Re(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new de(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Ne(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ue(e)}(d[n]));const y=Ys(p.canSeeViewProviders);p.resolving=!0;const R=p.injectImpl?un(p.injectImpl):null;m(e,i,vt.Default);try{a=e[n]=p.factory(void 0,d,e,i),t.firstCreatePass&&n>=i.directiveStart&&function ch(e,t,n){const{ngOnChanges:i,ngOnInit:a,ngDoCheck:d}=t.type.prototype;if(i){const p=kn(t);(n.preOrderHooks??=[]).push(e,p),(n.preOrderCheckHooks??=[]).push(e,p)}a&&(n.preOrderHooks??=[]).push(0-e,a),d&&((n.preOrderHooks??=[]).push(e,d),(n.preOrderCheckHooks??=[]).push(e,d))}(n,d[n],t)}finally{null!==R&&un(R),Ys(y),p.resolving=!1,ye()}}return a}function Wa(e,t,n){return!!(n[t+(e>>Sl)]&1<<e)}function hc(e,t){return!(e&vt.Self||e&vt.Host&&t)}class mr{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return dc(this._tNode,this._lView,t,ht(i),n)}}function fc(){return new mr(Zn(),Be())}function ta(e){return ar(()=>{const t=e.prototype.constructor,n=t[Et]||Xs(t),i=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==i;){const d=a[Et]||Xs(a);if(d&&d!==n)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function Xs(e){return Ke(e)?()=>{const t=Xs(Le(e));return t&&t()}:ci(e)}function na(e){const t=e[et],n=t.type;return 2===n?t.declTNode:1===n?e[qn]:null}function pc(e){return function qs(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let a=0;for(;a<i;){const d=n[a];if(si(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<i&&"string"==typeof n[a];)a++;else{if(d===t)return n[a+1];a+=2}}}return null}(Zn(),e)}const ia="__parameters__";function bo(e,t,n){return ar(()=>{const i=function za(e){return function(...n){if(e){const i=e(...n);for(const a in i)this[a]=i[a]}}}(t);function a(...d){if(this instanceof a)return i.apply(this,d),this;const p=new a(...d);return y.annotation=p,y;function y(C,R,L){const W=C.hasOwnProperty(ia)?C[ia]:Object.defineProperty(C,ia,{value:[]})[ia];for(;W.length<=L;)W.push(null);return(W[L]=W[L]||[]).push(p),C}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}function To(e,t){e.forEach(n=>Array.isArray(n)?To(n,t):t(n))}function Za(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ka(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function wi(e,t,n){let i=Is(e,t);return i>=0?e[1|i]=n:(i=~i,function qa(e,t,n,i){let a=e.length;if(a==t)e.push(n,i);else if(1===a)e.push(i,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function _c(e,t){const n=Is(e,t);if(n>=0)return e[1|n]}function Is(e,t){return function cd(e,t,n){let i=0,a=e.length>>n;for(;a!==i;){const d=i+(a-i>>1),p=e[d<<n];if(t===p)return d<<n;p>t?a=d:i=d+1}return~(a<<n)}(e,t,1)}const aa=fr(bo("Optional"),8),Ja=fr(bo("SkipSelf"),4);function tl(e){return 128==(128&e.flags)}var Ro=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ro||{});const wc=new Map;let wh=0;const ca="__ngContext__";function Nr(e,t){xn(t)?(e[ca]=t[Ls],function Tc(e){wc.set(e[Ls],e)}(t)):e[ca]=t}let da;function Vr(e,t){return da(e,t)}function ha(e){const t=e[en];return Wt(t)?t[en]:t}function uu(e){return fa(e[Hi])}function Ds(e){return fa(e[pr])}function fa(e){for(;null!==e&&!Wt(e);)e=e[pr];return e}function lu(e,t,n,i,a){if(null!=i){let d,p=!1;Wt(i)?d=i:xn(i)&&(p=!0,i=i[yn]);const y=wn(i);0===e&&null!==n?null==a?ol(t,n,y):ir(t,n,y,a||null,!0):1===e&&null!==n?ir(t,n,y,a||null,!0):2===e?function Bl(e,t,n){const i=pa(e,t);i&&function Oc(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,y,p):3===e&&t.destroyNode(y),null!=d&&function Uc(e,t,n,i,a){const d=n[Si];d!==wn(n)&&lu(t,e,i,d,a);for(let y=Bn;y<n.length;y++){const C=n[y];hu(C[et],C,e,t,i,d)}}(t,e,d,n,a)}}function sl(e,t,n){return e.createElement(t,n)}function k(e,t){const n=e[li],i=n.indexOf(t);Fu(t),n.splice(i,1)}function Q(e,t){if(e.length<=Bn)return;const n=Bn+t,i=e[n];if(i){const a=i[ks];null!==a&&a!==e&&k(a,i),t>0&&(e[n-1][pr]=i[pr]);const d=Ka(e,Bn+t);!function Sh(e,t){hu(e,t,t[bt],2,null,null),t[yn]=null,t[qn]=null}(i[et],i);const p=d[Gn];null!==p&&p.detachView(d[et]),i[en]=null,i[pr]=null,i[kt]&=-129}return i}function ce(e,t){if(!(256&t[kt])){const n=t[bt];t[$i]&&Vs(t[$i]),t[Wi]&&Vs(t[Wi]),n.destroyNode&&hu(e,t,n,3,null,null),function c(e){let t=e[Hi];if(!t)return Ae(e[et],e);for(;t;){let n=null;if(xn(t))n=t[Hi];else{const i=t[Bn];i&&(n=i)}if(!n){for(;t&&!t[pr]&&t!==e;)xn(t)&&Ae(t[et],t),t=t[en];null===t&&(t=e),xn(t)&&Ae(t[et],t),n=t&&t[pr]}t=n}}(t)}}function Ae(e,t){if(!(256&t[kt])){t[kt]&=-129,t[kt]|=256,function ft(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const a=t[n[i]];if(!(a instanceof ms)){const d=n[i+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){const y=a[d[p]],C=d[p+1];nr(4,y,C);try{C.call(y)}finally{nr(5,y,C)}}else{nr(4,a,d);try{d.call(a)}finally{nr(5,a,d)}}}}}(e,t),function Xe(e,t){const n=e.cleanup,i=t[ui];if(null!==n)for(let d=0;d<n.length-1;d+=2)if("string"==typeof n[d]){const p=n[d+3];p>=0?i[p]():i[-p].unsubscribe(),d+=2}else n[d].call(i[n[d+1]]);null!==i&&(t[ui]=null);const a=t[Ii];if(null!==a){t[Ii]=null;for(let d=0;d<a.length;d++)(0,a[d])()}}(e,t),1===t[et].type&&t[bt].destroy();const n=t[ks];if(null!==n&&Wt(t[en])){n!==t[en]&&k(n,t);const i=t[Gn];null!==i&&i.detachView(e)}!function Sc(e){wc.delete(e[Ls])}(t)}}function lt(e,t,n){return function zn(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[yn];{const{componentOffset:a}=i;if(a>-1){const{encapsulation:d}=e.data[i.directiveStart+a];if(d===_r.None||d===_r.Emulated)return null}return ur(i,n)}}(e,t.parent,n)}function ir(e,t,n,i,a){e.insertBefore(t,n,i,a)}function ol(e,t,n){e.appendChild(t,n)}function Nc(e,t,n,i,a){null!==i?ir(e,t,n,i,a):ol(e,t,n)}function pa(e,t){return e.parentNode(t)}let al,Ph,pu,Fl=function Lc(e,t,n){return 40&e.type?ur(e,n):null};function Po(e,t,n,i){const a=lt(e,i,t),d=t[bt],y=function Ll(e,t,n){return Fl(e,t,n)}(i.parent||t[qn],i,t);if(null!=a)if(Array.isArray(n))for(let C=0;C<n.length;C++)Nc(d,a,n[C],y,!1);else Nc(d,a,n,y,!1);void 0!==al&&al(d,i,t,n,a)}function ga(e,t){if(null!==t){const n=t.type;if(3&n)return ur(t,e);if(4&n)return ma(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return ga(e,i);{const a=e[t.index];return Wt(a)?ma(-1,a):wn(a)}}if(32&n)return Vr(t,e)()||wn(e[t.index]);{const i=Fc(e,t);return null!==i?Array.isArray(i)?i[0]:ga(ha(e[fn]),i):ga(e,t.next)}}return null}function Fc(e,t){return null!==t?e[fn][qn].projection[t.projection]:null}function ma(e,t){const n=Bn+e+1;if(n<t.length){const i=t[n],a=i[et].firstChild;if(null!==a)return ga(i,a)}return t[Si]}function Rh(e,t,n,i,a,d,p){for(;null!=n;){const y=i[n.index],C=n.type;if(p&&0===t&&(y&&Nr(wn(y),i),n.flags|=2),32!=(32&n.flags))if(8&C)Rh(e,t,n.child,i,a,d,!1),lu(t,e,a,y,d);else if(32&C){const R=Vr(n,i);let L;for(;L=R();)lu(t,e,a,L,d);lu(t,e,a,y,d)}else 16&C?xf(e,t,i,n,a,d):lu(t,e,a,y,d);n=p?n.projectionNext:n.next}}function hu(e,t,n,i,a,d){Rh(n,i,e.firstChild,t,a,d,!1)}function xf(e,t,n,i,a,d){const p=n[fn],C=p[qn].projection[i.projection];if(Array.isArray(C))for(let R=0;R<C.length;R++)lu(t,e,a,C[R],d);else{let R=C;const L=p[en];tl(i)&&(R.flags|=128),Rh(e,t,R,L,a,d,!0)}}function kf(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Lf(e,t,n){const{mergedAttrs:i,classes:a,styles:d}=n;null!==i&&Sn(e,t,i),null!==a&&kf(e,t,a),null!==d&&function Jp(e,t,n){e.setAttribute(t,"style",n)}(e,t,d)}function Ff(e){Ph=e}function Nh(e){return function ll(){if(void 0===pu&&(pu=null,Gt.trustedTypes))try{pu=Gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return pu}()?.createScriptURL(e)||e}class Bf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ct})`}}function va(e){return e instanceof Bf?e.changingThisBreaksApplicationSecurity:e}function Vc(e,t){const n=function ng(e){return e instanceof Bf&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${ct})`)}return n===t}const xh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var mu=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(mu||{});function Pd(e){const t=_u();return t?t.sanitize(mu.URL,e)||"":Vc(e,"URL")?va(e):function kh(e){return(e=String(e)).match(xh)?e:"unsafe:"+e}(ue(e))}function Zf(e){const t=_u();if(t)return Nh(t.sanitize(mu.RESOURCE_URL,e)||"");if(Vc(e,"ResourceURL"))return Nh(va(e));throw new de(904,!1)}function Nd(e,t,n){return function qf(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Zf:Pd}(t,n)(e)}function _u(){const e=Be();return e&&e[Ti].sanitizer}const Cs=new dt("ENVIRONMENT_INITIALIZER"),Wc=new dt("INJECTOR",-1),ts=new dt("INJECTOR_DEF_TYPES");class Ea{get(t,n=or){if(n===or){const i=new Error(`NullInjectorError: No provider for ${oe(t)}!`);throw i.name="NullInjectorError",i}return n}}function Qf(...e){return{\u0275providers:vu(0,e),\u0275fromNgModule:!0}}function vu(e,...t){const n=[],i=new Set;let a;const d=p=>{n.push(p)};return To(t,p=>{const y=p;Od(y,d,[],i)&&(a||=[],a.push(y))}),void 0!==a&&pg(a,d),n}function pg(e,t){for(let n=0;n<e.length;n++){const{ngModule:i,providers:a}=e[n];zc(a,d=>{t(d,i)})}}function Od(e,t,n,i){if(!(e=Le(e)))return!1;let a=null,d=Hn(e);const p=!d&&xt(e);if(d||p){if(p&&!p.standalone)return!1;a=e}else{const C=e.ngModule;if(d=Hn(C),!d)return!1;a=C}const y=i.has(a);if(p){if(y)return!1;if(i.add(a),p.dependencies){const C="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const R of C)Od(R,t,n,i)}}else{if(!d)return!1;{if(null!=d.imports&&!y){let R;i.add(a);try{To(d.imports,L=>{Od(L,t,n,i)&&(R||=[],R.push(L))})}finally{}void 0!==R&&pg(R,t)}if(!y){const R=ci(a)||(()=>new a);t({provide:a,useFactory:R,deps:le},a),t({provide:ts,useValue:a,multi:!0},a),t({provide:Cs,useValue:()=>ut(a),multi:!0},a)}const C=d.providers;if(null!=C&&!y){const R=e;zc(C,L=>{t(L,R)})}}}return a!==e&&void 0!==e.providers}function zc(e,t){for(let n of e)Ue(n)&&(n=n.\u0275providers),Array.isArray(n)?zc(n,t):t(n)}const gg=Z({provide:String,useValue:Z});function Vh(e){return null!==e&&"object"==typeof e&&gg in e}function ro(e){return"function"==typeof e}const dl=new dt("Set Injector scope."),Wl={},ep={};let kd;function Gc(){return void 0===kd&&(kd=new Ea),kd}class io{}class hl extends io{get destroyed(){return this._destroyed}constructor(t,n,i,a){super(),this.parent=n,this.source=i,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hh(t,p=>this.processProvider(p)),this.records.set(Wc,zl(void 0,this)),a.has("environment")&&this.records.set(io,zl(void 0,this));const d=this.records.get(dl);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(ts.multi,le,vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Me(this),i=un(void 0);try{return t()}finally{Me(n),un(i)}}get(t,n=or,i=vt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(gn))return t[gn](this);i=ht(i);const d=Me(this),p=un(void 0);try{if(!(i&vt.SkipSelf)){let C=this.records.get(t);if(void 0===C){const R=function vg(e){return"function"==typeof e||"object"==typeof e&&e instanceof dt}(t)&&Qt(t);C=R&&this.injectableDefInScope(R)?zl(ns(t),Wl):null,this.records.set(t,C)}if(null!=C)return this.hydrate(t,C)}return(i&vt.Self?Gc():this.parent).get(t,n=i&vt.Optional&&n===or?null:n)}catch(y){if("NullInjectorError"===y.name){if((y[br]=y[br]||[]).unshift(oe(t)),d)throw y;return function Ss(e,t,n,i){const a=e[br];throw t[B]&&a.unshift(t[B]),e.message=function As(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=oe(t);if(Array.isArray(t))a=t.map(oe).join(" -> ");else if("object"==typeof t){let d=[];for(let p in t)if(t.hasOwnProperty(p)){let y=t[p];d.push(p+":"+("string"==typeof y?JSON.stringify(y):oe(y)))}a=`{${d.join(", ")}}`}return`${n}${i?"("+i+")":""}[${a}]: ${e.replace(j,"\n  ")}`}("\n"+e.message,a,n,i),e.ngTokenPath=a,e[br]=null,e}(y,t,"R3InjectorError",this.source)}throw y}finally{un(p),Me(d)}}resolveInjectorInitializers(){const t=Me(this),n=un(void 0);try{const a=this.get(Cs.multi,le,vt.Self);for(const d of a)d()}finally{Me(t),un(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(oe(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new de(205,!1)}processProvider(t){let n=ro(t=Le(t))?t:Le(t&&t.provide);const i=function mg(e){return Vh(e)?zl(void 0,e.useValue):zl(np(e),Wl)}(t);if(ro(t)||!0!==t.multi)this.records.get(n);else{let a=this.records.get(n);a||(a=zl(void 0,Wl,!0),a.factory=()=>tn(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===Wl&&(n.value=ep,n.value=n.factory()),"object"==typeof n.value&&n.value&&function _g(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Le(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ns(e){const t=Qt(e),n=null!==t?t.factory:ci(e);if(null!==n)return n;if(e instanceof dt)throw new de(204,!1);if(e instanceof Function)return function tp(e){const t=e.length;if(t>0)throw function So(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}(t,"?"),new de(204,!1);const n=function zt(e){return e&&(e[bn]||e[Cr])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new de(204,!1)}function np(e,t,n){let i;if(ro(e)){const a=Le(e);return ci(a)||ns(a)}if(Vh(e))i=()=>Le(e.useValue);else if(function Jf(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...tn(e.deps||[]));else if(function Xf(e){return!(!e||!e.useExisting)}(e))i=()=>ut(Le(e.useExisting));else{const a=Le(e&&(e.useClass||e.provide));if(!function rp(e){return!!e.deps}(e))return ci(a)||ns(a);i=()=>new a(...tn(e.deps))}return i}function zl(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Hh(e,t){for(const n of e)Array.isArray(n)?Hh(n,t):n&&Ue(n)?Hh(n.\u0275providers,t):t(n)}const ip=new dt("AppId",{providedIn:"root",factory:()=>yg}),yg="ng",sp=new dt("Platform Initializer"),$h=new dt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Eg=new dt("CSP nonce",{providedIn:"root",factory:()=>function fu(){if(void 0!==Ph)return Ph;if(typeof document<"u")return document;throw new de(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let wg=(e,t,n)=>null;function Yh(e,t,n=!1){return wg(e,t,n)}class Mg{}class lp{}class Pg{resolveComponentFactory(t){throw function cp(e){const t=Error(`No component factory found for ${oe(e)}.`);return t.ngComponent=e,t}(t)}}let Hd=(()=>{class e{static#e=this.NULL=new Pg}return e})();function Eu(){return dr(Zn(),Be())}function dr(e,t){return new ti(ur(e,t))}let ti=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=Eu}return e})();function Yc(e){return e instanceof ti?e.nativeElement:e}class hp{}let Ng=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Og(){const e=Be(),n=Rn(Zn().index,e);return(xn(n)?n:e)[bt]}()}return e})(),xg=(()=>{class e{static#e=this.\u0275prov=Ct({token:e,providedIn:"root",factory:()=>null})}return e})();class Zl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const fp=new Zl("16.2.12"),Qh={};function vp(e,t=null,n=null,i){const a=ef(e,t,n,i);return a.resolveInjectorInitializers(),a}function ef(e,t=null,n=null,i,a=new Set){const d=[n||le,Qf(e)];return i=i||("object"==typeof e?void 0:oe(e)),new hl(d,t||Gc(),i||null,a)}let so=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=or;static#t=this.NULL=new Ea;static create(n,i){if(Array.isArray(n))return vp({name:""},i,n,"");{const a=n.name??"";return vp({name:a},n.parent,n.providers,a)}}static#n=this.\u0275prov=Ct({token:e,providedIn:"any",factory:()=>ut(Wc)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function tf(e){return e.ngOriginalError}class Ia{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&tf(t);for(;n&&tf(n);)n=tf(n);return n||null}}function rf(e){return t=>{setTimeout(e,void 0,t)}}const No=class jg extends v.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let a=t,d=n||(()=>null),p=i;if(t&&"object"==typeof t){const C=t;a=C.next?.bind(C),d=C.error?.bind(C),p=C.complete?.bind(C)}this.__isAsync&&(d=rf(d),a&&(a=rf(a)),p&&(p=rf(p)));const y=super.subscribe({next:a,error:d,complete:p});return t instanceof X.w0&&t.add(y),y}};function Ep(...e){}class s{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new No(!1),this.onMicrotaskEmpty=new No(!1),this.onStable=new No(!1),this.onError=new No(!1),typeof Zone>"u")throw new de(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&n,a.shouldCoalesceRunChangeDetection=i,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function o(){const e="function"==typeof Gt.requestAnimationFrame;let t=Gt[e?"requestAnimationFrame":"setTimeout"],n=Gt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function b(e){const t=()=>{!function E(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Gt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,P(e),e.isCheckStableRunning=!0,h(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),P(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,a,d,p,y)=>{if(function Ge(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(y))return n.invokeTask(a,d,p,y);try{return U(e),n.invokeTask(a,d,p,y)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&t(),$(e)}},onInvoke:(n,i,a,d,p,y,C)=>{try{return U(e),n.invoke(a,d,p,y,C)}finally{e.shouldCoalesceRunChangeDetection&&t(),$(e)}},onHasTask:(n,i,a,d)=>{n.hasTask(a,d),i===a&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,P(e),h(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(n,i,a,d)=>(n.handleError(a,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!s.isInAngularZone())throw new de(909,!1)}static assertNotInAngularZone(){if(s.isInAngularZone())throw new de(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,a){const d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+a,t,l,Ep,Ep);try{return d.runTask(p,n,i)}finally{d.cancelTask(p)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const l={};function h(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function P(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function U(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function $(e){e._nesting--,h(e)}class pe{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new No,this.onMicrotaskEmpty=new No,this.onStable=new No,this.onError=new No}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,a){return t.apply(n,i)}}const Ee=new dt("",{providedIn:"root",factory:be});function be(){const e=mt(s);let t=!0;const n=new z.y(a=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{a.next(t),a.complete()})}),i=new z.y(a=>{let d;e.runOutsideAngular(()=>{d=e.onStable.subscribe(()=>{s.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,a.next(!0))})})});const p=e.onUnstable.subscribe(()=>{s.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{a.next(!1)}))});return()=>{d.unsubscribe(),p.unsubscribe()}});return(0,G.T)(n,i.pipe((0,ae.B)()))}function jn(e){return e instanceof Function?e():e}let pl=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Ct({token:e,providedIn:"root",factory:()=>new e})}return e})();function gl(e){for(;e;){e[kt]|=64;const t=ha(e);if(Ri(e)&&!t)return e;e=t}return null}const __=new dt("",{providedIn:"root",factory:()=>!1});let Dp=null;function I_(e,t){return e[t]??w_()}function D_(e,t){const n=w_();n.producerNode?.length&&(e[t]=Dp,n.lView=e,Dp=C_())}const AI={...Bs,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{gl(e.lView)},lView:null};function C_(){return Object.create(AI)}function w_(){return Dp??=C_(),Dp}const qt={};function b_(e){T_(Ut(),Be(),wt()+e,!1)}function T_(e,t,n,i){if(!i)if(3==(3&t[kt])){const d=e.preOrderCheckHooks;null!==d&&Tl(t,d,n)}else{const d=e.preOrderHooks;null!==d&&Ba(t,d,0,n)}Zt(n)}function zd(e,t=vt.Default){const n=Be();return null===n?ut(e,t):dc(Zn(),n,Le(e),t)}function S_(){throw new Error("invalid")}function Cp(e,t,n,i,a,d,p,y,C,R,L){const W=t.blueprint.slice();return W[yn]=a,W[kt]=140|i,(null!==R||e&&2048&e[kt])&&(W[kt]|=2048),Go(W),W[en]=W[Sr]=e,W[An]=n,W[Ti]=p||e&&e[Ti],W[bt]=y||e&&e[bt],W[Fr]=C||e&&e[Fr]||null,W[qn]=d,W[Ls]=function bc(){return wh++}(),W[Gr]=L,W[Fs]=R,W[fn]=2==t.type?e[fn]:W,W}function Gd(e,t,n,i,a){let d=e.data[t];if(null===d)d=function Vg(e,t,n,i,a){const d=ic(),p=yo(),C=e.data[t]=function LI(e,t,n,i,a,d){let p=t?t.injectorIndex:-1,y=0;return function zs(){return null!==Mt.skipHydrationRootTNode}()&&(y|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?d:d&&d.parent,n,t,i,a);return null===e.firstChild&&(e.firstChild=C),null!==d&&(p?null==d.child&&null!==C.parent&&(d.child=C):null===d.next&&(d.next=C,C.prev=d)),C}(e,t,n,i,a),function La(){return Mt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=n,d.value=i,d.attrs=a;const p=function Ln(){const e=Mt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();d.injectorIndex=null===p?-1:p.injectorIndex}return Gi(d,!0),d}function sf(e,t,n,i){if(0===n)return-1;const a=t.length;for(let d=0;d<n;d++)t.push(i),e.blueprint.push(i),e.data.push(null);return a}function A_(e,t,n,i,a){const d=I_(t,$i),p=wt(),y=2&i;try{Zt(-1),y&&t.length>Vt&&T_(e,t,Vt,!1),nr(y?2:0,a);const R=y?d:null,L=Qr(R);try{null!==R&&(R.dirty=!1),n(i,a)}finally{js(R,L)}}finally{y&&null===t[$i]&&D_(t,$i),Zt(p),nr(y?3:1,a)}}function Hg(e,t,n){if(Us(t)){const i=gr(null);try{const d=t.directiveEnd;for(let p=t.directiveStart;p<d;p++){const y=e.data[p];y.contentQueries&&y.contentQueries(1,n[p],p)}}finally{gr(i)}}}function $g(e,t,n){Zo()&&(function $I(e,t,n,i){const a=n.directiveStart,d=n.directiveEnd;Ur(n)&&function qI(e,t,n){const i=ur(t,e),a=R_(n);let p=16;n.signals?p=4096:n.onPush&&(p=64);const y=wp(e,Cp(e,a,null,p,i,t,null,e[Ti].rendererFactory.createRenderer(i,n),null,null,null));e[t.index]=y}(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||Al(n,t),Nr(i,t);const p=n.initialInputs;for(let y=a;y<d;y++){const C=e.data[y],R=Qs(t,e,y,n);Nr(R,t),null!==p&&QI(0,y-a,R,C,0,p),Kr(C)&&(Rn(n.index,t)[An]=Qs(t,e,y,n))}}(e,t,n,ur(n,t)),64==(64&n.flags)&&x_(e,t,n))}function Wg(e,t,n=ur){const i=t.localNames;if(null!==i){let a=t.index+1;for(let d=0;d<i.length;d+=2){const p=i[d+1],y=-1===p?n(t,e):e[p];e[a++]=y}}}function R_(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=zg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function zg(e,t,n,i,a,d,p,y,C,R,L){const W=Vt+i,re=W+a,ge=function MI(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:qt);return n}(W,re),xe="function"==typeof R?R():R;return ge[et]={type:e,blueprint:ge,template:n,queries:null,viewQuery:y,declTNode:t,data:ge.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:C,consts:xe,incompleteFirstPass:!1,ssrId:L}}let M_=e=>null;function P_(e,t,n,i){for(let a in e)if(e.hasOwnProperty(a)){n=null===n?{}:n;const d=e[a];null===i?N_(n,t,a,d):i.hasOwnProperty(a)&&N_(n,t,i[a],d)}return n}function N_(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function Gg(e,t,n,i){if(Zo()){const a=null===i?null:{"":-1},d=function zI(e,t){const n=e.directiveRegistry;let i=null,a=null;if(n)for(let d=0;d<n.length;d++){const p=n[d];if(kr(t,p.selectors,!1))if(i||(i=[]),Kr(p))if(null!==p.findHostDirectiveDefs){const y=[];a=a||new Map,p.findHostDirectiveDefs(p,y,a),i.unshift(...y,p),Zg(e,t,y.length)}else i.unshift(p),Zg(e,t,0);else a=a||new Map,p.findHostDirectiveDefs?.(p,i,a),i.push(p)}return null===i?null:[i,a]}(e,n);let p,y;null===d?p=y=null:[p,y]=d,null!==p&&O_(e,t,n,p,a,y),a&&function GI(e,t,n){if(t){const i=e.localNames=[];for(let a=0;a<t.length;a+=2){const d=n[t[a+1]];if(null==d)throw new de(-301,!1);i.push(t[a],d)}}}(n,i,a)}n.mergedAttrs=ss(n.mergedAttrs,n.attrs)}function O_(e,t,n,i,a,d){for(let R=0;R<i.length;R++)ys(Al(n,t),e,i[R].type);!function KI(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let R=0;R<i.length;R++){const L=i[R];L.providersResolver&&L.providersResolver(L)}let p=!1,y=!1,C=sf(e,t,i.length,null);for(let R=0;R<i.length;R++){const L=i[R];n.mergedAttrs=ss(n.mergedAttrs,L.hostAttrs),YI(e,n,t,C,L),ZI(C,L,a),null!==L.contentQueries&&(n.flags|=4),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(n.flags|=64);const W=L.type.prototype;!p&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),p=!0),!y&&(W.ngOnChanges||W.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),y=!0),C++}!function FI(e,t,n){const a=t.directiveEnd,d=e.data,p=t.attrs,y=[];let C=null,R=null;for(let L=t.directiveStart;L<a;L++){const W=d[L],re=n?n.get(W):null,xe=re?re.outputs:null;C=P_(W.inputs,L,C,re?re.inputs:null),R=P_(W.outputs,L,R,xe);const We=null===C||null===p||uo(t)?null:XI(C,L,p);y.push(We)}null!==C&&(C.hasOwnProperty("class")&&(t.flags|=8),C.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=y,t.inputs=C,t.outputs=R}(e,n,d)}function x_(e,t,n){const i=n.directiveStart,a=n.directiveEnd,d=n.index,p=function bl(){return Mt.lFrame.currentDirectiveIndex}();try{Zt(d);for(let y=i;y<a;y++){const C=e.data[y],R=t[y];Zs(y),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&WI(C,R)}}finally{Zt(-1),Zs(p)}}function WI(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Zg(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function ZI(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Kr(t)&&(n[""]=e)}}function YI(e,t,n,i,a){e.data[i]=a;const d=a.factory||(a.factory=ci(a.type)),p=new ms(d,Kr(a),zd);e.blueprint[i]=p,n[i]=p,function VI(e,t,n,i,a){const d=a.hostBindings;if(d){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const y=~t.index;(function HI(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(p)!=y&&p.push(y),p.push(n,i,d)}}(e,t,i,sf(e,n,a.hostVars,qt),a)}function Iu(e,t,n,i,a,d){const p=ur(e,t);!function Kg(e,t,n,i,a,d,p){if(null==d)e.removeAttribute(t,a,n);else{const y=null==p?ue(d):p(d,i||"",a);e.setAttribute(t,a,y,n)}}(t[bt],p,d,e.value,n,i,a)}function QI(e,t,n,i,a,d){const p=d[t];if(null!==p)for(let y=0;y<p.length;)k_(i,n,p[y++],p[y++],p[y++])}function k_(e,t,n,i,a){const d=gr(null);try{const p=e.inputTransforms;null!==p&&p.hasOwnProperty(i)&&(a=p[i].call(t,a)),null!==e.setInput?e.setInput(t,a,n,i):t[i]=a}finally{gr(d)}}function XI(e,t,n){let i=null,a=0;for(;a<n.length;){const d=n[a];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===i&&(i=[]);const p=e[d];for(let y=0;y<p.length;y+=2)if(p[y]===t){i.push(d,p[y+1],n[a+1]);break}}a+=2}else a+=2;else a+=4}return i}function L_(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null,null]}function F_(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const d=n[i+1];if(-1!==d){const p=e.data[d];_(n[i]),p.contentQueries(2,t[d],d)}}}function wp(e,t){return e[Hi]?e[xs][pr]=t:e[Hi]=t,e[xs]=t,t}function Yg(e,t,n){_(0);const i=gr(null);try{t(e,n)}finally{gr(i)}}function U_(e){return e[ui]||(e[ui]=[])}function B_(e){return e.cleanup||(e.cleanup=[])}function V_(e,t){const n=e[Fr],i=n?n.get(Ia,null):null;i&&i.handleError(t)}function qg(e,t,n,i,a){for(let d=0;d<n.length;){const p=n[d++],y=n[d++];k_(e.data[p],t[p],i,y,a)}}function JI(e,t){const n=Rn(t,e),i=n[et];!function e0(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n);const a=n[yn];null!==a&&null===n[Gr]&&(n[Gr]=Yh(a,n[Fr])),Qg(i,n,n[An])}function Qg(e,t,n){w(t);try{const i=e.viewQuery;null!==i&&Yg(1,i,n);const a=e.template;null!==a&&A_(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&F_(e,t),e.staticViewQueries&&Yg(2,e.viewQuery,n);const d=e.components;null!==d&&function t0(e,t){for(let n=0;n<t.length;n++)JI(e,t[n])}(t,d)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[kt]&=-5,ve()}}let H_=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,i,a){const d=typeof Zone>"u"?null:Zone.current,p=function ke(e,t,n){const i=Object.create(nn);n&&(i.consumerAllowSignalWrites=!0),i.fn=e,i.schedule=t;const a=p=>{i.cleanupFn=p};return i.ref={notify:()=>di(i),run:()=>{if(i.dirty=!1,i.hasRun&&!go(i))return;i.hasRun=!0;const p=Qr(i);try{i.cleanupFn(),i.cleanupFn=pt,i.fn(a)}finally{js(i,p)}},cleanup:()=>i.cleanupFn()},i.ref}(n,R=>{this.all.has(R)&&this.queue.set(R,d)},a);let y;this.all.add(p),p.notify();const C=()=>{p.cleanup(),y?.(),this.all.delete(p),this.queue.delete(p)};return y=i?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[n,i]of this.queue)this.queue.delete(n),i?i.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ct({token:e,providedIn:"root",factory:()=>new e})}return e})();function bp(e,t,n){let i=n?e.styles:null,a=n?e.classes:null,d=0;if(null!==t)for(let p=0;p<t.length;p++){const y=t[p];"number"==typeof y?d=y:1==d?a=Fe(a,y):2==d&&(i=Fe(i,y+": "+t[++p]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=a:e.classesWithoutHost=a}function af(e,t,n,i,a=!1){for(;null!==n;){const d=t[n.index];null!==d&&i.push(wn(d)),Wt(d)&&$_(d,i);const p=n.type;if(8&p)af(e,t,n.child,i);else if(32&p){const y=Vr(n,t);let C;for(;C=y();)i.push(C)}else if(16&p){const y=Fc(t,n);if(Array.isArray(y))i.push(...y);else{const C=ha(t[fn]);af(C[et],C,y,i,!0)}}n=a?n.projectionNext:n.next}return i}function $_(e,t){for(let n=Bn;n<e.length;n++){const i=e[n],a=i[et].firstChild;null!==a&&af(i[et],i,a,t)}e[Si]!==e[yn]&&t.push(e[Si])}function Tp(e,t,n,i=!0){const a=t[Ti],d=a.rendererFactory,p=a.afterRenderEventManager;d.begin?.(),p?.begin();try{W_(e,t,e.template,n)}catch(C){throw i&&V_(t,C),C}finally{d.end?.(),a.effectManager?.flush(),p?.end()}}function W_(e,t,n,i){const a=t[kt];if(256!=(256&a)){t[Ti].effectManager?.flush(),w(t);try{Go(t),function Eo(e){return Mt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&A_(e,t,n,2,i);const p=3==(3&a);if(p){const R=e.preOrderCheckHooks;null!==R&&Tl(t,R,null)}else{const R=e.preOrderHooks;null!==R&&Ba(t,R,0,null),sc(t,0)}if(function s0(e){for(let t=uu(e);null!==t;t=Ds(t)){if(!t[Zr])continue;const n=t[li];for(let i=0;i<n.length;i++){ps(n[i])}}}(t),z_(t,2),null!==e.contentQueries&&F_(e,t),p){const R=e.contentCheckHooks;null!==R&&Tl(t,R)}else{const R=e.contentHooks;null!==R&&Ba(t,R,1),sc(t,1)}!function RI(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const i=I_(t,Wi);try{for(let a=0;a<n.length;a++){const d=n[a];if(d<0)Zt(~d);else{const p=d,y=n[++a],C=n[++a];Hu(y,p),i.dirty=!1;const R=Qr(i);try{C(2,t[p])}finally{js(i,R)}}}}finally{null===t[Wi]&&D_(t,Wi),Zt(-1)}}(e,t);const y=e.components;null!==y&&Z_(t,y,0);const C=e.viewQuery;if(null!==C&&Yg(2,C,i),p){const R=e.viewCheckHooks;null!==R&&Tl(t,R)}else{const R=e.viewHooks;null!==R&&Ba(t,R,2),sc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[kt]&=-73,Fu(t)}finally{ve()}}}function z_(e,t){for(let n=uu(e);null!==n;n=Ds(n))for(let i=Bn;i<n.length;i++)G_(n[i],t)}function o0(e,t,n){G_(Rn(t,e),n)}function G_(e,t){if(!function ku(e){return 128==(128&e[kt])}(e))return;const n=e[et],i=e[kt];if(80&i&&0===t||1024&i||2===t)W_(n,e,n.template,e[An]);else if(e[cs]>0){z_(e,1);const a=n.components;null!==a&&Z_(e,a,1)}}function Z_(e,t,n){for(let i=0;i<t.length;i++)o0(e,t[i],n)}class uf{get rootNodes(){const t=this._lView,n=t[et];return af(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[An]}set context(t){this._lView[An]=t}get destroyed(){return 256==(256&this._lView[kt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[en];if(Wt(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(Q(t,i),Ka(n,i))}this._attachedToViewContainer=!1}ce(this._lView[et],this._lView)}onDestroy(t){!function Uu(e,t){if(256==(256&e[kt]))throw new de(911,!1);null===e[Ii]&&(e[Ii]=[]),e[Ii].push(t)}(this._lView,t)}markForCheck(){gl(this._cdRefInjectingView||this._lView)}detach(){this._lView[kt]&=-129}reattach(){this._lView[kt]|=128}detectChanges(){Tp(this._lView[et],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new de(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function u(e,t){hu(e,t,t[bt],2,null,null)}(this._lView[et],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new de(902,!1);this._appRef=t}}class a0 extends uf{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Tp(t[et],t,t[An],!1)}checkNoChanges(){}get context(){return null}}class K_ extends Hd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=xt(t);return new lf(n,this.ngModule)}}function Y_(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class l0{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=ht(i);const a=this.injector.get(t,Qh,i);return a!==Qh||n===Qh?a:this.parentInjector.get(t,n,i)}}class lf extends lp{get inputs(){const t=this.componentDef,n=t.inputTransforms,i=Y_(t.inputs);if(null!==n)for(const a of i)n.hasOwnProperty(a.propName)&&(a.transform=n[a.propName]);return i}get outputs(){return Y_(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Tr(e){return e.map(Vi).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,a){let d=(a=a||this.ngModule)instanceof io?a:a?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const p=d?new l0(t,d):t,y=p.get(hp,null);if(null===y)throw new de(407,!1);const W={rendererFactory:y,sanitizer:p.get(xg,null),effectManager:p.get(H_,null),afterRenderEventManager:p.get(pl,null)},re=y.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",xe=i?function PI(e,t,n,i){const d=i.get(__,!1)||n===_r.ShadowDom,p=e.selectRootElement(t,d);return function NI(e){M_(e)}(p),p}(re,i,this.componentDef.encapsulation,p):sl(re,ge,function u0(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(ge)),Tt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let je=null;null!==xe&&(je=Yh(xe,p,!0));const Ht=zg(0,null,null,1,0,null,null,null,null,null,null),rn=Cp(null,Ht,null,Tt,null,null,W,re,p,null,je);let Vn,Ts;w(rn);try{const _l=this.componentDef;let lh,t_=null;_l.findHostDirectiveDefs?(lh=[],t_=new Map,_l.findHostDirectiveDefs(_l,lh,t_),lh.push(_l)):lh=[_l];const MT=function d0(e,t){const n=e[et],i=Vt;return e[i]=t,Gd(n,i,2,"#host",null)}(rn,xe),PT=function h0(e,t,n,i,a,d,p){const y=a[et];!function f0(e,t,n,i){for(const a of e)t.mergedAttrs=ss(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(bp(t,t.mergedAttrs,!0),null!==n&&Lf(i,n,t))}(i,e,t,p);let C=null;null!==t&&(C=Yh(t,a[Fr]));const R=d.rendererFactory.createRenderer(t,n);let L=16;n.signals?L=4096:n.onPush&&(L=64);const W=Cp(a,R_(n),null,L,a[e.index],e,d,R,null,null,C);return y.firstCreatePass&&Zg(y,e,i.length-1),wp(a,W),a[e.index]=W}(MT,xe,_l,lh,rn,W,re);Ts=xu(Ht,Vt),xe&&function g0(e,t,n,i){if(i)Sn(e,n,["ng-version",fp.full]);else{const{attrs:a,classes:d}=function ls(e){const t=[],n=[];let i=1,a=2;for(;i<e.length;){let d=e[i];if("string"==typeof d)2===a?""!==d&&t.push(d,e[++i]):8===a&&n.push(d);else{if(!Jn(a))break;a=d}i++}return{attrs:t,classes:n}}(t.selectors[0]);a&&Sn(e,n,a),d&&d.length>0&&kf(e,n,d.join(" "))}}(re,_l,xe,i),void 0!==n&&function m0(e,t,n){const i=e.projection=[];for(let a=0;a<t.length;a++){const d=n[a];i.push(null!=d?Array.from(d):null)}}(Ts,this.ngContentSelectors,n),Vn=function p0(e,t,n,i,a,d){const p=Zn(),y=a[et],C=ur(p,a);O_(y,a,p,n,null,i);for(let L=0;L<n.length;L++)Nr(Qs(a,y,p.directiveStart+L,p),a);x_(y,a,p),C&&Nr(C,a);const R=Qs(a,y,p.directiveStart+p.componentOffset,p);if(e[An]=a[An]=R,null!==d)for(const L of d)L(R,t);return Hg(y,p,e),R}(PT,_l,lh,t_,rn,[_0]),Qg(Ht,rn,null)}finally{ve()}return new c0(this.componentType,Vn,dr(Ts,rn),rn,Ts)}}class c0 extends Mg{constructor(t,n,i,a,d){super(),this.location=i,this._rootLView=a,this._tNode=d,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new a0(a),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let a;if(null!==i&&(a=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const d=this._rootLView;qg(d[et],d,a,t,n),this.previousInputValues.set(t,n),gl(Rn(this._tNode.index,d))}}get injector(){return new mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function _0(){const e=Zn();Qo(Be()[et],e)}function Xg(e){let t=function q_(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let a;if(Kr(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new de(903,!1);a=t.\u0275dir}if(a){if(n){i.push(a);const p=e;p.inputs=Sp(e.inputs),p.inputTransforms=Sp(e.inputTransforms),p.declaredInputs=Sp(e.declaredInputs),p.outputs=Sp(e.outputs);const y=a.hostBindings;y&&I0(e,y);const C=a.viewQuery,R=a.contentQueries;if(C&&y0(e,C),R&&E0(e,R),q(e.inputs,a.inputs),q(e.declaredInputs,a.declaredInputs),q(e.outputs,a.outputs),null!==a.inputTransforms&&(null===p.inputTransforms&&(p.inputTransforms={}),q(p.inputTransforms,a.inputTransforms)),Kr(a)&&a.data.animation){const L=e.data;L.animation=(L.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let p=0;p<d.length;p++){const y=d[p];y&&y.ngInherit&&y(e),y===Xg&&(n=!1)}}t=Object.getPrototypeOf(t)}!function v0(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const a=e[i];a.hostVars=t+=a.hostVars,a.hostAttrs=ss(a.hostAttrs,n=ss(n,a.hostAttrs))}}(i)}function Sp(e){return e===$n?{}:e===le?[]:e}function y0(e,t){const n=e.viewQuery;e.viewQuery=n?(i,a)=>{t(i,a),n(i,a)}:t}function E0(e,t){const n=e.contentQueries;e.contentQueries=n?(i,a,d)=>{t(i,a,d),n(i,a,d)}:t}function I0(e,t){const n=e.hostBindings;e.hostBindings=n?(i,a)=>{t(i,a),n(i,a)}:t}function ev(e){const t=e.inputConfig,n={};for(const i in t)if(t.hasOwnProperty(i)){const a=t[i];Array.isArray(a)&&a[2]&&(n[i]=a[2])}e.inputTransforms=n}function Ap(e){return!!Jg(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Jg(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Bi(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function em(e,t,n,i){const a=Be();return Bi(a,gs(),t)&&(Ut(),Iu(sn(),a,e,t,n,i)),em}function fv(e,t,n,i,a,d,p,y){const C=Be(),R=Ut(),L=e+Vt,W=R.firstCreatePass?function G0(e,t,n,i,a,d,p,y,C){const R=t.consts,L=Gd(t,e,4,p||null,Ws(R,y));Gg(t,n,L,Ws(R,C)),Qo(t,L);const W=L.tView=zg(2,L,i,a,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,R,null);return null!==t.queries&&(t.queries.template(t,L),W.queries=t.queries.embeddedTView(L)),L}(L,R,C,t,n,i,a,d,p):R.data[L];Gi(W,!1);const re=pv(R,C,W,e);Ua()&&Po(R,C,re,W),Nr(re,C),wp(C,C[L]=L_(re,C,re,W)),Uo(W)&&$g(R,C,W),null!=p&&Wg(C,W,y)}let pv=function gv(e,t,n,i){return Fi(!0),t[bt].createComment("")};function om(e,t,n){const i=Be();return Bi(i,gs(),t)&&function oo(e,t,n,i,a,d,p,y){const C=ur(t,n);let L,R=t.inputs;!y&&null!=R&&(L=R[i])?(qg(e,n,L,i,a),Ur(t)&&function BI(e,t){const n=Rn(t,e);16&n[kt]||(n[kt]|=64)}(n,t.index)):3&t.type&&(i=function UI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),a=null!=p?p(a,t.value||"",i):a,d.setProperty(C,i,a))}(Ut(),sn(),i,e,t,i[bt],n,!1),om}function am(e,t,n,i,a){const p=a?"class":"style";qg(e,n,t.inputs[p],p,i)}function Op(e,t,n,i){const a=Be(),d=Ut(),p=Vt+e,y=a[bt],C=d.firstCreatePass?function Q0(e,t,n,i,a,d){const p=t.consts,C=Gd(t,e,2,i,Ws(p,a));return Gg(t,n,C,Ws(p,d)),null!==C.attrs&&bp(C,C.attrs,!1),null!==C.mergedAttrs&&bp(C,C.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,C),C}(p,d,a,t,n,i):d.data[p],R=mv(d,a,C,y,t,e);a[p]=R;const L=Uo(C);return Gi(C,!0),Lf(y,R,C),32!=(32&C.flags)&&Ua()&&Po(d,a,R,C),0===function Ci(){return Mt.lFrame.elementDepthCount}()&&Nr(R,a),function Bu(){Mt.lFrame.elementDepthCount++}(),L&&($g(d,a,C),Hg(d,C,a)),null!==i&&Wg(a,C),Op}function xp(){let e=Zn();yo()?function Yo(){Mt.lFrame.isParent=!1}():(e=e.parent,Gi(e,!1));const t=e;(function Dl(e){return Mt.skipHydrationRootTNode===e})(t)&&function vo(){Mt.skipHydrationRootTNode=null}(),function td(){Mt.lFrame.elementDepthCount--}();const n=Ut();return n.firstCreatePass&&(Qo(n,e),Us(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function oc(e){return 0!=(8&e.flags)}(t)&&am(n,t,Be(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function gi(e){return 0!=(16&e.flags)}(t)&&am(n,t,Be(),t.stylesWithoutHost,!1),xp}function um(e,t,n,i){return Op(e,t,n,i),xp(),um}let mv=(e,t,n,i,a,d)=>(Fi(!0),sl(i,a,function zu(){return Mt.lFrame.currentNamespace}()));function dm(e){return!!e&&"function"==typeof e.then}function yv(e){return!!e&&"function"==typeof e.subscribe}function hm(e,t,n,i){const a=Be(),d=Ut(),p=Zn();return function Iv(e,t,n,i,a,d,p){const y=Uo(i),R=e.firstCreatePass&&B_(e),L=t[An],W=U_(t);let re=!0;if(3&i.type||p){const We=ur(i,t),ot=p?p(We):We,Tt=W.length,je=p?rn=>p(wn(rn[i.index])):i.index;let Ht=null;if(!p&&y&&(Ht=function iD(e,t,n,i){const a=e.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const p=a[d];if(p===n&&a[d+1]===i){const y=t[ui],C=a[d+2];return y.length>C?y[C]:null}"string"==typeof p&&(d+=2)}return null}(e,t,a,i.index)),null!==Ht)(Ht.__ngLastListenerFn__||Ht).__ngNextListenerFn__=d,Ht.__ngLastListenerFn__=d,re=!1;else{d=Cv(i,t,L,d,!1);const rn=n.listen(ot,a,d);W.push(d,rn),R&&R.push(a,je,Tt,Tt+1)}}else d=Cv(i,t,L,d,!1);const ge=i.outputs;let xe;if(re&&null!==ge&&(xe=ge[a])){const We=xe.length;if(We)for(let ot=0;ot<We;ot+=2){const Vn=t[xe[ot]][xe[ot+1]].subscribe(d),Ts=W.length;W.push(d,Vn),R&&R.push(a,i.index,Ts,-(Ts+1))}}}(d,a,a[bt],p,e,t,i),hm}function Dv(e,t,n,i){try{return nr(6,t,n),!1!==n(i)}catch(a){return V_(e,a),!1}finally{nr(7,t,n)}}function Cv(e,t,n,i,a){return function d(p){if(p===Function)return i;gl(e.componentOffset>-1?Rn(e.index,t):t);let C=Dv(t,n,i,p),R=d.__ngNextListenerFn__;for(;R;)C=Dv(t,n,R,p)&&C,R=R.__ngNextListenerFn__;return a&&!1===C&&p.preventDefault(),C}}function wv(e=1){return function $e(e){return(Mt.lFrame.contextLView=function qe(e,t){for(;e>0;)t=t[Sr],e--;return t}(e,Mt.lFrame.contextLView))[An]}(e)}function kp(e,t){return e<<17|t<<2}function Yl(e){return e>>17&32767}function pm(e){return 2|e}function Qc(e){return(131068&e)>>2}function gm(e,t){return-131069&e|t<<2}function mm(e){return 1|e}function xv(e,t,n,i,a){const d=e[n+1],p=null===t;let y=i?Yl(d):Qc(d),C=!1;for(;0!==y&&(!1===C||p);){const L=e[y+1];fD(e[y],t)&&(C=!0,e[y+1]=i?mm(L):pm(L)),y=i?Yl(L):Qc(L)}C&&(e[n+1]=i?pm(d):mm(d))}function fD(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Is(e,t)>=0}function _m(e,t){return function Da(e,t,n,i){const a=Be(),d=Ut(),p=function Mr(e){const t=Mt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);d.firstUpdatePass&&function $v(e,t,n,i){const a=e.data;if(null===a[n+1]){const d=a[wt()],p=function Hv(e,t){return t>=e.expandoStartIndex}(e,n);(function Zv(e,t){return 0!=(e.flags&(t?8:16))})(d,i)&&null===t&&!p&&(t=!1),t=function DD(e,t,n,i){const a=function $u(e){const t=Mt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let d=i?t.residualClasses:t.residualStyles;if(null===a)0===(i?t.classBindings:t.styleBindings)&&(n=pf(n=vm(null,e,t,n,i),t.attrs,i),d=null);else{const p=t.directiveStylingLast;if(-1===p||e[p]!==a)if(n=vm(a,e,t,n,i),null===d){let C=function CD(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Qc(i))return e[Yl(i)]}(e,t,i);void 0!==C&&Array.isArray(C)&&(C=vm(null,e,t,C[1],i),C=pf(C,t.attrs,i),function wD(e,t,n,i){e[Yl(n?t.classBindings:t.styleBindings)]=i}(e,t,i,C))}else d=function bD(e,t,n){let i;const a=t.directiveEnd;for(let d=1+t.directiveStylingLast;d<a;d++)i=pf(i,e[d].hostAttrs,n);return pf(i,t.attrs,n)}(e,t,i)}return void 0!==d&&(i?t.residualClasses=d:t.residualStyles=d),n}(a,d,t,i),function dD(e,t,n,i,a,d){let p=d?t.classBindings:t.styleBindings,y=Yl(p),C=Qc(p);e[i]=n;let L,R=!1;if(Array.isArray(n)?(L=n[1],(null===L||Is(n,L)>0)&&(R=!0)):L=n,a)if(0!==C){const re=Yl(e[y+1]);e[i+1]=kp(re,y),0!==re&&(e[re+1]=gm(e[re+1],i)),e[y+1]=function lD(e,t){return 131071&e|t<<17}(e[y+1],i)}else e[i+1]=kp(y,0),0!==y&&(e[y+1]=gm(e[y+1],i)),y=i;else e[i+1]=kp(C,0),0===y?y=i:e[C+1]=gm(e[C+1],i),C=i;R&&(e[i+1]=pm(e[i+1])),xv(e,L,i,!0),xv(e,L,i,!1),function hD(e,t,n,i,a){const d=a?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof t&&Is(d,t)>=0&&(n[i+1]=mm(n[i+1]))}(t,L,e,i,d),p=kp(y,C),d?t.classBindings=p:t.styleBindings=p}(a,d,t,n,p,i)}}(d,e,p,i),t!==qt&&Bi(a,p,t)&&function zv(e,t,n,i,a,d,p,y){if(!(3&t.type))return;const C=e.data,R=C[y+1],L=function cD(e){return 1==(1&e)}(R)?Gv(C,t,n,a,Qc(R),p):void 0;Lp(L)||(Lp(d)||function uD(e){return 2==(2&e)}(R)&&(d=Gv(C,null,n,a,y,p)),function Mh(e,t,n,i,a){if(t)a?e.addClass(n,i):e.removeClass(n,i);else{let d=-1===i.indexOf("-")?void 0:Ro.DashCase;null==a?e.removeStyle(n,i,d):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),d|=Ro.Important),e.setStyle(n,i,a,d))}}(i,p,Wo(wt(),n),a,d))}(d,d.data[wt()],a,a[bt],e,a[p+1]=function RD(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=oe(va(e)))),e}(t,n),i,p)}(e,t,null,!0),_m}function vm(e,t,n,i,a){let d=null;const p=n.directiveEnd;let y=n.directiveStylingLast;for(-1===y?y=n.directiveStart:y++;y<p&&(d=t[y],i=pf(i,d.hostAttrs,a),d!==e);)y++;return null!==e&&(n.directiveStylingLast=y),i}function pf(e,t,n){const i=n?1:2;let a=-1;if(null!==t)for(let d=0;d<t.length;d++){const p=t[d];"number"==typeof p?a=p:a===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),wi(e,p,!!n||t[++d]))}return void 0===e?null:e}function Gv(e,t,n,i,a,d){const p=null===t;let y;for(;a>0;){const C=e[a],R=Array.isArray(C),L=R?C[1]:C,W=null===L;let re=n[a+1];re===qt&&(re=W?le:void 0);let ge=W?_c(re,i):L===i?re:void 0;if(R&&!Lp(ge)&&(ge=_c(C,i)),Lp(ge)&&(y=ge,p))return y;const xe=e[a+1];a=p?Yl(xe):Qc(xe)}if(null!==t){let C=d?t.residualClasses:t.residualStyles;null!=C&&(y=_c(C,i))}return y}function Lp(e){return void 0!==e}function Kv(e,t=""){const n=Be(),i=Ut(),a=e+Vt,d=i.firstCreatePass?Gd(i,a,1,t,null):i.data[a],p=Yv(i,n,d,t,e);n[a]=p,Ua()&&Po(i,n,p,d),Gi(d,!1)}let Yv=(e,t,n,i,a)=>(Fi(!0),function cu(e,t){return e.createText(t)}(t[bt],i));function Fp(e,t,n){const i=Be(),a=function Kd(e,t,n,i){return Bi(e,gs(),n)?t+ue(n)+i:qt}(i,e,t,n);return a!==qt&&function ml(e,t,n){const i=Wo(t,e);!function bd(e,t,n){e.setValue(t,n)}(e[bt],i,n)}(i,wt(),a),Fp}const Xc=void 0;var QD=["en",[["a","p"],["AM","PM"],Xc],[["AM","PM"],Xc,Xc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xc,"{1} 'at' {0}",Xc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qD(e){const n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let rh={};function ym(e){const t=function XD(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=_y(t);if(n)return n;const i=t.split("-")[0];if(n=_y(i),n)return n;if("en"===i)return QD;throw new de(701,!1)}function my(e){return ym(e)[ih.PluralCase]}function _y(e){return e in rh||(rh[e]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[e]),rh[e]}var ih=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(ih||{});const sh="en-US";let vy=sh;function Dm(e,t,n,i,a){if(e=Le(e),Array.isArray(e))for(let d=0;d<e.length;d++)Dm(e[d],t,n,i,a);else{const d=Ut(),p=Be(),y=Zn();let C=ro(e)?e:Le(e.provide);const R=np(e),L=1048575&y.providerIndexes,W=y.directiveStart,re=y.providerIndexes>>20;if(ro(e)||!e.multi){const ge=new ms(R,a,zd),xe=wm(C,t,a?L:L+re,W);-1===xe?(ys(Al(y,p),d,C),Cm(d,e,t.length),t.push(C),y.directiveStart++,y.directiveEnd++,a&&(y.providerIndexes+=1048576),n.push(ge),p.push(ge)):(n[xe]=ge,p[xe]=ge)}else{const ge=wm(C,t,L+re,W),xe=wm(C,t,L,L+re),ot=xe>=0&&n[xe];if(a&&!ot||!a&&!(ge>=0&&n[ge])){ys(Al(y,p),d,C);const Tt=function qC(e,t,n,i,a){const d=new ms(e,n,zd);return d.multi=[],d.index=t,d.componentProviders=0,$y(d,a,i&&!n),d}(a?YC:KC,n.length,a,i,R);!a&&ot&&(n[xe].providerFactory=Tt),Cm(d,e,t.length,0),t.push(C),y.directiveStart++,y.directiveEnd++,a&&(y.providerIndexes+=1048576),n.push(Tt),p.push(Tt)}else Cm(d,e,ge>-1?ge:xe,$y(n[a?xe:ge],R,!a&&i));!a&&i&&ot&&n[xe].componentProviders++}}}function Cm(e,t,n,i){const a=ro(t),d=function xd(e){return!!e.useClass}(t);if(a||d){const C=(d?Le(t.useClass):t).prototype.ngOnDestroy;if(C){const R=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const L=R.indexOf(n);-1===L?R.push(n,[i,C]):R[L+1].push(i,C)}else R.push(n,C)}}}function $y(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function wm(e,t,n,i){for(let a=n;a<i;a++)if(t[a]===e)return a;return-1}function KC(e,t,n,i){return bm(this.multi,[])}function YC(e,t,n,i){const a=this.multi;let d;if(this.providerFactory){const p=this.providerFactory.componentProviders,y=Qs(n,n[et],this.providerFactory.index,i);d=y.slice(0,p),bm(a,d);for(let C=p;C<y.length;C++)d.push(y[C])}else d=[],bm(a,d);return d}function bm(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Wy(e,t=[]){return n=>{n.providersResolver=(i,a)=>function ZC(e,t,n){const i=Ut();if(i.firstCreatePass){const a=Kr(e);Dm(n,i.data,i.blueprint,a,!0),Dm(t,i.data,i.blueprint,a,!1)}}(i,a?a(e):e,t)}}class Jc{}class zy{}function QC(e,t){return new Tm(e,t??null,[])}class Tm extends Jc{constructor(t,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new K_(this);const a=er(t);this._bootstrapComponents=jn(a.bootstrap),this._r3Injector=ef(t,n,[{provide:Jc,useValue:this},{provide:Hd,useValue:this.componentFactoryResolver},...i],oe(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Sm extends zy{constructor(t){super(),this.moduleType=t}create(t){return new Tm(this.moduleType,t,[])}}class Gy extends Jc{constructor(t){super(),this.componentFactoryResolver=new K_(this),this.instance=null;const n=new hl([...t.providers,{provide:Jc,useValue:this},{provide:Hd,useValue:this.componentFactoryResolver}],t.parent||Gc(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Zy(e,t,n=null){return new Gy({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let JC=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const i=vu(0,n.type),a=i.length>0?Zy([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,a)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ct({token:e,providedIn:"environment",factory:()=>new e(ut(io))})}return e})();function Ky(e){e.getStandaloneInjector=t=>t.get(JC).getOrCreateStandaloneInjector(e)}function bw(){return this._results[Symbol.iterator]()}class Rm{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new No)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Rm.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=bw)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const a=function rr(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function _h(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let a=e[i],d=t[i];if(n&&(a=n(a),d=n(d)),d!==a)return!1}return!0}(i._results,a,n))&&(i._results=a,i.length=a.length,i.last=a[this.length-1],i.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Sw(e,t,n,i=!0){const a=t[et];if(function g(e,t,n,i){const a=Bn+i,d=n.length;i>0&&(n[a-1][pr]=t),i<d-Bn?(t[pr]=n[a],Za(n,Bn+i,t)):(n.push(t),t[pr]=null),t[en]=n;const p=t[ks];null!==p&&n!==p&&function A(e,t){const n=e[li];t[fn]!==t[en][en][fn]&&(e[Zr]=!0),null===n?e[li]=[t]:n.push(t)}(p,t);const y=t[Gn];null!==y&&y.insertView(e),t[kt]|=128}(a,t,e,n),i){const d=ma(n,e),p=t[bt],y=pa(p,e[Si]);null!==y&&function f(e,t,n,i,a,d){i[yn]=a,i[qn]=t,hu(e,i,n,1,a,d)}(a,e[qn],p,t,y,d)}}let Df=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Mw}return e})();const Aw=Df,Rw=class extends Aw{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){const a=function Tw(e,t,n,i){const a=t.tView,y=Cp(e,a,n,4096&e[kt]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);y[ks]=e[t.index];const R=e[Gn];return null!==R&&(y[Gn]=R.createEmbeddedView(a)),Qg(a,y,n),y}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:i});return new uf(a)}};function Mw(){return Hp(Zn(),Be())}function Hp(e,t){return 4&e.type?new Rw(t,e,dr(e,t)):null}let Wp=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Lw}return e})();function Lw(){return hE(Zn(),Be())}const Fw=Wp,cE=class extends Fw{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return dr(this._hostTNode,this._hostLView)}get injector(){return new mr(this._hostTNode,this._hostLView)}get parentInjector(){const t=Co(this._hostTNode,this._hostLView);if(Xo(t)){const n=Va(t,this._hostLView),i=ja(t);return new mr(n[et].data[i+8],n)}return new mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=dE(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Bn}createEmbeddedView(t,n,i){let a,d;"number"==typeof i?a=i:null!=i&&(a=i.index,d=i.injector);const y=t.createEmbeddedViewImpl(n||{},d,null);return this.insertImpl(y,a,false),y}createComponent(t,n,i,a,d){const p=t&&!function Ku(e){return"function"==typeof e}(t);let y;if(p)y=n;else{const We=n||{};y=We.index,i=We.injector,a=We.projectableNodes,d=We.environmentInjector||We.ngModuleRef}const C=p?t:new lf(xt(t)),R=i||this.parentInjector;if(!d&&null==C.ngModule){const ot=(p?R:this.parentInjector).get(io,null);ot&&(d=ot)}xt(C.componentType??{});const ge=C.create(R,a,null,d);return this.insertImpl(ge.hostView,y,false),ge}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,i){const a=t._lView;if(function Lu(e){return Wt(e[en])}(a)){const C=this.indexOf(t);if(-1!==C)this.detach(C);else{const R=a[en],L=new cE(R,R[qn],R[en]);L.detach(L.indexOf(t))}}const p=this._adjustIndex(n),y=this._lContainer;return Sw(y,a,p,!i),t.attachToViewContainerRef(),Za(Mm(y),p,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=dE(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=Q(this._lContainer,n);i&&(Ka(Mm(this._lContainer),n),ce(i[et],i))}detach(t){const n=this._adjustIndex(t,-1),i=Q(this._lContainer,n);return i&&null!=Ka(Mm(this._lContainer),n)?new uf(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function dE(e){return e[8]}function Mm(e){return e[8]||(e[8]=[])}function hE(e,t){let n;const i=t[e.index];return Wt(i)?n=i:(n=L_(i,t,null,e),t[e.index]=n,wp(t,n)),fE(n,t,e,i),new cE(n,e,t)}let fE=function pE(e,t,n,i){if(e[Si])return;let a;a=8&n.type?wn(i):function Uw(e,t){const n=e[bt],i=n.createComment(""),a=ur(t,e);return ir(n,pa(n,a),i,function kc(e,t){return e.nextSibling(t)}(n,a),!1),i}(t,n),e[Si]=a};class Pm{constructor(t){this.queryList=t,this.matches=null}clone(){return new Pm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nm{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let d=0;d<i;d++){const p=n.getByIndex(d);a.push(this.queries[p.indexInDeclarationView].clone())}return new Nm(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==DE(t,n).matches&&this.queries[n].setDirty()}}class gE{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class Om{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const a=null!==n?n.length:0,d=this.getByIndex(i).embeddedTView(t,a);d&&(d.indexInDeclarationView=i,null!==n?n.push(d):n=[d])}return null!==n?new Om(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class xm{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new xm(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let a=0;a<i.length;a++){const d=i[a];this.matchTNodeWithReadOption(t,n,Vw(n,d)),this.matchTNodeWithReadOption(t,n,Mn(n,t,d,!1,!1))}else i===Df?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Mn(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const a=this.metadata.read;if(null!==a)if(a===ti||a===Wp||a===Df&&4&n.type)this.addMatch(n.index,-2);else{const d=Mn(n,t,a,!1,!1);null!==d&&this.addMatch(n.index,d)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Vw(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function $w(e,t,n,i){return-1===n?function Hw(e,t){return 11&e.type?dr(e,t):4&e.type?Hp(e,t):null}(t,e):-2===n?function Ww(e,t,n){return n===ti?dr(t,e):n===Df?Hp(t,e):n===Wp?hE(t,e):void 0}(e,t,i):Qs(e,e[et],n,t)}function mE(e,t,n,i){const a=t[Gn].queries[i];if(null===a.matches){const d=e.data,p=n.matches,y=[];for(let C=0;C<p.length;C+=2){const R=p[C];y.push(R<0?null:$w(t,d[R],p[C+1],n.metadata.read))}a.matches=y}return a.matches}function km(e,t,n,i){const a=e.queries.getByIndex(n),d=a.matches;if(null!==d){const p=mE(e,t,a,n);for(let y=0;y<d.length;y+=2){const C=d[y];if(C>0)i.push(p[y/2]);else{const R=d[y+1],L=t[-C];for(let W=Bn;W<L.length;W++){const re=L[W];re[ks]===re[en]&&km(re[et],re,R,i)}if(null!==L[li]){const W=L[li];for(let re=0;re<W.length;re++){const ge=W[re];km(ge[et],ge,R,i)}}}}}return i}function _E(e){const t=Be(),n=Ut(),i=Fa();_(i+1);const a=DE(n,i);if(e.dirty&&function Il(e){return 4==(4&e[kt])}(t)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const d=a.crossesNgTemplate?km(n,t,i,[]):mE(n,t,a,i);e.reset(d,Yc),e.notifyOnChanges()}return!0}return!1}function vE(e,t,n,i){const a=Ut();if(a.firstCreatePass){const d=Zn();(function IE(e,t,n){null===e.queries&&(e.queries=new Om),e.queries.track(new xm(t,n))})(a,new gE(t,n,i),d.index),function Zw(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),2==(2&n)&&(a.staticContentQueries=!0)}!function EE(e,t,n){const i=new Rm(4==(4&n));(function kI(e,t,n,i){const a=U_(t);a.push(n),e.firstCreatePass&&B_(e).push(i,a.length-1)})(e,t,i,i.destroy),null===t[Gn]&&(t[Gn]=new Nm),t[Gn].queries.push(new Pm(i))}(a,Be(),n)}function yE(){return function Gw(e,t){return e[Gn].queries[t].queryList}(Be(),Fa())}function DE(e,t){return e.queries.getByIndex(t)}function Lm(e){return!!er(e)}const BE=new dt("Application Initializer");let Vm=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=mt(BE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const a of this.appInits){const d=a();if(dm(d))n.push(d);else if(yv(d)){const p=new Promise((y,C)=>{d.subscribe({complete:y,error:C})});n.push(p)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(a=>{this.reject(a)}),0===n.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),jE=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Gp=new dt("LocaleId",{providedIn:"root",factory:()=>mt(Gp,vt.Optional|vt.SkipSelf)||function gb(){return typeof $localize<"u"&&$localize.locale||sh}()}),mb=new dt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let VE=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ie.X(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class vb{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let yb=(()=>{class e{compileModuleSync(n){return new Sm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),d=jn(er(n).declarations).reduce((p,y)=>{const C=xt(y);return C&&p.push(new lf(C)),p},[]);return new vb(i,d)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const zE=new dt(""),GE=new dt("");let Wm,Vb=(()=>{class e{constructor(n,i,a){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wm||(function Hb(e){Wm=e}(a),a.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{s.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,a){let d=-1;i&&i>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==d),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:d,updateCb:a})}whenStable(n,i,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,a){return[]}static#e=this.\u0275fac=function(i){return new(i||e)(ut(s),ut(ZE),ut(GE))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac})}return e})(),ZE=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Wm?.findTestabilityInTree(this,n,i)??null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),ql=null;const KE=new dt("AllowMultipleToken"),zm=new dt("PlatformDestroyListeners"),Gm=new dt("appBootstrapListener");class zb{constructor(t,n){this.name=t,this.token=n}}function QE(e,t,n=[]){const i=`Platform: ${t}`,a=new dt(i);return(d=[])=>{let p=Zm();if(!p||p.injector.get(KE,!1)){const y=[...n,...d,{provide:a,useValue:!0}];e?e(y):function Gb(e){if(ql&&!ql.get(KE,!1))throw new de(400,!1);(function YE(){!function Oi(e){Ni=e}(()=>{throw new de(600,!1)})})(),ql=e;const t=e.get(JE);(function qE(e){e.get(sp,null)?.forEach(n=>n())})(e)}(function XE(e=[],t){return so.create({name:t,providers:[{provide:dl,useValue:"platform"},{provide:zm,useValue:new Set([()=>ql=null])},...e]})}(y,i))}return function Kb(e){const t=Zm();if(!t)throw new de(401,!1);return t}()}}function Zm(){return ql?.get(JE)??null}let JE=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const a=function Yb(e="zone.js",t){return"noop"===e?new pe:"zone.js"===e?new s(t):e}(i?.ngZone,function eI(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return a.run(()=>{const d=function XC(e,t,n){return new Tm(e,t,n)}(n.moduleType,this.injector,function sI(e){return[{provide:s,useFactory:e},{provide:Cs,multi:!0,useFactory:()=>{const t=mt(Qb,{optional:!0});return()=>t.initialize()}},{provide:iI,useFactory:qb},{provide:Ee,useFactory:be}]}(()=>a)),p=d.injector.get(Ia,null);return a.runOutsideAngular(()=>{const y=a.onError.subscribe({next:C=>{p.handleError(C)}});d.onDestroy(()=>{Kp(this._modules,d),y.unsubscribe()})}),function tI(e,t,n){try{const i=n();return dm(i)?i.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(p,a,()=>{const y=d.injector.get(Vm);return y.runInitializers(),y.donePromise.then(()=>(function yy(e){Ve(e,"Expected localeId to be defined"),"string"==typeof e&&(vy=e.toLowerCase().replace(/_/g,"-"))}(d.injector.get(Gp,sh)||sh),this._moduleDoBootstrap(d),d))})})}bootstrapModule(n,i=[]){const a=nI({},i);return function $b(e,t,n){const i=new Sm(n);return Promise.resolve(i)}(0,0,n).then(d=>this.bootstrapModuleFactory(d,a))}_moduleDoBootstrap(n){const i=n.injector.get(uh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>i.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new de(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new de(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(zm,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||e)(ut(so))};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function nI(e,t){return Array.isArray(t)?t.reduce(nI,e):{...e,...t}}let uh=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=mt(iI),this.zoneIsStable=mt(Ee),this.componentTypes=[],this.components=[],this.isStable=mt(VE).hasPendingTasks.pipe((0,Ie.w)(n=>n?(0,te.of)(!1):this.zoneIsStable),(0,me.x)(),(0,ae.B)()),this._injector=mt(io)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const a=n instanceof lp;if(!this._injector.get(Vm).done)throw!a&&vi(n),new de(405,!1);let p;p=a?n:this._injector.get(Hd).resolveComponentFactory(n),this.componentTypes.push(p.componentType);const y=function Wb(e){return e.isBoundToModule}(p)?void 0:this._injector.get(Jc),R=p.create(so.NULL,[],i||p.selector,y),L=R.location.nativeElement,W=R.injector.get(zE,null);return W?.registerApplication(L),R.onDestroy(()=>{this.detachView(R.hostView),Kp(this.components,R),W?.unregisterApplication(L)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new de(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Kp(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(Gm,[]);i.push(...this._bootstrapListeners),i.forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Kp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new de(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Kp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const iI=new dt("",{providedIn:"root",factory:()=>mt(Ia).handleError.bind(void 0)});function qb(){const e=mt(s),t=mt(Ia);return n=>e.runOutsideAngular(()=>t.handleError(n))}let Qb=(()=>{class e{constructor(){this.zone=mt(s),this.applicationRef=mt(uh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Jb(){return!1}let eT=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=tT}return e})();function tT(e){return function nT(e,t,n){if(Ur(e)&&!n){const i=Rn(e.index,t);return new uf(i,i)}return 47&e.type?new uf(t[fn],t):null}(Zn(),Be(),16==(16&e))}class lI{constructor(){}supports(t){return Ap(t)}create(t){return new uT(t)}}const aT=(e,t)=>t;class uT{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||aT}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,a=0,d=null;for(;n||i;){const p=!i||n&&n.currentIndex<dI(i,a,d)?n:i,y=dI(p,a,d),C=p.currentIndex;if(p===i)a--,i=i._nextRemoved;else if(n=n._next,null==p.previousIndex)a++;else{d||(d=[]);const R=y-a,L=C-a;if(R!=L){for(let re=0;re<R;re++){const ge=re<d.length?d[re]:d[re]=0,xe=ge+re;L<=xe&&xe<R&&(d[re]=ge+1)}d[p.previousIndex]=L-R}}y!==C&&t(p,y,C)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Ap(t))throw new de(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,d,p,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let y=0;y<this.length;y++)d=t[y],p=this._trackByFn(y,d),null!==n&&Object.is(n.trackById,p)?(i&&(n=this._verifyReinsertion(n,d,p,y)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,p,y),i=!0),n=n._next}else a=0,function A0(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,y=>{p=this._trackByFn(a,y),null!==n&&Object.is(n.trackById,p)?(i&&(n=this._verifyReinsertion(n,y,p,a)),Object.is(n.item,y)||this._addIdentityChange(n,y)):(n=this._mismatch(n,y,p,a),i=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,a){let d;return null===t?d=this._itTail:(d=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,d,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,d,a)):t=this._addAfter(new lT(n,i),d,a),t}_verifyReinsertion(t,n,i,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==d?t=this._reinsertAfter(d,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,d=t._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new cI),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cI),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class lT{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cT{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class cI{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new cT,this.map.set(n,i)),i.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dI(e,t,n){const i=e.previousIndex;if(null===i)return i;let a=0;return n&&i<n.length&&(a=n[i]),i+t+a}class hI{constructor(){}supports(t){return t instanceof Map||Jg(t)}create(){return new dT}}class dT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Jg(t)))throw new de(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const d=this._getOrCreateRecordForKey(a,i);n=this._insertBeforeOrAppend(n,d)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const d=a._prev,p=a._next;return d&&(d._next=p),p&&(p._prev=d),a._next=null,a._prev=null,a}const i=new hT(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class hT{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fI(){return new Xm([new lI])}let Xm=(()=>{class e{static#e=this.\u0275prov=Ct({token:e,providedIn:"root",factory:fI});constructor(n){this.factories=n}static create(n,i){if(null!=i){const a=i.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||fI()),deps:[[e,new Ja,new aa]]}}find(n){const i=this.factories.find(a=>a.supports(n));if(null!=i)return i;throw new de(901,!1)}}return e})();function pI(){return new Jm([new hI])}let Jm=(()=>{class e{static#e=this.\u0275prov=Ct({token:e,providedIn:"root",factory:pI});constructor(n){this.factories=n}static create(n,i){if(i){const a=i.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||pI()),deps:[[e,new Ja,new aa]]}}find(n){const i=this.factories.find(a=>a.supports(n));if(i)return i;throw new de(901,!1)}}return e})();const gT=QE(null,"core",[]);let mT=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(i){return new(i||e)(ut(uh))};static#t=this.\u0275mod=lo({type:e});static#n=this.\u0275inj=dn({})}return e})();function ST(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function RT(e){const t=xt(e);if(!t)return null;const n=new lf(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},7213:(st,Ce,O)=>{O.d(Ce,{zQ:()=>on,ww:()=>cn,rT:()=>we,f7:()=>yt,L6:()=>He,_Q:()=>at,lh:()=>rt,Qv:()=>Re,nw:()=>Pt}),O(340);var X=O(6814),z=O(5879),G=O(8326),ie=O(7217),te=O(8645),ae=O(2096),Ie=O(5592),me=O(2459),Z=O(3019),q=O(3093),oe=O(4664),Fe=O(7398),Oe=O(4552);class Ze extends te.x{constructor(it=1/0,J=1/0,ne=Oe.l){super(),this._bufferSize=it,this._windowTime=J,this._timestampProvider=ne,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=J===1/0,this._bufferSize=Math.max(1,it),this._windowTime=Math.max(1,J)}next(it){const{isStopped:J,_buffer:ne,_infiniteTimeWindow:_e,_timestampProvider:fe,_windowTime:Te}=this;J||(ne.push(it),!_e&&ne.push(fe.now()+Te)),this._trimBuffer(),super.next(it)}_subscribe(it){this._throwIfClosed(),this._trimBuffer();const J=this._innerSubscribe(it),{_infiniteTimeWindow:ne,_buffer:_e}=this,fe=_e.slice();for(let Te=0;Te<fe.length&&!it.closed;Te+=ne?1:2)it.next(fe[Te]);return this._checkFinalizedStatuses(it),J}_trimBuffer(){const{_bufferSize:it,_timestampProvider:J,_buffer:ne,_infiniteTimeWindow:_e}=this,fe=(_e?1:2)*it;if(it<1/0&&fe<ne.length&&ne.splice(0,ne.length-fe),!_e){const Te=J.now();let Se=0;for(let Ve=1;Ve<ne.length&&ne[Ve]<=Te;Ve+=2)Se=Ve;Se&&ne.splice(0,Se+1)}}}var Le=O(3020);function Ke(tt,it,J){let ne,_e=!1;return tt&&"object"==typeof tt?({bufferSize:ne=1/0,windowTime:it=1/0,refCount:_e=!1,scheduler:J}=tt):ne=tt??1/0,(0,Le.B)({connector:()=>new Ze(ne,it,J),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:_e})}var Ue=O(1374),gt=O(4674);function ct(tt,it){return(0,gt.m)(it)?(0,oe.w)(()=>tt,it):(0,oe.w)(()=>tt)}var de=O(5137),N=O(2181),ue=O(7142);const Re=new z.OlP("angularfire2.auth.use-emulator"),He=new z.OlP("angularfire2.auth.settings"),at=new z.OlP("angularfire2.auth.tenant-id"),we=new z.OlP("angularfire2.auth.langugage-code"),rt=new z.OlP("angularfire2.auth.use-device-language"),yt=new z.OlP("angularfire.auth.persistence"),Pt=(tt,it,J,ne,_e,fe,Te,Se)=>(0,ie.cc)(`${tt.name}.auth`,"AngularFireAuth",tt.name,()=>{const Ve=it.runOutsideAngular(()=>tt.auth());if(J&&Ve.useEmulator(...J),ne&&(Ve.tenantId=ne),Ve.languageCode=_e,fe&&Ve.useDeviceLanguage(),Te)for(const[ze,In]of Object.entries(Te))Ve.settings[ze]=In;return Se&&Ve.setPersistence(Se),Ve},[J,ne,_e,fe,Te,Se]);let on=(()=>{class tt{authState;idToken;user;idTokenResult;credential;constructor(J,ne,_e,fe,Te,Se,Ve,ze,In,Dt,Lt,Ct){const an=new te.x,dn=(0,ae.of)(void 0).pipe((0,q.Q)(Te.outsideAngular),(0,oe.w)(()=>fe.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,340)))),(0,Fe.U)(()=>(0,ie.on)(J,fe,ne)),(0,Fe.U)(Qt=>Pt(Qt,fe,Se,ze,In,Dt,Ve,Lt)),Ke({bufferSize:1,refCount:!1}));if((0,X.PM)(_e))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ae.of)(null);else{dn.pipe((0,Ue.P)()).subscribe();const Qt=dn.pipe((0,oe.w)(zt=>zt.getRedirectResult().then(Hn=>Hn,()=>null)),G.iC,Ke({bufferSize:1,refCount:!1})),$t=dn.pipe((0,oe.w)(zt=>new Ie.y(Hn=>({unsubscribe:fe.runOutsideAngular(()=>zt.onAuthStateChanged(bn=>Hn.next(bn),bn=>Hn.error(bn),()=>Hn.complete()))})))),Qe=dn.pipe((0,oe.w)(zt=>new Ie.y(Hn=>({unsubscribe:fe.runOutsideAngular(()=>zt.onIdTokenChanged(bn=>Hn.next(bn),bn=>Hn.error(bn),()=>Hn.complete()))}))));this.authState=Qt.pipe(ct($t),(0,de.R)(Te.outsideAngular),(0,q.Q)(Te.insideAngular)),this.user=Qt.pipe(ct(Qe),(0,de.R)(Te.outsideAngular),(0,q.Q)(Te.insideAngular)),this.idToken=this.user.pipe((0,oe.w)(zt=>zt?(0,me.D)(zt.getIdToken()):(0,ae.of)(null))),this.idTokenResult=this.user.pipe((0,oe.w)(zt=>zt?(0,me.D)(zt.getIdTokenResult()):(0,ae.of)(null))),this.credential=(0,Z.T)(Qt,an,this.authState.pipe((0,N.h)(zt=>!zt))).pipe((0,Fe.U)(zt=>zt?.user?zt:null),(0,de.R)(Te.outsideAngular),(0,q.Q)(Te.insideAngular))}return(0,ie.pX)(this,dn,fe,{spy:{apply:(Qt,$t,Qe)=>{(Qt.startsWith("signIn")||Qt.startsWith("createUser"))&&Qe.then(zt=>an.next(zt))}}})}static \u0275fac=function(ne){return new(ne||tt)(z.LFG(ie.Dh),z.LFG(ie.xv,8),z.LFG(z.Lbi),z.LFG(z.R0b),z.LFG(G.HU),z.LFG(Re,8),z.LFG(He,8),z.LFG(at,8),z.LFG(we,8),z.LFG(rt,8),z.LFG(yt,8),z.LFG(G.Rf,8))};static \u0275prov=z.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"any"})}return tt})(),cn=(()=>{class tt{constructor(){ue.Z.registerVersion("angularfire",G.q4.full,"auth-compat")}static \u0275fac=function(ne){return new(ne||tt)};static \u0275mod=z.oAB({type:tt});static \u0275inj=z.cJS({providers:[on]})}return tt})()},7217:(st,Ce,O)=>{O.d(Ce,{Dh:()=>Ie,GT:()=>te,cc:()=>Oe,hO:()=>Fe,on:()=>Z,pX:()=>ie,xv:()=>me});var v=O(5879),X=O(8326),z=O(7142);const G=["ngOnDestroy"],ie=(Ue,gt,ct,de={})=>new Proxy(Ue,{get:(N,ue)=>ct.runOutsideAngular(()=>{if(Ue[ue])return de?.spy?.get&&de.spy.get(ue,Ue[ue]),Ue[ue];if(G.indexOf(ue)>-1)return()=>{};const Ne=gt.toPromise().then(Re=>{const He=Re?.[ue];return"function"==typeof He?He.bind(Re):He?.then?He.then(at=>ct.run(()=>at)):ct.run(()=>He)});return new Proxy(()=>{},{get:(Re,He)=>Ne[He],apply:(Re,He,at)=>Ne.then(we=>{const rt=we?.(...at);return de?.spy?.apply&&de.spy.apply(ue,at,rt),rt})})})}),te=(Ue,gt)=>{gt.forEach(ct=>{Object.getOwnPropertyNames(ct.prototype||ct).forEach(de=>{Object.defineProperty(Ue.prototype,de,Object.getOwnPropertyDescriptor(ct.prototype||ct,de))})})};class ae{constructor(gt){return gt}}const Ie=new v.OlP("angularfire2.app.options"),me=new v.OlP("angularfire2.app.name");function Z(Ue,gt,ct){const N="object"==typeof ct&&ct||{};N.name=N.name||"string"==typeof ct&&ct||"[DEFAULT]";const Ne=z.Z.apps.filter(Re=>Re&&Re.name===N.name)[0]||gt.runOutsideAngular(()=>z.Z.initializeApp(Ue,N));try{if(JSON.stringify(Ue)!==JSON.stringify(Ne.options)){const Re=!!module.hot;q("error",`${Ne.name} Firebase App already initialized with different options${Re?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ae(Ne)}const q=(Ue,...gt)=>{(0,v.X6Q)()&&typeof console<"u"&&console[Ue](...gt)},oe={provide:ae,useFactory:Z,deps:[Ie,v.R0b,[new v.FiY,me]]};let Fe=(()=>{class Ue{static initializeApp(ct,de){return{ngModule:Ue,providers:[{provide:Ie,useValue:ct},{provide:me,useValue:de}]}}constructor(ct){z.Z.registerVersion("angularfire",X.q4.full,"core"),z.Z.registerVersion("angularfire",X.q4.full,"app-compat"),z.Z.registerVersion("angular",v.q4F.full,ct.toString())}static \u0275fac=function(de){return new(de||Ue)(v.LFG(v.Lbi))};static \u0275mod=v.oAB({type:Ue});static \u0275inj=v.cJS({providers:[oe]})}return Ue})();function Oe(Ue,gt,ct,de,N){const[,ue,Ne]=globalThis.\u0275AngularfireInstanceCache.find(Re=>Re[0]===Ue)||[];if(ue)return function Ze(Ue,gt){try{return Ue.toString()===gt.toString()}catch{return Ue===gt}}(N,Ne)||(Ke("error",`${gt} was already initialized on the ${ct} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),Ke("warn",{is:N,was:Ne})),ue;{const Re=de();return globalThis.\u0275AngularfireInstanceCache.push([Ue,Re,N]),Re}}const Le=typeof module<"u"&&!!module.hot,Ke=(Ue,...gt)=>{(0,v.X6Q)()&&typeof console<"u"&&console[Ue](...gt)};globalThis.\u0275AngularfireInstanceCache||=[]},8326:(st,Ce,O)=>{O.d(Ce,{q4:()=>Ze,iC:()=>yt,fc:()=>we,HU:()=>Ne,Rf:()=>gt});var v=O(5879),X=O(534);(0,X.registerVersion)("firebase","10.11.1","app");var ie=O(1954),ae=O(2631);const me=new class Ie extends ae.v{}(class te extends ie.o{constructor(it,J){super(it,J),this.scheduler=it,this.work=J}schedule(it,J=0){return J>0?super.schedule(it,J):(this.delay=J,this.state=it,this.scheduler.flush(this),this)}execute(it,J){return J>0||this.closed?super.execute(it,J):this._execute(it,J)}requestAsyncId(it,J,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(it,J,ne):(it.flush(this),0)}});var q=O(6321),oe=O(9397),Fe=O(3093),Oe=O(5137);const Ze=new v.GfV("ANGULARFIRE2_VERSION");class gt{constructor(){return((tt,it)=>{const J=(0,X.getApps)(),ne=[];return J.forEach(_e=>{_e.container.getProvider(tt).instances.forEach(Te=>{ne.includes(Te)||ne.push(Te)})}),ne})(ct)}}const ct="app-check";function de(){}class N{zone;delegate;constructor(it,J=me){this.zone=it,this.delegate=J}now(){return this.delegate.now()}schedule(it,J,ne){const _e=this.zone;return this.delegate.schedule(function(Te){_e.runGuarded(()=>{it.apply(this,[Te])})},J,ne)}}class ue{zone;task=null;constructor(it){this.zone=it}call(it,J){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",de,{},de,de)),J.pipe((0,oe.b)({next:ne,complete:ne,error:ne})).subscribe(it).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ne=(()=>{class tt{ngZone;outsideAngular;insideAngular;constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new N(Zone.current)),this.insideAngular=J.run(()=>new N(Zone.current,q.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ne){return new(ne||tt)(v.LFG(v.R0b))};static \u0275prov=v.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"})}return tt})();function Re(){const tt=globalThis.\u0275AngularFireScheduler;if(!tt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return tt}function we(tt){return tt.pipe((0,Fe.Q)(Re().outsideAngular))}function yt(tt){return function Pt(tt){return function(J){return(J=J.lift(new ue(tt.ngZone))).pipe((0,Oe.R)(tt.outsideAngular),(0,Fe.Q)(tt.insideAngular))}}(Re())(tt)}},6593:(st,Ce,O)=>{O.d(Ce,{Dx:()=>Dr,b2:()=>$t,q6:()=>Ct});var v=O(5879),X=O(6814);class z extends X.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class G extends z{static makeCurrent(){(0,X.HT)(new G)}onAndCancel(V,B,H){return V.addEventListener(B,H),()=>{V.removeEventListener(B,H)}}dispatchEvent(V,B){V.dispatchEvent(B)}remove(V){V.parentNode&&V.parentNode.removeChild(V)}createElement(V,B){return(B=B||this.getDefaultDocument()).createElement(V)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(V){return V.nodeType===Node.ELEMENT_NODE}isShadowRoot(V){return V instanceof DocumentFragment}getGlobalEventTarget(V,B){return"window"===B?window:"document"===B?V:"body"===B?V.body:null}getBaseHref(V){const B=function te(){return ie=ie||document.querySelector("base"),ie?ie.getAttribute("href"):null}();return null==B?null:function Ie(j){ae=ae||document.createElement("a"),ae.setAttribute("href",j);const V=ae.pathname;return"/"===V.charAt(0)?V:`/${V}`}(B)}resetBaseElement(){ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(V){return(0,X.Mx)(document.cookie,V)}}let ae,ie=null,Z=(()=>{class j{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(H){return new(H||j)};static#t=this.\u0275prov=v.Yz7({token:j,factory:j.\u0275fac})}return j})();const q=new v.OlP("EventManagerPlugins");let oe=(()=>{class j{constructor(B,H){this._zone=H,this._eventNameToPlugin=new Map,B.forEach(se=>{se.manager=this}),this._plugins=B.slice().reverse()}addEventListener(B,H,se){return this._findPluginFor(H).addEventListener(B,H,se)}getZone(){return this._zone}_findPluginFor(B){let H=this._eventNameToPlugin.get(B);if(H)return H;if(H=this._plugins.find(Me=>Me.supports(B)),!H)throw new v.vHH(5101,!1);return this._eventNameToPlugin.set(B,H),H}static#e=this.\u0275fac=function(H){return new(H||j)(v.LFG(q),v.LFG(v.R0b))};static#t=this.\u0275prov=v.Yz7({token:j,factory:j.\u0275fac})}return j})();class Fe{constructor(V){this._doc=V}}const Oe="ng-app-id";let Ze=(()=>{class j{constructor(B,H,se,Me={}){this.doc=B,this.appId=H,this.nonce=se,this.platformId=Me,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,X.PM)(Me),this.resetHostNodes()}addStyles(B){for(const H of B)1===this.changeUsageCount(H,1)&&this.onStyleAdded(H)}removeStyles(B){for(const H of B)this.changeUsageCount(H,-1)<=0&&this.onStyleRemoved(H)}ngOnDestroy(){const B=this.styleNodesInDOM;B&&(B.forEach(H=>H.remove()),B.clear());for(const H of this.getAllStyles())this.onStyleRemoved(H);this.resetHostNodes()}addHost(B){this.hostNodes.add(B);for(const H of this.getAllStyles())this.addStyleToHost(B,H)}removeHost(B){this.hostNodes.delete(B)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(B){for(const H of this.hostNodes)this.addStyleToHost(H,B)}onStyleRemoved(B){const H=this.styleRef;H.get(B)?.elements?.forEach(se=>se.remove()),H.delete(B)}collectServerRenderedStyles(){const B=this.doc.head?.querySelectorAll(`style[${Oe}="${this.appId}"]`);if(B?.length){const H=new Map;return B.forEach(se=>{null!=se.textContent&&H.set(se.textContent,se)}),H}return null}changeUsageCount(B,H){const se=this.styleRef;if(se.has(B)){const Me=se.get(B);return Me.usage+=H,Me.usage}return se.set(B,{usage:H,elements:[]}),H}getStyleElement(B,H){const se=this.styleNodesInDOM,Me=se?.get(H);if(Me?.parentNode===B)return se.delete(H),Me.removeAttribute(Oe),Me;{const Je=this.doc.createElement("style");return this.nonce&&Je.setAttribute("nonce",this.nonce),Je.textContent=H,this.platformIsServer&&Je.setAttribute(Oe,this.appId),Je}}addStyleToHost(B,H){const se=this.getStyleElement(B,H);B.appendChild(se);const Me=this.styleRef,Je=Me.get(H)?.elements;Je?Je.push(se):Me.set(H,{elements:[se],usage:1})}resetHostNodes(){const B=this.hostNodes;B.clear(),B.add(this.doc.head)}static#e=this.\u0275fac=function(H){return new(H||j)(v.LFG(X.K0),v.LFG(v.AFp),v.LFG(v.Ojb,8),v.LFG(v.Lbi))};static#t=this.\u0275prov=v.Yz7({token:j,factory:j.\u0275fac})}return j})();const Le={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ke=/%COMP%/g,N=new v.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Re(j,V){return V.map(B=>B.replace(Ke,j))}let He=(()=>{class j{constructor(B,H,se,Me,Je,ut,St,mt=null){this.eventManager=B,this.sharedStylesHost=H,this.appId=se,this.removeStylesOnCompDestroy=Me,this.doc=Je,this.platformId=ut,this.ngZone=St,this.nonce=mt,this.rendererByCompId=new Map,this.platformIsServer=(0,X.PM)(ut),this.defaultRenderer=new at(B,Je,St,this.platformIsServer)}createRenderer(B,H){if(!B||!H)return this.defaultRenderer;this.platformIsServer&&H.encapsulation===v.ifc.ShadowDom&&(H={...H,encapsulation:v.ifc.Emulated});const se=this.getOrCreateRenderer(B,H);return se instanceof cn?se.applyToHost(B):se instanceof on&&se.applyStyles(),se}getOrCreateRenderer(B,H){const se=this.rendererByCompId;let Me=se.get(H.id);if(!Me){const Je=this.doc,ut=this.ngZone,St=this.eventManager,mt=this.sharedStylesHost,ht=this.removeStylesOnCompDestroy,tn=this.platformIsServer;switch(H.encapsulation){case v.ifc.Emulated:Me=new cn(St,mt,H,this.appId,ht,Je,ut,tn);break;case v.ifc.ShadowDom:return new Pt(St,mt,B,H,Je,ut,this.nonce,tn);default:Me=new on(St,mt,H,ht,Je,ut,tn)}se.set(H.id,Me)}return Me}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(H){return new(H||j)(v.LFG(oe),v.LFG(Ze),v.LFG(v.AFp),v.LFG(N),v.LFG(X.K0),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(v.Ojb))};static#t=this.\u0275prov=v.Yz7({token:j,factory:j.\u0275fac})}return j})();class at{constructor(V,B,H,se){this.eventManager=V,this.doc=B,this.ngZone=H,this.platformIsServer=se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(V,B){return B?this.doc.createElementNS(Le[B]||B,V):this.doc.createElement(V)}createComment(V){return this.doc.createComment(V)}createText(V){return this.doc.createTextNode(V)}appendChild(V,B){(yt(V)?V.content:V).appendChild(B)}insertBefore(V,B,H){V&&(yt(V)?V.content:V).insertBefore(B,H)}removeChild(V,B){V&&V.removeChild(B)}selectRootElement(V,B){let H="string"==typeof V?this.doc.querySelector(V):V;if(!H)throw new v.vHH(-5104,!1);return B||(H.textContent=""),H}parentNode(V){return V.parentNode}nextSibling(V){return V.nextSibling}setAttribute(V,B,H,se){if(se){B=se+":"+B;const Me=Le[se];Me?V.setAttributeNS(Me,B,H):V.setAttribute(B,H)}else V.setAttribute(B,H)}removeAttribute(V,B,H){if(H){const se=Le[H];se?V.removeAttributeNS(se,B):V.removeAttribute(`${H}:${B}`)}else V.removeAttribute(B)}addClass(V,B){V.classList.add(B)}removeClass(V,B){V.classList.remove(B)}setStyle(V,B,H,se){se&(v.JOm.DashCase|v.JOm.Important)?V.style.setProperty(B,H,se&v.JOm.Important?"important":""):V.style[B]=H}removeStyle(V,B,H){H&v.JOm.DashCase?V.style.removeProperty(B):V.style[B]=""}setProperty(V,B,H){V[B]=H}setValue(V,B){V.nodeValue=B}listen(V,B,H){if("string"==typeof V&&!(V=(0,X.q)().getGlobalEventTarget(this.doc,V)))throw new Error(`Unsupported event target ${V} for event ${B}`);return this.eventManager.addEventListener(V,B,this.decoratePreventDefault(H))}decoratePreventDefault(V){return B=>{if("__ngUnwrap__"===B)return V;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>V(B)):V(B))&&B.preventDefault()}}}function yt(j){return"TEMPLATE"===j.tagName&&void 0!==j.content}class Pt extends at{constructor(V,B,H,se,Me,Je,ut,St){super(V,Me,Je,St),this.sharedStylesHost=B,this.hostEl=H,this.shadowRoot=H.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const mt=Re(se.id,se.styles);for(const ht of mt){const tn=document.createElement("style");ut&&tn.setAttribute("nonce",ut),tn.textContent=ht,this.shadowRoot.appendChild(tn)}}nodeOrShadowRoot(V){return V===this.hostEl?this.shadowRoot:V}appendChild(V,B){return super.appendChild(this.nodeOrShadowRoot(V),B)}insertBefore(V,B,H){return super.insertBefore(this.nodeOrShadowRoot(V),B,H)}removeChild(V,B){return super.removeChild(this.nodeOrShadowRoot(V),B)}parentNode(V){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(V)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class on extends at{constructor(V,B,H,se,Me,Je,ut,St){super(V,Me,Je,ut),this.sharedStylesHost=B,this.removeStylesOnCompDestroy=se,this.styles=St?Re(St,H.styles):H.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class cn extends on{constructor(V,B,H,se,Me,Je,ut,St){const mt=se+"-"+H.id;super(V,B,H,Me,Je,ut,St,mt),this.contentAttr=function ue(j){return"_ngcontent-%COMP%".replace(Ke,j)}(mt),this.hostAttr=function Ne(j){return"_nghost-%COMP%".replace(Ke,j)}(mt)}applyToHost(V){this.applyStyles(),this.setAttribute(V,this.hostAttr,"")}createElement(V,B){const H=super.createElement(V,B);return super.setAttribute(H,this.contentAttr,""),H}}let tt=(()=>{class j extends Fe{constructor(B){super(B)}supports(B){return!0}addEventListener(B,H,se){return B.addEventListener(H,se,!1),()=>this.removeEventListener(B,H,se)}removeEventListener(B,H,se){return B.removeEventListener(H,se)}static#e=this.\u0275fac=function(H){return new(H||j)(v.LFG(X.K0))};static#t=this.\u0275prov=v.Yz7({token:j,factory:j.\u0275fac})}return j})();const it=["alt","control","meta","shift"],J={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ne={alt:j=>j.altKey,control:j=>j.ctrlKey,meta:j=>j.metaKey,shift:j=>j.shiftKey};let _e=(()=>{class j extends Fe{constructor(B){super(B)}supports(B){return null!=j.parseEventName(B)}addEventListener(B,H,se){const Me=j.parseEventName(H),Je=j.eventCallback(Me.fullKey,se,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,X.q)().onAndCancel(B,Me.domEventName,Je))}static parseEventName(B){const H=B.toLowerCase().split("."),se=H.shift();if(0===H.length||"keydown"!==se&&"keyup"!==se)return null;const Me=j._normalizeKey(H.pop());let Je="",ut=H.indexOf("code");if(ut>-1&&(H.splice(ut,1),Je="code."),it.forEach(mt=>{const ht=H.indexOf(mt);ht>-1&&(H.splice(ht,1),Je+=mt+".")}),Je+=Me,0!=H.length||0===Me.length)return null;const St={};return St.domEventName=se,St.fullKey=Je,St}static matchEventFullKeyCode(B,H){let se=J[B.key]||B.key,Me="";return H.indexOf("code.")>-1&&(se=B.code,Me="code."),!(null==se||!se)&&(se=se.toLowerCase()," "===se?se="space":"."===se&&(se="dot"),it.forEach(Je=>{Je!==se&&(0,ne[Je])(B)&&(Me+=Je+".")}),Me+=se,Me===H)}static eventCallback(B,H,se){return Me=>{j.matchEventFullKeyCode(Me,B)&&se.runGuarded(()=>H(Me))}}static _normalizeKey(B){return"esc"===B?"escape":B}static#e=this.\u0275fac=function(H){return new(H||j)(v.LFG(X.K0))};static#t=this.\u0275prov=v.Yz7({token:j,factory:j.\u0275fac})}return j})();const Ct=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:X.bD},{provide:v.g9A,useValue:function ze(){G.makeCurrent()},multi:!0},{provide:X.K0,useFactory:function Dt(){return(0,v.RDi)(document),document},deps:[]}]),an=new v.OlP(""),dn=[{provide:v.rWj,useClass:class me{addToWindow(V){v.dqk.getAngularTestability=(H,se=!0)=>{const Me=V.findTestabilityInTree(H,se);if(null==Me)throw new v.vHH(5103,!1);return Me},v.dqk.getAllAngularTestabilities=()=>V.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>V.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(H=>{const se=v.dqk.getAllAngularTestabilities();let Me=se.length,Je=!1;const ut=function(St){Je=Je||St,Me--,0==Me&&H(Je)};se.forEach(St=>{St.whenStable(ut)})})}findTestabilityInTree(V,B,H){return null==B?null:V.getTestability(B)??(H?(0,X.q)().isShadowRoot(B)?this.findTestabilityInTree(V,B.host,!0):this.findTestabilityInTree(V,B.parentElement,!0):null)}},deps:[]},{provide:v.lri,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]}],Qt=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function In(){return new v.qLn},deps:[]},{provide:q,useClass:tt,multi:!0,deps:[X.K0,v.R0b,v.Lbi]},{provide:q,useClass:_e,multi:!0,deps:[X.K0]},He,Ze,oe,{provide:v.FYo,useExisting:He},{provide:X.JF,useClass:Z,deps:[]},[]];let $t=(()=>{class j{constructor(B){}static withServerTransition(B){return{ngModule:j,providers:[{provide:v.AFp,useValue:B.appId}]}}static#e=this.\u0275fac=function(H){return new(H||j)(v.LFG(an,12))};static#t=this.\u0275mod=v.oAB({type:j});static#n=this.\u0275inj=v.cJS({providers:[...Qt,...dn],imports:[X.ez,v.hGG]})}return j})(),Dr=(()=>{class j{constructor(B){this._doc=B}getTitle(){return this._doc.title}setTitle(B){this._doc.title=B||""}static#e=this.\u0275fac=function(H){return new(H||j)(v.LFG(X.K0))};static#t=this.\u0275prov=v.Yz7({token:j,factory:function(H){let se=null;return se=H?new H:function bn(){return new Dr((0,v.LFG)(X.K0))}(),se},providedIn:"root"})}return j})();typeof window<"u"&&window},9692:(st,Ce,O)=>{O.d(Ce,{F0:()=>Rn,rH:()=>Lu,Bz:()=>nd,lC:()=>Hi});var v=O(5879),X=O(5592),z=O(4674),ie=O(2459),te=O(2096),ae=O(5619),Ie=O(7453),me=O(2737),Z=O(7400),q=O(4564),oe=O(2714),Fe=O(8251),Oe=O(7103);function Ze(..._){const D=(0,q.yG)(_),m=(0,q.jO)(_),{args:w,keys:S}=(0,Ie.D)(_);if(0===w.length)return(0,ie.D)([],D);const F=new X.y(function Le(_,D,m=me.y){return w=>{Ke(D,()=>{const{length:S}=_,F=new Array(S);let K=S,ye=S;for(let ve=0;ve<S;ve++)Ke(D,()=>{const $e=(0,ie.D)(_[ve],D);let qe=!1;$e.subscribe((0,Fe.x)(w,wt=>{F[ve]=wt,qe||(qe=!0,ye--),ye||w.next(m(F.slice()))},()=>{--K||w.complete()}))},w)},w)}}(w,D,S?K=>(0,oe.n)(S,K):me.y));return m?F.pipe((0,Z.Z)(m)):F}function Ke(_,D,m){_?(0,Oe.f)(m,_,D):D()}var Ue=O(6973),gt=O(5211),ct=O(4829);function de(_){return new X.y(D=>{(0,ct.Xf)(_()).subscribe(D)})}var N=O(8407);function ue(_,D){const m=(0,z.m)(_)?_:()=>_,w=S=>S.error(m());return new X.y(D?S=>D.schedule(w,0,S):w)}var Ne=O(6232),Re=O(7394),He=O(9360);function at(){return(0,He.e)((_,D)=>{let m=null;_._refCount++;const w=(0,Fe.x)(D,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(m=null);const S=_._connection,F=m;m=null,S&&(!F||S===F)&&S.unsubscribe(),D.unsubscribe()});_.subscribe(w),w.closed||(m=_.connect())})}class we extends X.y{constructor(D,m){super(),this.source=D,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,He.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new Re.w0;const m=this.getSubject();D.add(this.source.subscribe((0,Fe.x)(m,void 0,()=>{this._teardown(),m.complete()},w=>{this._teardown(),m.error(w)},()=>this._teardown()))),D.closed&&(this._connection=null,D=Re.w0.EMPTY)}return D}refCount(){return at()(this)}}var rt=O(8645),yt=O(6814),Pt=O(7398),on=O(4664),cn=O(8180),tt=O(7921),it=O(2181),J=O(1631),ne=O(1374);function _e(_,D){return(0,z.m)(D)?(0,J.z)(_,D,1):(0,J.z)(_,1)}var fe=O(9397);function Te(_){return(0,He.e)((D,m)=>{let F,w=null,S=!1;w=D.subscribe((0,Fe.x)(m,void 0,void 0,K=>{F=(0,ct.Xf)(_(K,Te(_)(D))),w?(w.unsubscribe(),w=null,F.subscribe(m)):S=!0})),S&&(w.unsubscribe(),w=null,F.subscribe(m))})}var Se=O(6699),Ve=O(3572);function ze(_){return _<=0?()=>Ne.E:(0,He.e)((D,m)=>{let w=[];D.subscribe((0,Fe.x)(m,S=>{w.push(S),_<w.length&&w.shift()},()=>{for(const S of w)m.next(S);m.complete()},void 0,()=>{w=null}))})}var In=O(3026);function Ct(_){return(0,He.e)((D,m)=>{try{D.subscribe(m)}finally{m.add(_)}})}var an=O(2420),Qt=O(7537),$t=O(6593);const Qe="primary",zt=Symbol("RouteTitle");class Hn{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m[0]:m}return null}getAll(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function bn(_){return new Hn(_)}function Dr(_,D,m){const w=m.path.split("/");if(w.length>_.length||"full"===m.pathMatch&&(D.hasChildren()||w.length<_.length))return null;const S={};for(let F=0;F<w.length;F++){const K=w[F],ye=_[F];if(K.startsWith(":"))S[K.substring(1)]=ye;else if(K!==ye.path)return null}return{consumed:_.slice(0,w.length),posParams:S}}function Dn(_,D){const m=_?Object.keys(_):void 0,w=D?Object.keys(D):void 0;if(!m||!w||m.length!=w.length)return!1;let S;for(let F=0;F<m.length;F++)if(S=m[F],!vt(_[S],D[S]))return!1;return!0}function vt(_,D){if(Array.isArray(_)&&Array.isArray(D)){if(_.length!==D.length)return!1;const m=[..._].sort(),w=[...D].sort();return m.every((S,F)=>w[F]===S)}return _===D}function Ot(_){return _.length>0?_[_.length-1]:null}function It(_){return function G(_){return!!_&&(_ instanceof X.y||(0,z.m)(_.lift)&&(0,z.m)(_.subscribe))}(_)?_:(0,v.QGY)(_)?(0,ie.D)(Promise.resolve(_)):(0,te.of)(_)}const un={exact:function On(_,D,m){if(!xr(_.segments,D.segments)||!jt(_.segments,D.segments,m)||_.numberOfChildren!==D.numberOfChildren)return!1;for(const w in D.children)if(!_.children[w]||!On(_.children[w],D.children[w],m))return!1;return!0},subset:dt},Cn={exact:function Gt(_,D){return Dn(_,D)},subset:function is(_,D){return Object.keys(D).length<=Object.keys(_).length&&Object.keys(D).every(m=>vt(_[m],D[m]))},ignored:()=>!0};function Yn(_,D,m){return un[m.paths](_.root,D.root,m.matrixParams)&&Cn[m.queryParams](_.queryParams,D.queryParams)&&!("exact"===m.fragment&&_.fragment!==D.fragment)}function dt(_,D,m){return Hr(_,D,D.segments,m)}function Hr(_,D,m,w){if(_.segments.length>m.length){const S=_.segments.slice(0,m.length);return!(!xr(S,m)||D.hasChildren()||!jt(S,m,w))}if(_.segments.length===m.length){if(!xr(_.segments,m)||!jt(_.segments,m,w))return!1;for(const S in D.children)if(!_.children[S]||!dt(_.children[S],D.children[S],w))return!1;return!0}{const S=m.slice(0,_.segments.length),F=m.slice(_.segments.length);return!!(xr(_.segments,S)&&jt(_.segments,S,w)&&_.children[Qe])&&Hr(_.children[Qe],D,F,w)}}function jt(_,D,m){return D.every((w,S)=>Cn[m](_[S].parameters,w.parameters))}class wr{constructor(D=new At([],{}),m={},w=null){this.root=D,this.queryParams=m,this.fragment=w}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return bi.serialize(this)}}class At{constructor(D,m){this.segments=D,this.children=m,this.parent=null,Object.values(m).forEach(w=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return or(this)}}class Pn{constructor(D,m){this.path=D,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=bn(this.parameters)),this._parameterMap}toString(){return se(this)}}function xr(_,D){return _.length===D.length&&_.every((m,w)=>m.path===D[w].path)}let sr=(()=>{class _{static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:function(){return new Tn},providedIn:"root"})}return _})();class Tn{parse(D){const m=new As(D);return new wr(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(D){const m=`/${hr(D.root,!0)}`,w=function Je(_){const D=Object.keys(_).map(m=>{const w=_[m];return Array.isArray(w)?w.map(S=>`${ee(m)}=${ee(S)}`).join("&"):`${ee(m)}=${ee(w)}`}).filter(m=>!!m);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${m}${w}${"string"==typeof D.fragment?`#${function j(_){return encodeURI(_)}(D.fragment)}`:""}`}}const bi=new Tn;function or(_){return _.segments.map(D=>se(D)).join("/")}function hr(_,D){if(!_.hasChildren())return or(_);if(D){const m=_.children[Qe]?hr(_.children[Qe],!1):"",w=[];return Object.entries(_.children).forEach(([S,F])=>{S!==Qe&&w.push(`${S}:${hr(F,!1)}`)}),w.length>0?`${m}(${w.join("//")})`:m}{const m=function ri(_,D){let m=[];return Object.entries(_.children).forEach(([w,S])=>{w===Qe&&(m=m.concat(D(S,w)))}),Object.entries(_.children).forEach(([w,S])=>{w!==Qe&&(m=m.concat(D(S,w)))}),m}(_,(w,S)=>S===Qe?[hr(_.children[Qe],!1)]:[`${S}:${hr(w,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Qe]?`${or(_)}/${m[0]}`:`${or(_)}/(${m.join("//")})`}}function br(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ee(_){return br(_).replace(/%3B/gi,";")}function V(_){return br(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function B(_){return decodeURIComponent(_)}function H(_){return B(_.replace(/\+/g,"%20"))}function se(_){return`${V(_.path)}${function Me(_){return Object.keys(_).map(D=>`;${V(D)}=${V(_[D])}`).join("")}(_.parameters)}`}const ut=/^[^\/()?;#]+/;function St(_){const D=_.match(ut);return D?D[0]:""}const mt=/^[^\/()?;=#]+/,tn=/^[^=?&#]+/,ii=/^[^&#]+/;class As{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new At([],{}):new At([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(D.length>0||Object.keys(m).length>0)&&(w[Qe]=new At(D,m)),w}parseSegment(){const D=St(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new v.vHH(4009,!1);return this.capture(D),new Pn(B(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const m=function ht(_){const D=_.match(mt);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let w="";if(this.consumeOptional("=")){const S=St(this.remaining);S&&(w=S,this.capture(w))}D[B(m)]=B(w)}parseQueryParam(D){const m=function fr(_){const D=_.match(tn);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let w="";if(this.consumeOptional("=")){const K=function Ss(_){const D=_.match(ii);return D?D[0]:""}(this.remaining);K&&(w=K,this.capture(w))}const S=H(m),F=H(w);if(D.hasOwnProperty(S)){let K=D[S];Array.isArray(K)||(K=[K],D[S]=K),K.push(F)}else D[S]=F}parseParens(D){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=St(this.remaining),S=this.remaining[w.length];if("/"!==S&&")"!==S&&";"!==S)throw new v.vHH(4010,!1);let F;w.indexOf(":")>-1?(F=w.slice(0,w.indexOf(":")),this.capture(F),this.capture(":")):D&&(F=Qe);const K=this.parseChildren();m[F]=1===Object.keys(K).length?K[Qe]:new At([],K),this.consumeOptional("//")}return m}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new v.vHH(4011,!1)}}function ar(_){return _.segments.length>0?new At([],{[Qe]:_}):_}function Wr(_){const D={};for(const w of Object.keys(_.children)){const F=Wr(_.children[w]);if(w===Qe&&0===F.segments.length&&F.hasChildren())for(const[K,ye]of Object.entries(F.children))D[K]=ye;else(F.segments.length>0||F.hasChildren())&&(D[w]=F)}return function _r(_){if(1===_.numberOfChildren&&_.children[Qe]){const D=_.children[Qe];return new At(_.segments.concat(D.segments),D.children)}return _}(new At(_.segments,D))}function $n(_){return _ instanceof wr}function he(_){let D;const S=ar(function m(F){const K={};for(const ve of F.children){const $e=m(ve);K[ve.outlet]=$e}const ye=new At(F.url,K);return F===_&&(D=ye),ye}(_.root));return D??S}function Pe(_,D,m,w){let S=_;for(;S.parent;)S=S.parent;if(0===D.length)return Et(S,S,S,m,w);const F=function ln(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new gn(!0,0,_);let D=0,m=!1;const w=_.reduce((S,F,K)=>{if("object"==typeof F&&null!=F){if(F.outlets){const ye={};return Object.entries(F.outlets).forEach(([ve,$e])=>{ye[ve]="string"==typeof $e?$e.split("/"):$e}),[...S,{outlets:ye}]}if(F.segmentPath)return[...S,F.segmentPath]}return"string"!=typeof F?[...S,F]:0===K?(F.split("/").forEach((ye,ve)=>{0==ve&&"."===ye||(0==ve&&""===ye?m=!0:".."===ye?D++:""!=ye&&S.push(ye))}),S):[...S,F]},[]);return new gn(m,D,w)}(D);if(F.toRoot())return Et(S,S,new At([],{}),m,w);const K=function si(_,D,m){if(_.isAbsolute)return new Sn(D,!0,0);if(!m)return new Sn(D,!1,NaN);if(null===m.parent)return new Sn(m,!0,0);const w=Ye(_.commands[0])?0:1;return function ao(_,D,m){let w=_,S=D,F=m;for(;F>S;){if(F-=S,w=w.parent,!w)throw new v.vHH(4005,!1);S=w.segments.length}return new Sn(w,!1,S-F)}(m,m.segments.length-1+w,_.numberOfDoubleDots)}(F,S,_),ye=K.processChildren?os(K.segmentGroup,K.index,F.commands):hn(K.segmentGroup,K.index,F.commands);return Et(S,K.segmentGroup,ye,m,w)}function Ye(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function _t(_){return"object"==typeof _&&null!=_&&_.outlets}function Et(_,D,m,w,S){let K,F={};w&&Object.entries(w).forEach(([ve,$e])=>{F[ve]=Array.isArray($e)?$e.map(qe=>`${qe}`):`${$e}`}),K=_===D?m:Rt(_,D,m);const ye=ar(Wr(K));return new wr(ye,F,S)}function Rt(_,D,m){const w={};return Object.entries(_.children).forEach(([S,F])=>{w[S]=F===D?m:Rt(F,D,m)}),new At(_.segments,w)}class gn{constructor(D,m,w){if(this.isAbsolute=D,this.numberOfDoubleDots=m,this.commands=w,D&&w.length>0&&Ye(w[0]))throw new v.vHH(4003,!1);const S=w.find(_t);if(S&&S!==Ot(w))throw new v.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sn{constructor(D,m,w){this.segmentGroup=D,this.processChildren=m,this.index=w}}function hn(_,D,m){if(_||(_=new At([],{})),0===_.segments.length&&_.hasChildren())return os(_,D,m);const w=function as(_,D,m){let w=0,S=D;const F={match:!1,pathIndex:0,commandIndex:0};for(;S<_.segments.length;){if(w>=m.length)return F;const K=_.segments[S],ye=m[w];if(_t(ye))break;const ve=`${ye}`,$e=w<m.length-1?m[w+1]:null;if(S>0&&void 0===ve)break;if(ve&&$e&&"object"==typeof $e&&void 0===$e.outlets){if(!Jn(ve,$e,K))return F;w+=2}else{if(!Jn(ve,{},K))return F;w++}S++}return{match:!0,pathIndex:S,commandIndex:w}}(_,D,m),S=m.slice(w.commandIndex);if(w.match&&w.pathIndex<_.segments.length){const F=new At(_.segments.slice(0,w.pathIndex),{});return F.children[Qe]=new At(_.segments.slice(w.pathIndex),_.children),os(F,0,S)}return w.match&&0===S.length?new At(_.segments,{}):w.match&&!_.hasChildren()?uo(_,D,m):w.match?os(_,0,S):uo(_,D,m)}function os(_,D,m){if(0===m.length)return new At(_.segments,{});{const w=function ss(_){return _t(_[0])?_[0].outlets:{[Qe]:_}}(m),S={};if(Object.keys(w).some(F=>F!==Qe)&&_.children[Qe]&&1===_.numberOfChildren&&0===_.children[Qe].segments.length){const F=os(_.children[Qe],D,m);return new At(_.segments,F.children)}return Object.entries(w).forEach(([F,K])=>{"string"==typeof K&&(K=[K]),null!==K&&(S[F]=hn(_.children[F],D,K))}),Object.entries(_.children).forEach(([F,K])=>{void 0===w[F]&&(S[F]=K)}),new At(_.segments,S)}}function uo(_,D,m){const w=_.segments.slice(0,D);let S=0;for(;S<m.length;){const F=m[S];if(_t(F)){const ve=Rs(F.outlets);return new At(w,ve)}if(0===S&&Ye(m[0])){w.push(new Pn(_.segments[D].path,Ms(m[0]))),S++;continue}const K=_t(F)?F.outlets[Qe]:`${F}`,ye=S<m.length-1?m[S+1]:null;K&&ye&&Ye(ye)?(w.push(new Pn(K,Ms(ye))),S+=2):(w.push(new Pn(K,{})),S++)}return new At(w,{})}function Rs(_){const D={};return Object.entries(_).forEach(([m,w])=>{"string"==typeof w&&(w=[w]),null!==w&&(D[m]=uo(new At([],{}),0,w))}),D}function Ms(_){const D={};return Object.entries(_).forEach(([m,w])=>D[m]=`${w}`),D}function Jn(_,D,m){return _==m.path&&Dn(D,m.parameters)}const ji="imperative";class kr{constructor(D,m){this.id=D,this.url=m}}class xo extends kr{constructor(D,m,w="imperative",S=null){super(D,m),this.type=0,this.navigationTrigger=w,this.restoredState=S}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oi extends kr{constructor(D,m,w){super(D,m),this.urlAfterRedirects=w,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ps extends kr{constructor(D,m,w,S){super(D,m),this.reason=w,this.code=S,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class us extends kr{constructor(D,m,w,S){super(D,m),this.reason=w,this.code=S,this.type=16}}class Wn extends kr{constructor(D,m,w,S){super(D,m),this.error=w,this.target=S,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vi extends kr{constructor(D,m,w,S){super(D,m),this.urlAfterRedirects=w,this.state=S,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr extends kr{constructor(D,m,w,S){super(D,m),this.urlAfterRedirects=w,this.state=S,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ls extends kr{constructor(D,m,w,S,F){super(D,m),this.urlAfterRedirects=w,this.state=S,this.shouldActivate=F,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ns extends kr{constructor(D,m,w,S){super(D,m),this.urlAfterRedirects=w,this.state=S,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bu extends kr{constructor(D,m,w,S){super(D,m),this.urlAfterRedirects=w,this.state=S,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tu{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lr{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lo{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Su{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ko{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wa{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _i{constructor(D,m,w){this.routerEvent=D,this.position=m,this.anchor=w,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xt{}class Un{constructor(D){this.url=D}}class vi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new er,this.attachRef=null}}let er=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(m,w){const S=this.getOrCreateContext(m);S.outlet=w,this.contexts.set(m,S)}onChildOutletDestroyed(m){const w=this.getContext(m);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let w=this.getContext(m);return w||(w=new vi,this.contexts.set(m,w)),w}getContext(m){return this.contexts.get(m)||null}static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();class Os{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const m=this.pathFromRoot(D);return m.length>1?m[m.length-2]:null}children(D){const m=co(D,this._root);return m?m.children.map(w=>w.value):[]}firstChild(D){const m=co(D,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(D){const m=yi(D,this._root);return m.length<2?[]:m[m.length-2].children.map(S=>S.value).filter(S=>S!==D)}pathFromRoot(D){return yi(D,this._root).map(m=>m.value)}}function co(_,D){if(_===D.value)return D;for(const m of D.children){const w=co(_,m);if(w)return w}return null}function yi(_,D){if(_===D.value)return[D];for(const m of D.children){const w=yi(_,m);if(w.length)return w.unshift(D),w}return[]}class zr{constructor(D,m){this.value=D,this.children=m}toString(){return`TreeNode(${this.value})`}}function ai(_){const D={};return _&&_.children.forEach(m=>D[m.value.outlet]=m),D}class yn extends Os{constructor(D,m){super(D),this.snapshot=m,An(this,D)}toString(){return this.snapshot.toString()}}function et(_,D){const m=function kt(_,D){const K=new qn([],{},{},"",{},Qe,D,null,{});return new ui("",new zr(K,[]))}(0,D),w=new ae.X([new Pn("",{})]),S=new ae.X({}),F=new ae.X({}),K=new ae.X({}),ye=new ae.X(""),ve=new en(w,S,K,ye,F,Qe,D,m.root);return ve.snapshot=m.root,new yn(new zr(ve,[]),m)}class en{constructor(D,m,w,S,F,K,ye,ve){this.urlSubject=D,this.paramsSubject=m,this.queryParamsSubject=w,this.fragmentSubject=S,this.dataSubject=F,this.outlet=K,this.component=ye,this._futureSnapshot=ve,this.title=this.dataSubject?.pipe((0,Pt.U)($e=>$e[zt]))??(0,te.of)(void 0),this.url=D,this.params=m,this.queryParams=w,this.fragment=S,this.data=F}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.U)(D=>bn(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.U)(D=>bn(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pr(_,D="emptyOnly"){const m=_.pathFromRoot;let w=0;if("always"!==D)for(w=m.length-1;w>=1;){const S=m[w],F=m[w-1];if(S.routeConfig&&""===S.routeConfig.path)w--;else{if(F.component)break;w--}}return function cs(_){return _.reduce((D,m)=>({params:{...D.params,...m.params},data:{...D.data,...m.data},resolve:{...m.data,...D.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(w))}class qn{get title(){return this.data?.[zt]}constructor(D,m,w,S,F,K,ye,ve,$e){this.url=D,this.params=m,this.queryParams=w,this.fragment=S,this.data=F,this.outlet=K,this.component=ye,this.routeConfig=ve,this._resolve=$e}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ui extends Os{constructor(D,m){super(m),this.url=D,An(this,m)}toString(){return Fr(this._root)}}function An(_,D){D.value._routerState=_,D.children.forEach(m=>An(_,m))}function Fr(_){const D=_.children.length>0?` { ${_.children.map(Fr).join(", ")} } `:"";return`${_.value}${D}`}function Ti(_){if(_.snapshot){const D=_.snapshot,m=_._futureSnapshot;_.snapshot=m,Dn(D.queryParams,m.queryParams)||_.queryParamsSubject.next(m.queryParams),D.fragment!==m.fragment&&_.fragmentSubject.next(m.fragment),Dn(D.params,m.params)||_.paramsSubject.next(m.params),function Cr(_,D){if(_.length!==D.length)return!1;for(let m=0;m<_.length;++m)if(!Dn(_[m],D[m]))return!1;return!0}(D.url,m.url)||_.urlSubject.next(m.url),Dn(D.data,m.data)||_.dataSubject.next(m.data)}else _.snapshot=_._futureSnapshot,_.dataSubject.next(_._futureSnapshot.data)}function bt(_,D){const m=Dn(_.params,D.params)&&function $r(_,D){return xr(_,D)&&_.every((m,w)=>Dn(m.parameters,D[w].parameters))}(_.url,D.url);return m&&!(!_.parent!=!D.parent)&&(!_.parent||bt(_.parent,D.parent))}let Hi=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qe,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.parentContexts=(0,v.f3M)(er),this.location=(0,v.f3M)(v.s_b),this.changeDetector=(0,v.f3M)(v.sBO),this.environmentInjector=(0,v.f3M)(v.lqb),this.inputBinder=(0,v.f3M)(Sr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:w,previousValue:S}=m.name;if(w)return;this.isTrackedInParentContexts(S)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(S)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v.vHH(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,w){this.activated=m,this._activatedRoute=w,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,w){if(this.isActivated)throw new v.vHH(4013,!1);this._activatedRoute=m;const S=this.location,K=m.snapshot.component,ye=this.parentContexts.getOrCreateContext(this.name).children,ve=new xs(m,ye,S.injector);this.activated=S.createComponent(K,{index:S.length,injector:ve,environmentInjector:w??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275dir=v.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[v.TTD]})}return _})();class xs{constructor(D,m,w){this.route=D,this.childContexts=m,this.parent=w}get(D,m){return D===en?this.route:D===er?this.childContexts:this.parent.get(D,m)}}const Sr=new v.OlP("");let fn=(()=>{class _{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:w}=m,S=Ze([w.queryParams,w.params,w.data]).pipe((0,on.w)(([F,K,ye],ve)=>(ye={...F,...K,...ye},0===ve?(0,te.of)(ye):Promise.resolve(ye)))).subscribe(F=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==w||null===w.component)return void this.unsubscribeFromRouteData(m);const K=(0,v.qFp)(w.component);if(K)for(const{templateName:ye}of K.inputs)m.activatedComponentRef.setInput(ye,F[ye]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,S)}static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac})}return _})();function Ei(_,D,m){if(m&&_.shouldReuseRoute(D.value,m.value.snapshot)){const w=m.value;w._futureSnapshot=D.value;const S=function Gn(_,D,m){return D.children.map(w=>{for(const S of m.children)if(_.shouldReuseRoute(w.value,S.value.snapshot))return Ei(_,w,S);return Ei(_,w)})}(_,D,m);return new zr(w,S)}{if(_.shouldAttach(D.value)){const F=_.retrieve(D.value);if(null!==F){const K=F.route;return K.value._futureSnapshot=D.value,K.children=D.children.map(ye=>Ei(_,ye)),K}}const w=function Ls(_){return new en(new ae.X(_.url),new ae.X(_.params),new ae.X(_.queryParams),new ae.X(_.fragment),new ae.X(_.data),_.outlet,_.component,_)}(D.value),S=D.children.map(F=>Ei(_,F));return new zr(w,S)}}const Fs="ngNavigationCancelingError";function Ii(_,D){const{redirectTo:m,navigationBehaviorOptions:w}=$n(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,S=Gr(!1,0,D);return S.url=m,S.navigationBehaviorOptions=w,S}function Gr(_,D,m){const w=new Error("NavigationCancelingError: "+(_||""));return w[Fs]=!0,w.cancellationCode=D,m&&(w.url=m),w}function Wi(_){return _&&_[Fs]}let Vt=(()=>{class _{static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275cmp=v.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[v.jDz],decls:1,vars:0,template:function(w,S){1&w&&v._UZ(0,"router-outlet")},dependencies:[Hi],encapsulation:2})}return _})();function xn(_){const D=_.children&&_.children.map(xn),m=D?{..._,children:D}:{..._};return!m.component&&!m.loadComponent&&(D||m.loadChildren)&&m.outlet&&m.outlet!==Qe&&(m.component=Vt),m}function Wt(_){return _.outlet||Qe}function Ur(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let D=_.parent;D;D=D.parent){const m=D.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Ri{constructor(D,m,w,S,F){this.routeReuseStrategy=D,this.futureState=m,this.currState=w,this.forwardEvent=S,this.inputBindingEnabled=F}activate(D){const m=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,w,D),Ti(this.futureState.root),this.activateChildRoutes(m,w,D)}deactivateChildRoutes(D,m,w){const S=ai(m);D.children.forEach(F=>{const K=F.value.outlet;this.deactivateRoutes(F,S[K],w),delete S[K]}),Object.values(S).forEach(F=>{this.deactivateRouteAndItsChildren(F,w)})}deactivateRoutes(D,m,w){const S=D.value,F=m?m.value:null;if(S===F)if(S.component){const K=w.getContext(S.outlet);K&&this.deactivateChildRoutes(D,m,K.children)}else this.deactivateChildRoutes(D,m,w);else F&&this.deactivateRouteAndItsChildren(m,w)}deactivateRouteAndItsChildren(D,m){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,m):this.deactivateRouteAndOutlet(D,m)}detachAndStoreRouteSubtree(D,m){const w=m.getContext(D.value.outlet),S=w&&D.value.component?w.children:m,F=ai(D);for(const K of Object.keys(F))this.deactivateRouteAndItsChildren(F[K],S);if(w&&w.outlet){const K=w.outlet.detach(),ye=w.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:K,route:D,contexts:ye})}}deactivateRouteAndOutlet(D,m){const w=m.getContext(D.value.outlet),S=w&&D.value.component?w.children:m,F=ai(D);for(const K of Object.keys(F))this.deactivateRouteAndItsChildren(F[K],S);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.route=null)}activateChildRoutes(D,m,w){const S=ai(m);D.children.forEach(F=>{this.activateRoutes(F,S[F.value.outlet],w),this.forwardEvent(new wa(F.value.snapshot))}),D.children.length&&this.forwardEvent(new Su(D.value.snapshot))}activateRoutes(D,m,w){const S=D.value,F=m?m.value:null;if(Ti(S),S===F)if(S.component){const K=w.getOrCreateContext(S.outlet);this.activateChildRoutes(D,m,K.children)}else this.activateChildRoutes(D,m,w);else if(S.component){const K=w.getOrCreateContext(S.outlet);if(this.routeReuseStrategy.shouldAttach(S.snapshot)){const ye=this.routeReuseStrategy.retrieve(S.snapshot);this.routeReuseStrategy.store(S.snapshot,null),K.children.onOutletReAttached(ye.contexts),K.attachRef=ye.componentRef,K.route=ye.route.value,K.outlet&&K.outlet.attach(ye.componentRef,ye.route.value),Ti(ye.route.value),this.activateChildRoutes(D,null,K.children)}else{const ye=Ur(S.snapshot);K.attachRef=null,K.route=S,K.injector=ye,K.outlet&&K.outlet.activateWith(S,K.injector),this.activateChildRoutes(D,null,K.children)}}else this.activateChildRoutes(D,null,w)}}class ba{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class ds{constructor(D,m){this.component=D,this.route=m}}function Ru(_,D,m){const w=_._root;return Qn(w,D?D._root:null,m,[w.value])}function Di(_,D){const m=Symbol(),w=D.get(_,m);return w===m?"function"!=typeof _||(0,v.Z0I)(_)?D.get(_):_:w}function Qn(_,D,m,w,S={canDeactivateChecks:[],canActivateChecks:[]}){const F=ai(D);return _.children.forEach(K=>{(function yl(_,D,m,w,S={canDeactivateChecks:[],canActivateChecks:[]}){const F=_.value,K=D?D.value:null,ye=m?m.getContext(_.value.outlet):null;if(K&&F.routeConfig===K.routeConfig){const ve=function Ql(_,D,m){if("function"==typeof m)return m(_,D);switch(m){case"pathParamsChange":return!xr(_.url,D.url);case"pathParamsOrQueryParamsChange":return!xr(_.url,D.url)||!Dn(_.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bt(_,D)||!Dn(_.queryParams,D.queryParams);default:return!bt(_,D)}}(K,F,F.routeConfig.runGuardsAndResolvers);ve?S.canActivateChecks.push(new ba(w)):(F.data=K.data,F._resolvedData=K._resolvedData),Qn(_,D,F.component?ye?ye.children:null:m,w,S),ve&&ye&&ye.outlet&&ye.outlet.isActivated&&S.canDeactivateChecks.push(new ds(ye.outlet.component,K))}else K&&mn(D,ye,S),S.canActivateChecks.push(new ba(w)),Qn(_,null,F.component?ye?ye.children:null:m,w,S)})(K,F[K.value.outlet],m,w.concat([K.value]),S),delete F[K.value.outlet]}),Object.entries(F).forEach(([K,ye])=>mn(ye,m.getContext(K),S)),S}function mn(_,D,m){const w=ai(_),S=_.value;Object.entries(w).forEach(([F,K])=>{mn(K,S.component?D?D.children.getContext(F):null:D,m)}),m.canDeactivateChecks.push(new ds(S.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,S))}function hs(_){return"function"==typeof _}function jo(_){return _ instanceof Ue.K||"EmptyError"===_?.name}const ho=Symbol("INITIAL_VALUE");function zi(){return(0,on.w)(_=>Ze(_.map(D=>D.pipe((0,cn.q)(1),(0,tt.O)(ho)))).pipe((0,Pt.U)(D=>{for(const m of D)if(!0!==m){if(m===ho)return ho;if(!1===m||m instanceof wr)return m}return!0}),(0,it.h)(D=>D!==ho),(0,cn.q)(1)))}function Ma(_){return(0,N.z)((0,fe.b)(D=>{if($n(D))throw Ii(0,D)}),(0,Pt.U)(D=>!0===D))}class Yr{constructor(D){this.segmentGroup=D||null}}class qr{constructor(D){this.urlTree=D}}function di(_){return ue(new Yr(_))}function Qr(_){return ue(new qr(_))}class Vs{constructor(D,m){this.urlSerializer=D,this.urlTree=m}noMatchError(D){return new v.vHH(4002,!1)}lineralizeSegments(D,m){let w=[],S=m.root;for(;;){if(w=w.concat(S.segments),0===S.numberOfChildren)return(0,te.of)(w);if(S.numberOfChildren>1||!S.children[Qe])return ue(new v.vHH(4e3,!1));S=S.children[Qe]}}applyRedirectCommands(D,m,w){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),D,w)}applyRedirectCreateUrlTree(D,m,w,S){const F=this.createSegmentGroup(D,m.root,w,S);return new wr(F,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(D,m){const w={};return Object.entries(D).forEach(([S,F])=>{if("string"==typeof F&&F.startsWith(":")){const ye=F.substring(1);w[S]=m[ye]}else w[S]=F}),w}createSegmentGroup(D,m,w,S){const F=this.createSegments(D,m.segments,w,S);let K={};return Object.entries(m.children).forEach(([ye,ve])=>{K[ye]=this.createSegmentGroup(D,ve,w,S)}),new At(F,K)}createSegments(D,m,w,S){return m.map(F=>F.path.startsWith(":")?this.findPosParam(D,F,S):this.findOrReturn(F,w))}findPosParam(D,m,w){const S=w[m.path.substring(1)];if(!S)throw new v.vHH(4001,!1);return S}findOrReturn(D,m){let w=0;for(const S of m){if(S.path===D.path)return m.splice(w),S;w++}return D}}const Xr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mo(_,D,m,w,S){const F=hi(_,D,m);return F.matched?(w=function vl(_,D){return _.providers&&!_._injector&&(_._injector=(0,v.MMx)(_.providers,D,`Route: ${_.path}`)),_._injector??D}(D,w),function po(_,D,m,w){const S=D.canMatch;if(!S||0===S.length)return(0,te.of)(!0);const F=S.map(K=>{const ye=Di(K,_);return It(function Sa(_){return _&&hs(_.canMatch)}(ye)?ye.canMatch(D,m):_.runInContext(()=>ye(D,m)))});return(0,te.of)(F).pipe(zi(),Ma())}(w,D,m).pipe((0,Pt.U)(K=>!0===K?F:{...Xr}))):(0,te.of)(F)}function hi(_,D,m){if(""===D.path)return"full"===D.pathMatch&&(_.hasChildren()||m.length>0)?{...Xr}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const S=(D.matcher||Dr)(m,_,D);if(!S)return{...Xr};const F={};Object.entries(S.posParams??{}).forEach(([ye,ve])=>{F[ye]=ve.path});const K=S.consumed.length>0?{...F,...S.consumed[S.consumed.length-1].parameters}:F;return{matched:!0,consumedSegments:S.consumed,remainingSegments:m.slice(S.consumed.length),parameters:K,positionalParamSegments:S.posParams??{}}}function Nn(_,D,m,w){return m.length>0&&function fi(_,D,m){return m.some(w=>Hs(_,D,w)&&Wt(w)!==Qe)}(_,m,w)?{segmentGroup:new At(D,Ho(w,new At(m,_.children))),slicedSegments:[]}:0===m.length&&function yr(_,D,m){return m.some(w=>Hs(_,D,w))}(_,m,w)?{segmentGroup:new At(_.segments,Pi(_,0,m,w,_.children)),slicedSegments:m}:{segmentGroup:new At(_.segments,_.children),slicedSegments:m}}function Pi(_,D,m,w,S){const F={};for(const K of w)if(Hs(_,m,K)&&!S[Wt(K)]){const ye=new At([],{});F[Wt(K)]=ye}return{...S,...F}}function Ho(_,D){const m={};m[Qe]=D;for(const w of _)if(""===w.path&&Wt(w)!==Qe){const S=new At([],{});m[Wt(w)]=S}return m}function Hs(_,D,m){return(!(_.hasChildren()||D.length>0)||"full"!==m.pathMatch)&&""===m.path}class pi{constructor(D,m,w,S,F,K,ye){this.injector=D,this.configLoader=m,this.rootComponentType=w,this.config=S,this.urlTree=F,this.paramsInheritanceStrategy=K,this.urlSerializer=ye,this.allowRedirects=!0,this.applyRedirects=new Vs(this.urlSerializer,this.urlTree)}noMatchError(D){return new v.vHH(4002,!1)}recognize(){const D=Nn(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,Qe).pipe(Te(m=>{if(m instanceof qr)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof Yr?this.noMatchError(m):m}),(0,Pt.U)(m=>{const w=new qn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qe,this.rootComponentType,null,{}),S=new zr(w,m),F=new ui("",S),K=function le(_,D,m=null,w=null){return Pe(he(_),D,m,w)}(w,[],this.urlTree.queryParams,this.urlTree.fragment);return K.queryParams=this.urlTree.queryParams,F.url=this.urlSerializer.serialize(K),this.inheritParamsAndData(F._root),{state:F,tree:K}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D.root,Qe).pipe(Te(w=>{throw w instanceof Yr?this.noMatchError(w):w}))}inheritParamsAndData(D){const m=D.value,w=pr(m,this.paramsInheritanceStrategy);m.params=Object.freeze(w.params),m.data=Object.freeze(w.data),D.children.forEach(S=>this.inheritParamsAndData(S))}processSegmentGroup(D,m,w,S){return 0===w.segments.length&&w.hasChildren()?this.processChildren(D,m,w):this.processSegment(D,m,w,w.segments,S,!0)}processChildren(D,m,w){const S=[];for(const F of Object.keys(w.children))"primary"===F?S.unshift(F):S.push(F);return(0,ie.D)(S).pipe(_e(F=>{const K=w.children[F],ye=function Us(_,D){const m=_.filter(w=>Wt(w)===D);return m.push(..._.filter(w=>Wt(w)!==D)),m}(m,F);return this.processSegmentGroup(D,ye,K,F)}),(0,Se.R)((F,K)=>(F.push(...K),F)),(0,Ve.d)(null),function Dt(_,D){const m=arguments.length>=2;return w=>w.pipe(_?(0,it.h)((S,F)=>_(S,F,w)):me.y,ze(1),m?(0,Ve.d)(D):(0,In.T)(()=>new Ue.K))}(),(0,J.z)(F=>{if(null===F)return di(w);const K=_o(F);return function Oi(_){_.sort((D,m)=>D.value.outlet===Qe?-1:m.value.outlet===Qe?1:D.value.outlet.localeCompare(m.value.outlet))}(K),(0,te.of)(K)}))}processSegment(D,m,w,S,F,K){return(0,ie.D)(m).pipe(_e(ye=>this.processSegmentAgainstRoute(ye._injector??D,m,ye,w,S,F,K).pipe(Te(ve=>{if(ve instanceof Yr)return(0,te.of)(null);throw ve}))),(0,ne.P)(ye=>!!ye),Te(ye=>{if(jo(ye))return function Nu(_,D,m){return 0===D.length&&!_.children[m]}(w,S,F)?(0,te.of)([]):di(w);throw ye}))}processSegmentAgainstRoute(D,m,w,S,F,K,ye){return function $o(_,D,m,w){return!!(Wt(_)===w||w!==Qe&&Hs(D,m,_))&&("**"===_.path||hi(D,_,m).matched)}(w,S,F,K)?void 0===w.redirectTo?this.matchSegmentAgainstRoute(D,S,w,F,K,ye):ye&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,S,m,w,F,K):di(S):di(S)}expandSegmentAgainstRouteUsingRedirect(D,m,w,S,F,K){return"**"===S.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,w,S,K):this.expandRegularSegmentAgainstRouteUsingRedirect(D,m,w,S,F,K)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,m,w,S){const F=this.applyRedirects.applyRedirectCommands([],w.redirectTo,{});return w.redirectTo.startsWith("/")?Qr(F):this.applyRedirects.lineralizeSegments(w,F).pipe((0,J.z)(K=>{const ye=new At(K,{});return this.processSegment(D,m,ye,K,S,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,m,w,S,F,K){const{matched:ye,consumedSegments:ve,remainingSegments:$e,positionalParamSegments:qe}=hi(m,S,F);if(!ye)return di(m);const wt=this.applyRedirects.applyRedirectCommands(ve,S.redirectTo,qe);return S.redirectTo.startsWith("/")?Qr(wt):this.applyRedirects.lineralizeSegments(S,wt).pipe((0,J.z)(Zt=>this.processSegment(D,w,m,Zt.concat($e),K,!1)))}matchSegmentAgainstRoute(D,m,w,S,F,K){let ye;if("**"===w.path){const ve=S.length>0?Ot(S).parameters:{},$e=new qn(S,ve,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Na(w),Wt(w),w.component??w._loadedComponent??null,w,I(w));ye=(0,te.of)({snapshot:$e,consumedSegments:[],remainingSegments:[]}),m.children={}}else ye=mo(m,w,S,D).pipe((0,Pt.U)(({matched:ve,consumedSegments:$e,remainingSegments:qe,parameters:wt})=>ve?{snapshot:new qn($e,wt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Na(w),Wt(w),w.component??w._loadedComponent??null,w,I(w)),consumedSegments:$e,remainingSegments:qe}:null));return ye.pipe((0,on.w)(ve=>null===ve?di(m):this.getChildConfig(D=w._injector??D,w,S).pipe((0,on.w)(({routes:$e})=>{const qe=w._loadedInjector??D,{snapshot:wt,consumedSegments:Zt,remainingSegments:sn}=ve,{segmentGroup:lr,slicedSegments:qo}=Nn(m,Zt,sn,$e);if(0===qo.length&&lr.hasChildren())return this.processChildren(qe,$e,lr).pipe((0,Pt.U)(Io=>null===Io?null:[new zr(wt,Io)]));if(0===$e.length&&0===qo.length)return(0,te.of)([new zr(wt,[])]);const Wu=Wt(w)===F;return this.processSegment(qe,$e,lr,qo,Wu?Qe:F,!0).pipe((0,Pt.U)(Io=>[new zr(wt,Io)]))}))))}getChildConfig(D,m,w){return m.children?(0,te.of)({routes:m.children,injector:D}):m.loadChildren?void 0!==m._loadedRoutes?(0,te.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Bs(_,D,m,w){const S=D.canLoad;if(void 0===S||0===S.length)return(0,te.of)(!0);const F=S.map(K=>{const ye=Di(K,_);return It(function Xl(_){return _&&hs(_.canLoad)}(ye)?ye.canLoad(D,m):_.runInContext(()=>ye(D,m)))});return(0,te.of)(F).pipe(zi(),Ma())}(D,m,w).pipe((0,J.z)(S=>S?this.configLoader.loadChildren(D,m).pipe((0,fe.b)(F=>{m._loadedRoutes=F.routes,m._loadedInjector=F.injector})):function go(_){return ue(Gr(!1,3))}())):(0,te.of)({routes:[],injector:D})}}function Pa(_){const D=_.value.routeConfig;return D&&""===D.path}function _o(_){const D=[],m=new Set;for(const w of _){if(!Pa(w)){D.push(w);continue}const S=D.find(F=>w.value.routeConfig===F.value.routeConfig);void 0!==S?(S.children.push(...w.children),m.add(S)):D.push(w)}for(const w of m){const S=_o(w.children);D.push(new zr(w.value,S))}return D.filter(w=>!m.has(w))}function Na(_){return _.data||{}}function I(_){return _.resolve||{}}function pt(_){return"string"==typeof _.title||null===_.title}function nn(_){return(0,on.w)(D=>{const m=_(D);return m?(0,ie.D)(m).pipe((0,Pt.U)(()=>D)):(0,te.of)(D)})}const Kt=new v.OlP("ROUTES");let Xt=(()=>{class _{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,v.f3M)(v.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,te.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const w=It(m.loadComponent()).pipe((0,Pt.U)(pn),(0,fe.b)(F=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=F}),Ct(()=>{this.componentLoaders.delete(m)})),S=new we(w,()=>new rt.x).pipe(at());return this.componentLoaders.set(m,S),S}loadChildren(m,w){if(this.childrenLoaders.get(w))return this.childrenLoaders.get(w);if(w._loadedRoutes)return(0,te.of)({routes:w._loadedRoutes,injector:w._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(w);const F=function Nt(_,D,m,w){return It(_.loadChildren()).pipe((0,Pt.U)(pn),(0,J.z)(S=>S instanceof v.YKP||Array.isArray(S)?(0,te.of)(S):(0,ie.D)(D.compileModuleAsync(S))),(0,Pt.U)(S=>{w&&w(_);let F,K,ye=!1;return Array.isArray(S)?(K=S,!0):(F=S.create(m).injector,K=F.get(Kt,[],{optional:!0,self:!0}).flat()),{routes:K.map(xn),injector:F}}))}(w,this.compiler,m,this.onLoadEndListener).pipe(Ct(()=>{this.childrenLoaders.delete(w)})),K=new we(F,()=>new rt.x).pipe(at());return this.childrenLoaders.set(w,K),K}static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function pn(_){return function kn(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let _n=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rt.x,this.transitionAbortSubject=new rt.x,this.configLoader=(0,v.f3M)(Xt),this.environmentInjector=(0,v.f3M)(v.lqb),this.urlSerializer=(0,v.f3M)(sr),this.rootContexts=(0,v.f3M)(er),this.inputBindingEnabled=null!==(0,v.f3M)(Sr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,te.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=S=>this.events.next(new Lr(S)),this.configLoader.onLoadStartListener=S=>this.events.next(new Tu(S))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const w=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:w})}setupNavigations(m,w,S){return this.transitions=new ae.X({id:0,currentUrlTree:w,currentRawUrl:w,currentBrowserUrl:w,extractedUrl:m.urlHandlingStrategy.extract(w),urlAfterRedirects:m.urlHandlingStrategy.extract(w),rawUrl:w,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ji,restoredState:null,currentSnapshot:S.snapshot,targetSnapshot:null,currentRouterState:S,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,it.h)(F=>0!==F.id),(0,Pt.U)(F=>({...F,extractedUrl:m.urlHandlingStrategy.extract(F.rawUrl)})),(0,on.w)(F=>{this.currentTransition=F;let K=!1,ye=!1;return(0,te.of)(F).pipe((0,fe.b)(ve=>{this.currentNavigation={id:ve.id,initialUrl:ve.rawUrl,extractedUrl:ve.extractedUrl,trigger:ve.source,extras:ve.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,on.w)(ve=>{const $e=ve.currentBrowserUrl.toString(),qe=!m.navigated||ve.extractedUrl.toString()!==$e||$e!==ve.currentUrlTree.toString();if(!qe&&"reload"!==(ve.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Zt="";return this.events.next(new us(ve.id,this.urlSerializer.serialize(ve.rawUrl),Zt,0)),ve.resolve(null),Ne.E}if(m.urlHandlingStrategy.shouldProcessUrl(ve.rawUrl))return(0,te.of)(ve).pipe((0,on.w)(Zt=>{const sn=this.transitions?.getValue();return this.events.next(new xo(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),Zt.source,Zt.restoredState)),sn!==this.transitions?.getValue()?Ne.E:Promise.resolve(Zt)}),function x(_,D,m,w,S,F){return(0,J.z)(K=>function Ni(_,D,m,w,S,F,K="emptyOnly"){return new pi(_,D,m,w,S,K,F).recognize()}(_,D,m,w,K.extractedUrl,S,F).pipe((0,Pt.U)(({state:ye,tree:ve})=>({...K,targetSnapshot:ye,urlAfterRedirects:ve}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,fe.b)(Zt=>{F.targetSnapshot=Zt.targetSnapshot,F.urlAfterRedirects=Zt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Zt.urlAfterRedirects};const sn=new Vi(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),this.urlSerializer.serialize(Zt.urlAfterRedirects),Zt.targetSnapshot);this.events.next(sn)}));if(qe&&m.urlHandlingStrategy.shouldProcessUrl(ve.currentRawUrl)){const{id:Zt,extractedUrl:sn,source:lr,restoredState:qo,extras:Wu}=ve,Io=new xo(Zt,this.urlSerializer.serialize(sn),lr,qo);this.events.next(Io);const zu=et(0,this.rootComponentType).snapshot;return this.currentTransition=F={...ve,targetSnapshot:zu,urlAfterRedirects:sn,extras:{...Wu,skipLocationChange:!1,replaceUrl:!1}},(0,te.of)(F)}{const Zt="";return this.events.next(new us(ve.id,this.urlSerializer.serialize(ve.extractedUrl),Zt,1)),ve.resolve(null),Ne.E}}),(0,fe.b)(ve=>{const $e=new Tr(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot);this.events.next($e)}),(0,Pt.U)(ve=>(this.currentTransition=F={...ve,guards:Ru(ve.targetSnapshot,ve.currentSnapshot,this.rootContexts)},F)),function Ra(_,D){return(0,J.z)(m=>{const{targetSnapshot:w,currentSnapshot:S,guards:{canActivateChecks:F,canDeactivateChecks:K}}=m;return 0===K.length&&0===F.length?(0,te.of)({...m,guardsResult:!0}):function ci(_,D,m,w){return(0,ie.D)(_).pipe((0,J.z)(S=>function gr(_,D,m,w,S){const F=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!F||0===F.length)return(0,te.of)(!0);const K=F.map(ye=>{const ve=Ur(D)??S,$e=Di(ye,ve);return It(function Pu(_){return _&&hs(_.canDeactivate)}($e)?$e.canDeactivate(_,D,m,w):ve.runInContext(()=>$e(_,D,m,w))).pipe((0,ne.P)())});return(0,te.of)(K).pipe(zi())}(S.component,S.route,m,D,w)),(0,ne.P)(S=>!0!==S,!0))}(K,w,S,_).pipe((0,J.z)(ye=>ye&&function El(_){return"boolean"==typeof _}(ye)?function Ar(_,D,m,w){return(0,ie.D)(D).pipe(_e(S=>(0,gt.z)(function Vo(_,D){return null!==_&&D&&D(new lo(_)),(0,te.of)(!0)}(S.route.parent,w),function fo(_,D){return null!==_&&D&&D(new ko(_)),(0,te.of)(!0)}(S.route,w),function Mi(_,D,m){const w=D[D.length-1],F=D.slice(0,D.length-1).reverse().map(K=>function Ta(_){const D=_.routeConfig?_.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:_,guards:D}:null}(K)).filter(K=>null!==K).map(K=>de(()=>{const ye=K.guards.map(ve=>{const $e=Ur(K.node)??m,qe=Di(ve,$e);return It(function Mu(_){return _&&hs(_.canActivateChild)}(qe)?qe.canActivateChild(w,_):$e.runInContext(()=>qe(w,_))).pipe((0,ne.P)())});return(0,te.of)(ye).pipe(zi())}));return(0,te.of)(F).pipe(zi())}(_,S.path,m),function Xn(_,D,m){const w=D.routeConfig?D.routeConfig.canActivate:null;if(!w||0===w.length)return(0,te.of)(!0);const S=w.map(F=>de(()=>{const K=Ur(D)??m,ye=Di(F,K);return It(function Jl(_){return _&&hs(_.canActivate)}(ye)?ye.canActivate(D,_):K.runInContext(()=>ye(D,_))).pipe((0,ne.P)())}));return(0,te.of)(S).pipe(zi())}(_,S.route,m))),(0,ne.P)(S=>!0!==S,!0))}(w,F,_,D):(0,te.of)(ye)),(0,Pt.U)(ye=>({...m,guardsResult:ye})))})}(this.environmentInjector,ve=>this.events.next(ve)),(0,fe.b)(ve=>{if(F.guardsResult=ve.guardsResult,$n(ve.guardsResult))throw Ii(0,ve.guardsResult);const $e=new ls(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot,!!ve.guardsResult);this.events.next($e)}),(0,it.h)(ve=>!!ve.guardsResult||(this.cancelNavigationTransition(ve,"",3),!1)),nn(ve=>{if(ve.guards.canActivateChecks.length)return(0,te.of)(ve).pipe((0,fe.b)($e=>{const qe=new Ns($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot);this.events.next(qe)}),(0,on.w)($e=>{let qe=!1;return(0,te.of)($e).pipe(function T(_,D){return(0,J.z)(m=>{const{targetSnapshot:w,guards:{canActivateChecks:S}}=m;if(!S.length)return(0,te.of)(m);let F=0;return(0,ie.D)(S).pipe(_e(K=>function M(_,D,m,w){const S=_.routeConfig,F=_._resolve;return void 0!==S?.title&&!pt(S)&&(F[zt]=S.title),function Y(_,D,m,w){const S=function De(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===S.length)return(0,te.of)({});const F={};return(0,ie.D)(S).pipe((0,J.z)(K=>function ke(_,D,m,w){const S=Ur(D)??w,F=Di(_,S);return It(F.resolve?F.resolve(D,m):S.runInContext(()=>F(D,m)))}(_[K],D,m,w).pipe((0,ne.P)(),(0,fe.b)(ye=>{F[K]=ye}))),ze(1),function Lt(_){return(0,Pt.U)(()=>_)}(F),Te(K=>jo(K)?Ne.E:ue(K)))}(F,_,D,w).pipe((0,Pt.U)(K=>(_._resolvedData=K,_.data=pr(_,m).resolve,S&&pt(S)&&(_.data[zt]=S.title),null)))}(K.route,w,_,D)),(0,fe.b)(()=>F++),ze(1),(0,J.z)(K=>F===S.length?(0,te.of)(m):Ne.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,fe.b)({next:()=>qe=!0,complete:()=>{qe||this.cancelNavigationTransition($e,"",2)}}))}),(0,fe.b)($e=>{const qe=new bu($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot);this.events.next(qe)}))}),nn(ve=>{const $e=qe=>{const wt=[];qe.routeConfig?.loadComponent&&!qe.routeConfig._loadedComponent&&wt.push(this.configLoader.loadComponent(qe.routeConfig).pipe((0,fe.b)(Zt=>{qe.component=Zt}),(0,Pt.U)(()=>{})));for(const Zt of qe.children)wt.push(...$e(Zt));return wt};return Ze($e(ve.targetSnapshot.root)).pipe((0,Ve.d)(),(0,cn.q)(1))}),nn(()=>this.afterPreactivation()),(0,Pt.U)(ve=>{const $e=function ks(_,D,m){const w=Ei(_,D._root,m?m._root:void 0);return new yn(w,D)}(m.routeReuseStrategy,ve.targetSnapshot,ve.currentRouterState);return this.currentTransition=F={...ve,targetRouterState:$e},F}),(0,fe.b)(()=>{this.events.next(new xt)}),((_,D,m,w)=>(0,Pt.U)(S=>(new Ri(D,S.targetRouterState,S.currentRouterState,m,w).activate(_),S)))(this.rootContexts,m.routeReuseStrategy,ve=>this.events.next(ve),this.inputBindingEnabled),(0,cn.q)(1),(0,fe.b)({next:ve=>{K=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oi(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects))),m.titleStrategy?.updateTitle(ve.targetRouterState.snapshot),ve.resolve(!0)},complete:()=>{K=!0}}),function dn(_){return(0,He.e)((D,m)=>{(0,ct.Xf)(_).subscribe((0,Fe.x)(m,()=>m.complete(),an.Z)),!m.closed&&D.subscribe(m)})}(this.transitionAbortSubject.pipe((0,fe.b)(ve=>{throw ve}))),Ct(()=>{K||ye||this.cancelNavigationTransition(F,"",1),this.currentNavigation?.id===F.id&&(this.currentNavigation=null)}),Te(ve=>{if(ye=!0,Wi(ve))this.events.next(new Ps(F.id,this.urlSerializer.serialize(F.extractedUrl),ve.message,ve.cancellationCode)),function $i(_){return Wi(_)&&$n(_.url)}(ve)?this.events.next(new Un(ve.url)):F.resolve(!1);else{this.events.next(new Wn(F.id,this.urlSerializer.serialize(F.extractedUrl),ve,F.targetSnapshot??void 0));try{F.resolve(m.errorHandler(ve))}catch($e){F.reject($e)}}return Ne.E}))}))}cancelNavigationTransition(m,w,S){const F=new Ps(m.id,this.urlSerializer.serialize(m.extractedUrl),w,S);this.events.next(F),m.resolve(!1)}static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function Rr(_){return _!==ji}let tr=(()=>{class _{buildTitle(m){let w,S=m.root;for(;void 0!==S;)w=this.getResolvedTitleForRoute(S)??w,S=S.children.find(F=>F.outlet===Qe);return w}getResolvedTitleForRoute(m){return m.data[zt]}static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:function(){return(0,v.f3M)(xi)},providedIn:"root"})}return _})(),xi=(()=>{class _ extends tr{constructor(m){super(),this.title=m}updateTitle(m){const w=this.buildTitle(m);void 0!==w&&this.title.setTitle(w)}static#e=this.\u0275fac=function(w){return new(w||_)(v.LFG($t.Dx))};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),Er=(()=>{class _{static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:function(){return(0,v.f3M)(nr)},providedIn:"root"})}return _})();class ki{shouldDetach(D){return!1}store(D,m){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,m){return D.routeConfig===m.routeConfig}}let nr=(()=>{class _ extends ki{static#e=this.\u0275fac=function(){let m;return function(S){return(m||(m=v.n5z(_)))(S||_)}}();static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const Jr=new v.OlP("",{providedIn:"root",factory:()=>({})});let Ou=(()=>{class _{static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:function(){return(0,v.f3M)(wn)},providedIn:"root"})}return _})(),wn=(()=>{class _{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,w){return m}static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();var $s=function(_){return _[_.COMPLETE=0]="COMPLETE",_[_.FAILED=1]="FAILED",_[_.REDIRECTING=2]="REDIRECTING",_}($s||{});function Wo(_,D){_.events.pipe((0,it.h)(m=>m instanceof oi||m instanceof Ps||m instanceof Wn||m instanceof us),(0,Pt.U)(m=>m instanceof oi||m instanceof us?$s.COMPLETE:m instanceof Ps&&(0===m.code||1===m.code)?$s.REDIRECTING:$s.FAILED),(0,it.h)(m=>m!==$s.REDIRECTING),(0,cn.q)(1)).subscribe(()=>{D()})}function ur(_){throw _}function ec(_,D,m){return D.parse("/")}const xu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rn=(()=>{class _{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,v.f3M)(v.c2e),this.isNgZoneEnabled=!1,this._events=new rt.x,this.options=(0,v.f3M)(Jr,{optional:!0})||{},this.pendingTasks=(0,v.f3M)(v.HDt),this.errorHandler=this.options.errorHandler||ur,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ec,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,v.f3M)(Ou),this.routeReuseStrategy=(0,v.f3M)(Er),this.titleStrategy=(0,v.f3M)(tr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,v.f3M)(Kt,{optional:!0})?.flat()??[],this.navigationTransitions=(0,v.f3M)(_n),this.urlSerializer=(0,v.f3M)(sr),this.location=(0,v.f3M)(yt.Ye),this.componentInputBindingEnabled=!!(0,v.f3M)(Sr,{optional:!0}),this.eventsSubscription=new Re.w0,this.isNgZoneEnabled=(0,v.f3M)(v.R0b)instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=et(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const m=this.navigationTransitions.events.subscribe(w=>{try{const{currentTransition:S}=this.navigationTransitions;if(null===S)return void(ku(w)&&this._events.next(w));if(w instanceof xo)Rr(S.source)&&(this.browserUrlTree=S.extractedUrl);else if(w instanceof us)this.rawUrlTree=S.rawUrl;else if(w instanceof Vi){if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const F=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(F,S)}this.browserUrlTree=S.urlAfterRedirects}}else if(w instanceof xt)this.currentUrlTree=S.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl),this.routerState=S.targetRouterState,"deferred"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,S),this.browserUrlTree=S.urlAfterRedirects);else if(w instanceof Ps)0!==w.code&&1!==w.code&&(this.navigated=!0),(3===w.code||2===w.code)&&this.restoreHistory(S);else if(w instanceof Un){const F=this.urlHandlingStrategy.merge(w.url,S.currentRawUrl),K={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Rr(S.source)};this.scheduleNavigation(F,ji,null,K,{resolve:S.resolve,reject:S.reject,promise:S.promise})}w instanceof Wn&&this.restoreHistory(S,!0),w instanceof oi&&(this.navigated=!0),ku(w)&&this._events.next(w)}catch(S){this.navigationTransitions.transitionAbortSubject.next(S)}});this.eventsSubscription.add(m)}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ji,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const w="popstate"===m.type?"popstate":"hashchange";"popstate"===w&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,w,m.state)},0)}))}navigateToSyncWithBrowser(m,w,S){const F={replaceUrl:!0},K=S?.navigationId?S:null;if(S){const ve={...S};delete ve.navigationId,delete ve.\u0275routerPageId,0!==Object.keys(ve).length&&(F.state=ve)}const ye=this.parseUrl(m);this.scheduleNavigation(ye,w,K,F)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(xn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(m,w={}){const{relativeTo:S,queryParams:F,fragment:K,queryParamsHandling:ye,preserveFragment:ve}=w,$e=ve?this.currentUrlTree.fragment:K;let wt,qe=null;switch(ye){case"merge":qe={...this.currentUrlTree.queryParams,...F};break;case"preserve":qe=this.currentUrlTree.queryParams;break;default:qe=F||null}null!==qe&&(qe=this.removeEmptyProps(qe));try{wt=he(S?S.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),wt=this.currentUrlTree.root}return Pe(wt,m,qe,$e??null)}navigateByUrl(m,w={skipLocationChange:!1}){const S=$n(m)?m:this.parseUrl(m),F=this.urlHandlingStrategy.merge(S,this.rawUrlTree);return this.scheduleNavigation(F,ji,null,w)}navigate(m,w={skipLocationChange:!1}){return function Il(_){for(let D=0;D<_.length;D++)if(null==_[D])throw new v.vHH(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,w),w)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let w;try{w=this.urlSerializer.parse(m)}catch(S){w=this.malformedUriErrorHandler(S,this.urlSerializer,m)}return w}isActive(m,w){let S;if(S=!0===w?{...xu}:!1===w?{...zo}:w,$n(m))return Yn(this.currentUrlTree,m,S);const F=this.parseUrl(m);return Yn(this.currentUrlTree,F,S)}removeEmptyProps(m){return Object.keys(m).reduce((w,S)=>{const F=m[S];return null!=F&&(w[S]=F),w},{})}scheduleNavigation(m,w,S,F,K){if(this.disposed)return Promise.resolve(!1);let ye,ve,$e;K?(ye=K.resolve,ve=K.reject,$e=K.promise):$e=new Promise((wt,Zt)=>{ye=wt,ve=Zt});const qe=this.pendingTasks.add();return Wo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(qe))}),this.navigationTransitions.handleNavigationRequest({source:w,restoredState:S,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:m,extras:F,resolve:ye,reject:ve,promise:$e,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$e.catch(wt=>Promise.reject(wt))}setBrowserUrl(m,w){const S=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(S)||w.extras.replaceUrl){const K={...w.extras.state,...this.generateNgRouterState(w.id,this.browserPageId)};this.location.replaceState(S,"",K)}else{const F={...w.extras.state,...this.generateNgRouterState(w.id,this.browserPageId+1)};this.location.go(S,"",F)}}restoreHistory(m,w=!1){if("computed"===this.canceledNavigationResolution){const F=this.currentPageId-this.browserPageId;0!==F?this.location.historyGo(F):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===F&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(w&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,w){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:w}:{navigationId:m}}static#e=this.\u0275fac=function(w){return new(w||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function ku(_){return!(_ instanceof xt||_ instanceof Un)}let Lu=(()=>{class _{constructor(m,w,S,F,K,ye){this.router=m,this.route=w,this.tabIndexAttribute=S,this.renderer=F,this.el=K,this.locationStrategy=ye,this.href=null,this.commands=null,this.onChanges=new rt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ve=K.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ve||"area"===ve,this.isAnchorElement?this.subscription=m.events.subscribe($e=>{$e instanceof oi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,w,S,F,K){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||w||S||F||K||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,v.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,w){const S=this.renderer,F=this.el.nativeElement;null!==w?S.setAttribute(F,m,w):S.removeAttribute(F,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(w){return new(w||_)(v.Y36(Rn),v.Y36(en),v.$8M("tabindex"),v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(yt.S$))};static#t=this.\u0275dir=v.lG2({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,S){1&w&&v.NdJ("click",function(K){return S.onClick(K.button,K.ctrlKey,K.shiftKey,K.altKey,K.metaKey)}),2&w&&v.uIk("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",v.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",v.VuI],replaceUrl:["replaceUrl","replaceUrl",v.VuI],routerLink:"routerLink"},standalone:!0,features:[v.Xq5,v.TTD]})}return _})();class ps{}let Uu=(()=>{class _{constructor(m,w,S,F,K){this.router=m,this.injector=S,this.preloadingStrategy=F,this.loader=K}setUpPreloading(){this.subscription=this.router.events.pipe((0,it.h)(m=>m instanceof oi),_e(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,w){const S=[];for(const F of w){F.providers&&!F._injector&&(F._injector=(0,v.MMx)(F.providers,m,`Route: ${F.path}`));const K=F._injector??m,ye=F._loadedInjector??K;(F.loadChildren&&!F._loadedRoutes&&void 0===F.canLoad||F.loadComponent&&!F._loadedComponent)&&S.push(this.preloadConfig(K,F)),(F.children||F._loadedRoutes)&&S.push(this.processRoutes(ye,F.children??F._loadedRoutes))}return(0,ie.D)(S).pipe((0,Qt.J)())}preloadConfig(m,w){return this.preloadingStrategy.preload(w,()=>{let S;S=w.loadChildren&&void 0===w.canLoad?this.loader.loadChildren(m,w):(0,te.of)(null);const F=S.pipe((0,J.z)(K=>null===K?(0,te.of)(void 0):(w._loadedRoutes=K.routes,w._loadedInjector=K.injector,this.processRoutes(K.injector??m,K.routes))));if(w.loadComponent&&!w._loadedComponent){const K=this.loader.loadComponent(w);return(0,ie.D)([F,K]).pipe((0,Qt.J)())}return F})}static#e=this.\u0275fac=function(w){return new(w||_)(v.LFG(Rn),v.LFG(v.Sil),v.LFG(v.lqb),v.LFG(ps),v.LFG(Xt))};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const Oa=new v.OlP("");let Mt=(()=>{class _{constructor(m,w,S,F,K={}){this.urlSerializer=m,this.transitions=w,this.viewportScroller=S,this.zone=F,this.options=K,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},K.scrollPositionRestoration=K.scrollPositionRestoration||"disabled",K.anchorScrolling=K.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof xo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof oi?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof us&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof _i&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,w){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _i(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,w))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(w){v.$Z()};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac})}return _})();function Ci(_,D){return{\u0275kind:_,\u0275providers:D}}function Dl(){const _=(0,v.f3M)(v.zs3);return D=>{const m=_.get(v.z2F);if(D!==m.components[0])return;const w=_.get(Rn),S=_.get(Cl);1===_.get(ju)&&w.initialNavigation(),_.get(Ut,null,v.XFs.Optional)?.setUpPreloading(),_.get(Oa,null,v.XFs.Optional)?.init(),w.resetRootComponentType(m.componentTypes[0]),S.closed||(S.next(),S.complete(),S.unsubscribe())}}const Cl=new v.OlP("",{factory:()=>new rt.x}),ju=new v.OlP("",{providedIn:"root",factory:()=>1}),Ut=new v.OlP("");function xa(_){return Ci(0,[{provide:Ut,useExisting:Uu},{provide:ps,useExisting:_}])}const yo=new v.OlP("ROUTER_FORROOT_GUARD"),Yo=[yt.Ye,{provide:sr,useClass:Tn},Rn,er,{provide:en,useFactory:function rc(_){return _.routerState.root},deps:[Rn]},Xt,[]];function ka(){return new v.PXZ("Router",Rn)}let nd=(()=>{class _{constructor(m){}static forRoot(m,w){return{ngModule:_,providers:[Yo,[],{provide:Kt,multi:!0,useValue:m},{provide:yo,useFactory:Eo,deps:[[Rn,new v.FiY,new v.tp0]]},{provide:Jr,useValue:w||{}},w?.useHash?{provide:yt.S$,useClass:yt.Do}:{provide:yt.S$,useClass:yt.b0},{provide:Oa,useFactory:()=>{const _=(0,v.f3M)(yt.EM),D=(0,v.f3M)(v.R0b),m=(0,v.f3M)(Jr),w=(0,v.f3M)(_n),S=(0,v.f3M)(sr);return m.scrollOffset&&_.setOffset(m.scrollOffset),new Mt(S,w,_,D,m)}},w?.preloadingStrategy?xa(w.preloadingStrategy).\u0275providers:[],{provide:v.PXZ,multi:!0,useFactory:ka},w?.initialNavigation?gs(w):[],w?.bindToComponentInputs?Ci(8,[fn,{provide:Sr,useExisting:fn}]).\u0275providers:[],[{provide:Mr,useFactory:Dl},{provide:v.tb,multi:!0,useExisting:Mr}]]}}static forChild(m){return{ngModule:_,providers:[{provide:Kt,multi:!0,useValue:m}]}}static#e=this.\u0275fac=function(w){return new(w||_)(v.LFG(yo,8))};static#t=this.\u0275mod=v.oAB({type:_});static#n=this.\u0275inj=v.cJS({})}return _})();function Eo(_){return"guarded"}function gs(_){return["disabled"===_.initialNavigation?Ci(3,[{provide:v.ip1,multi:!0,useFactory:()=>{const D=(0,v.f3M)(Rn);return()=>{D.setUpLocationChangeListener()}}},{provide:ju,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?Ci(2,[{provide:ju,useValue:0},{provide:v.ip1,multi:!0,deps:[v.zs3],useFactory:D=>{const m=D.get(yt.V_,Promise.resolve());return()=>m.then(()=>new Promise(w=>{const S=D.get(Rn),F=D.get(Cl);Wo(S,()=>{w(!0)}),D.get(_n).afterPreactivation=()=>(w(!0),F.closed?(0,te.of)(void 0):F),S.initialNavigation()}))}}]).\u0275providers:[]]}const Mr=new v.OlP("")},3106:(st,Ce,O)=>{O.d(Ce,{Z:()=>Ze});var v=O(9058),X=O(4537),z=O(534),G=O(7879);class ie{constructor(Ke,Ue){this._delegate=Ke,this.firebase=Ue,(0,z._addComponent)(Ke,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=Ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this._delegate.automaticDataCollectionEnabled=Ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ke=>{this._delegate.checkDestroyed(),Ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Ke,Ue=z._DEFAULT_ENTRY_NAME){var gt;this._delegate.checkDestroyed();const ct=this._delegate.container.getProvider(Ke);return!ct.isInitialized()&&"EXPLICIT"===(null===(gt=ct.getComponent())||void 0===gt?void 0:gt.instantiationMode)&&ct.initialize(),ct.getImmediate({identifier:Ue})}_removeServiceInstance(Ke,Ue=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ke).clearInstance(Ue)}_addComponent(Ke){(0,z._addComponent)(this._delegate,Ke)}_addOrOverwriteComponent(Ke){(0,z._addOrOverwriteComponent)(this._delegate,Ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new v.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function me(){const Le=function Ie(Le){const Ke={},Ue={__esModule:!0,initializeApp:function de(Re,He={}){const at=z.initializeApp(Re,He);if((0,v.r3)(Ke,at.name))return Ke[at.name];const we=new Le(at,Ue);return Ke[at.name]=we,we},app:ct,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function ue(Re){const He=Re.name,at=He.replace("-compat","");if(z._registerComponent(Re)&&"PUBLIC"===Re.type){const we=(rt=ct())=>{if("function"!=typeof rt[at])throw ae.create("invalid-app-argument",{appName:He});return rt[at]()};void 0!==Re.serviceProps&&(0,v.ZB)(we,Re.serviceProps),Ue[at]=we,Le.prototype[at]=function(...rt){return this._getService.bind(this,He).apply(this,Re.multipleInstances?rt:[])}}return"PUBLIC"===Re.type?Ue[at]:null},removeApp:function gt(Re){delete Ke[Re]},useAsService:function Ne(Re,He){return"serverAuth"===He?null:He},modularAPIs:z}};function ct(Re){if(!(0,v.r3)(Ke,Re=Re||z._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:Re});return Ke[Re]}return Ue.default=Ue,Object.defineProperty(Ue,"apps",{get:function N(){return Object.keys(Ke).map(Re=>Ke[Re])}}),ct.App=Le,Ue}(ie);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function Ke(Ue){(0,v.ZB)(Le,Ue)},createSubscribe:v.ne,ErrorFactory:v.LL,deepExtend:v.ZB}),Le}(),q=new G.Yd("@firebase/app-compat");if((0,v.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=Z;!function Oe(Le){(0,z.registerVersion)("@firebase/app-compat","0.2.32",Le)}()},534:(st,Ce,O)=>{O.r(Ce),O.d(Ce,{FirebaseError:()=>G.ZR,SDK_VERSION:()=>ri,_DEFAULT_ENTRY_NAME:()=>vt,_addComponent:()=>Yn,_addOrOverwriteComponent:()=>Gt,_apps:()=>It,_clearComponents:()=>wr,_components:()=>Cn,_getProvider:()=>is,_isFirebaseApp:()=>Hr,_isFirebaseServerApp:()=>jt,_registerComponent:()=>On,_removeServiceInstance:()=>dt,_serverApps:()=>un,deleteApp:()=>hr,getApp:()=>bi,getApps:()=>or,initializeApp:()=>sr,initializeServerApp:()=>Tn,onLog:()=>j,registerVersion:()=>ee,setLogLevel:()=>V});var v=O(5861),X=O(4537),z=O(7879),G=O(9058);const ie=(le,he)=>he.some(Pe=>le instanceof Pe);let te,ae;const Z=new WeakMap,q=new WeakMap,oe=new WeakMap,Fe=new WeakMap,Oe=new WeakMap;let Ke={get(le,he,Pe){if(le instanceof IDBTransaction){if("done"===he)return q.get(le);if("objectStoreNames"===he)return le.objectStoreNames||oe.get(le);if("store"===he)return Pe.objectStoreNames[1]?void 0:Pe.objectStore(Pe.objectStoreNames[0])}return de(le[he])},set:(le,he,Pe)=>(le[he]=Pe,!0),has:(le,he)=>le instanceof IDBTransaction&&("done"===he||"store"===he)||he in le};function ct(le){return"function"==typeof le?function gt(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(...he){return le.apply(N(this),he),de(Z.get(this))}:function(...he){return de(le.apply(N(this),he))}:function(he,...Pe){const Ye=le.call(N(this),he,...Pe);return oe.set(Ye,he.sort?he.sort():[he]),de(Ye)}}(le):(le instanceof IDBTransaction&&function Le(le){if(q.has(le))return;const he=new Promise((Pe,Ye)=>{const _t=()=>{le.removeEventListener("complete",Et),le.removeEventListener("error",Rt),le.removeEventListener("abort",Rt)},Et=()=>{Pe(),_t()},Rt=()=>{Ye(le.error||new DOMException("AbortError","AbortError")),_t()};le.addEventListener("complete",Et),le.addEventListener("error",Rt),le.addEventListener("abort",Rt)});q.set(le,he)}(le),ie(le,function Ie(){return te||(te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,Ke):le)}function de(le){if(le instanceof IDBRequest)return function Ze(le){const he=new Promise((Pe,Ye)=>{const _t=()=>{le.removeEventListener("success",Et),le.removeEventListener("error",Rt)},Et=()=>{Pe(de(le.result)),_t()},Rt=()=>{Ye(le.error),_t()};le.addEventListener("success",Et),le.addEventListener("error",Rt)});return he.then(Pe=>{Pe instanceof IDBCursor&&Z.set(Pe,le)}).catch(()=>{}),Oe.set(he,le),he}(le);if(Fe.has(le))return Fe.get(le);const he=ct(le);return he!==le&&(Fe.set(le,he),Oe.set(he,le)),he}const N=le=>Oe.get(le),Re=["get","getKey","getAll","getAllKeys","count"],He=["put","add","delete","clear"],at=new Map;function we(le,he){if(!(le instanceof IDBDatabase)||he in le||"string"!=typeof he)return;if(at.get(he))return at.get(he);const Pe=he.replace(/FromIndex$/,""),Ye=he!==Pe,_t=He.includes(Pe);if(!(Pe in(Ye?IDBIndex:IDBObjectStore).prototype)||!_t&&!Re.includes(Pe))return;const Et=function(){var Rt=(0,v.Z)(function*(gn,...ln){const Sn=this.transaction(gn,_t?"readwrite":"readonly");let si=Sn.store;return Ye&&(si=si.index(ln.shift())),(yield Promise.all([si[Pe](...ln),_t&&Sn.done]))[0]});return function(ln){return Rt.apply(this,arguments)}}();return at.set(he,Et),Et}!function Ue(le){Ke=le(Ke)}(le=>({...le,get:(he,Pe,Ye)=>we(he,Pe)||le.get(he,Pe,Ye),has:(he,Pe)=>!!we(he,Pe)||le.has(he,Pe)}));class rt{constructor(he){this.container=he}getPlatformInfoString(){return this.container.getProviders().map(Pe=>{if(function yt(le){const he=le.getComponent();return"VERSION"===he?.type}(Pe)){const Ye=Pe.getImmediate();return`${Ye.library}/${Ye.version}`}return null}).filter(Pe=>Pe).join(" ")}}const Pt="@firebase/app",on="0.10.2",cn=new z.Yd("@firebase/app"),vt="[DEFAULT]",Ot={[Pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},It=new Map,un=new Map,Cn=new Map;function Yn(le,he){try{le.container.addComponent(he)}catch(Pe){cn.debug(`Component ${he.name} failed to register with FirebaseApp ${le.name}`,Pe)}}function Gt(le,he){le.container.addOrOverwriteComponent(he)}function On(le){const he=le.name;if(Cn.has(he))return cn.debug(`There were multiple attempts to register component ${he}.`),!1;Cn.set(he,le);for(const Pe of It.values())Yn(Pe,le);for(const Pe of un.values())Yn(Pe,le);return!0}function is(le,he){const Pe=le.container.getProvider("heartbeat").getImmediate({optional:!0});return Pe&&Pe.triggerHeartbeat(),le.container.getProvider(he)}function dt(le,he,Pe=vt){is(le,he).clearInstance(Pe)}function Hr(le){return void 0!==le.options}function jt(le){return void 0!==le.settings}function wr(){Cn.clear()}const Pn=new G.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class $r{constructor(he,Pe,Ye){this._isDeleted=!1,this._options=Object.assign({},he),this._config=Object.assign({},Pe),this._name=Pe.name,this._automaticDataCollectionEnabled=Pe.automaticDataCollectionEnabled,this._container=Ye,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this.checkDestroyed(),this._automaticDataCollectionEnabled=he}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(he){this._isDeleted=he}checkDestroyed(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}}class xr extends $r{constructor(he,Pe,Ye,_t){const Et=void 0!==Pe.automaticDataCollectionEnabled&&Pe.automaticDataCollectionEnabled,Rt={name:Ye,automaticDataCollectionEnabled:Et};super(void 0!==he.apiKey?he:he.options,Rt,_t),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Et},Pe),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Pe.releaseOnDeref=void 0,ee(Pt,on,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(he){this.isDeleted||(this._refCount++,void 0!==he&&this._finalizationRegistry.register(he,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){hr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Pn.create("server-app-deleted")}}const ri="10.11.1";function sr(le,he={}){let Pe=le;"object"!=typeof he&&(he={name:he});const Ye=Object.assign({name:vt,automaticDataCollectionEnabled:!1},he),_t=Ye.name;if("string"!=typeof _t||!_t)throw Pn.create("bad-app-name",{appName:String(_t)});if(Pe||(Pe=(0,G.aH)()),!Pe)throw Pn.create("no-options");const Et=It.get(_t);if(Et){if((0,G.vZ)(Pe,Et.options)&&(0,G.vZ)(Ye,Et.config))return Et;throw Pn.create("duplicate-app",{appName:_t})}const Rt=new X.H0(_t);for(const ln of Cn.values())Rt.addComponent(ln);const gn=new $r(Pe,Ye,Rt);return It.set(_t,gn),gn}function Tn(le,he){if((0,G.jU)())throw Pn.create("invalid-server-app-environment");let Pe;void 0===he.automaticDataCollectionEnabled&&(he.automaticDataCollectionEnabled=!1),Pe=Hr(le)?le.options:le;const Ye=Object.assign(Object.assign({},he),Pe);if(void 0!==Ye.releaseOnDeref&&delete Ye.releaseOnDeref,void 0!==he.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Pn.create("finalization-registry-not-supported",{});const Et=""+(Sn=JSON.stringify(Ye),[...Sn].reduce((si,ao)=>Math.imul(31,si)+ao.charCodeAt(0)|0,0)),Rt=un.get(Et);var Sn;if(Rt)return Rt.incRefCount(he.releaseOnDeref),Rt;const gn=new X.H0(Et);for(const Sn of Cn.values())gn.addComponent(Sn);const ln=new xr(Pe,he,Et,gn);return un.set(Et,ln),ln}function bi(le=vt){const he=It.get(le);if(!he&&le===vt&&(0,G.aH)())return sr();if(!he)throw Pn.create("no-app",{appName:le});return he}function or(){return Array.from(It.values())}function hr(le){return br.apply(this,arguments)}function br(){return(br=(0,v.Z)(function*(le){let he=!1;const Pe=le.name;It.has(Pe)?(he=!0,It.delete(Pe)):un.has(Pe)&&le.decRefCount()<=0&&(un.delete(Pe),he=!0),he&&(yield Promise.all(le.container.getProviders().map(Ye=>Ye.delete())),le.isDeleted=!0)})).apply(this,arguments)}function ee(le,he,Pe){var Ye;let _t=null!==(Ye=Ot[le])&&void 0!==Ye?Ye:le;Pe&&(_t+=`-${Pe}`);const Et=_t.match(/\s|\//),Rt=he.match(/\s|\//);if(Et||Rt){const gn=[`Unable to register library "${_t}" with version "${he}":`];return Et&&gn.push(`library name "${_t}" contains illegal characters (whitespace or "/")`),Et&&Rt&&gn.push("and"),Rt&&gn.push(`version name "${he}" contains illegal characters (whitespace or "/")`),void cn.warn(gn.join(" "))}On(new X.wA(`${_t}-version`,()=>({library:_t,version:he}),"VERSION"))}function j(le,he){if(null!==le&&"function"!=typeof le)throw Pn.create("invalid-log-argument");(0,z.Am)(le,he)}function V(le){(0,z.Ub)(le)}const B="firebase-heartbeat-database",H=1,se="firebase-heartbeat-store";let Me=null;function Je(){return Me||(Me=function ue(le,he,{blocked:Pe,upgrade:Ye,blocking:_t,terminated:Et}={}){const Rt=indexedDB.open(le,he),gn=de(Rt);return Ye&&Rt.addEventListener("upgradeneeded",ln=>{Ye(de(Rt.result),ln.oldVersion,ln.newVersion,de(Rt.transaction),ln)}),Pe&&Rt.addEventListener("blocked",ln=>Pe(ln.oldVersion,ln.newVersion,ln)),gn.then(ln=>{Et&&ln.addEventListener("close",()=>Et()),_t&&ln.addEventListener("versionchange",Sn=>_t(Sn.oldVersion,Sn.newVersion,Sn))}).catch(()=>{}),gn}(B,H,{upgrade:(le,he)=>{if(0===he)try{le.createObjectStore(se)}catch(Pe){console.warn(Pe)}}}).catch(le=>{throw Pn.create("idb-open",{originalErrorMessage:le.message})})),Me}function St(){return(St=(0,v.Z)(function*(le){try{const Pe=(yield Je()).transaction(se),Ye=yield Pe.objectStore(se).get(tn(le));return yield Pe.done,Ye}catch(he){if(he instanceof G.ZR)cn.warn(he.message);else{const Pe=Pn.create("idb-get",{originalErrorMessage:he?.message});cn.warn(Pe.message)}}})).apply(this,arguments)}function mt(le,he){return ht.apply(this,arguments)}function ht(){return(ht=(0,v.Z)(function*(le,he){try{const Ye=(yield Je()).transaction(se,"readwrite");yield Ye.objectStore(se).put(he,tn(le)),yield Ye.done}catch(Pe){if(Pe instanceof G.ZR)cn.warn(Pe.message);else{const Ye=Pn.create("idb-set",{originalErrorMessage:Pe?.message});cn.warn(Ye.message)}}})).apply(this,arguments)}function tn(le){return`${le.name}!${le.options.appId}`}class Ss{constructor(he){this.container=he,this._heartbeatsCache=null;const Pe=this.container.getProvider("app").getImmediate();this._storage=new Wr(Pe),this._heartbeatsCachePromise=this._storage.read().then(Ye=>(this._heartbeatsCache=Ye,Ye))}triggerHeartbeat(){var he=this;return(0,v.Z)(function*(){var Pe,Ye;const Et=he.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rt=As();if((null!=(null===(Pe=he._heartbeatsCache)||void 0===Pe?void 0:Pe.heartbeats)||(he._heartbeatsCache=yield he._heartbeatsCachePromise,null!=(null===(Ye=he._heartbeatsCache)||void 0===Ye?void 0:Ye.heartbeats)))&&he._heartbeatsCache.lastSentHeartbeatDate!==Rt&&!he._heartbeatsCache.heartbeats.some(gn=>gn.date===Rt))return he._heartbeatsCache.heartbeats.push({date:Rt,agent:Et}),he._heartbeatsCache.heartbeats=he._heartbeatsCache.heartbeats.filter(gn=>{const ln=new Date(gn.date).valueOf();return Date.now()-ln<=2592e6}),he._storage.overwrite(he._heartbeatsCache)})()}getHeartbeatsHeader(){var he=this;return(0,v.Z)(function*(){var Pe;if(null===he._heartbeatsCache&&(yield he._heartbeatsCachePromise),null==(null===(Pe=he._heartbeatsCache)||void 0===Pe?void 0:Pe.heartbeats)||0===he._heartbeatsCache.heartbeats.length)return"";const Ye=As(),{heartbeatsToSend:_t,unsentEntries:Et}=function ar(le,he=1024){const Pe=[];let Ye=le.slice();for(const _t of le){const Et=Pe.find(Rt=>Rt.agent===_t.agent);if(Et){if(Et.dates.push(_t.date),_r(Pe)>he){Et.dates.pop();break}}else if(Pe.push({agent:_t.agent,dates:[_t.date]}),_r(Pe)>he){Pe.pop();break}Ye=Ye.slice(1)}return{heartbeatsToSend:Pe,unsentEntries:Ye}}(he._heartbeatsCache.heartbeats),Rt=(0,G.L)(JSON.stringify({version:2,heartbeats:_t}));return he._heartbeatsCache.lastSentHeartbeatDate=Ye,Et.length>0?(he._heartbeatsCache.heartbeats=Et,yield he._storage.overwrite(he._heartbeatsCache)):(he._heartbeatsCache.heartbeats=[],he._storage.overwrite(he._heartbeatsCache)),Rt})()}}function As(){return(new Date).toISOString().substring(0,10)}class Wr{constructor(he){this.app=he,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,v.Z)(function*(){return!!(0,G.hl)()&&(0,G.eu)().then(()=>!0).catch(()=>!1)})()}read(){var he=this;return(0,v.Z)(function*(){if(yield he._canUseIndexedDBPromise){const Ye=yield function ut(le){return St.apply(this,arguments)}(he.app);return Ye?.heartbeats?Ye:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(he){var Pe=this;return(0,v.Z)(function*(){var Ye;if(yield Pe._canUseIndexedDBPromise){const Et=yield Pe.read();return mt(Pe.app,{lastSentHeartbeatDate:null!==(Ye=he.lastSentHeartbeatDate)&&void 0!==Ye?Ye:Et.lastSentHeartbeatDate,heartbeats:he.heartbeats})}})()}add(he){var Pe=this;return(0,v.Z)(function*(){var Ye;if(yield Pe._canUseIndexedDBPromise){const Et=yield Pe.read();return mt(Pe.app,{lastSentHeartbeatDate:null!==(Ye=he.lastSentHeartbeatDate)&&void 0!==Ye?Ye:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...he.heartbeats]})}})()}}function _r(le){return(0,G.L)(JSON.stringify({version:2,heartbeats:le})).length}!function $n(le){On(new X.wA("platform-logger",he=>new rt(he),"PRIVATE")),On(new X.wA("heartbeat",he=>new Ss(he),"PRIVATE")),ee(Pt,on,le),ee(Pt,on,"esm2017"),ee("fire-js","")}("")},4537:(st,Ce,O)=>{O.d(Ce,{H0:()=>Ie,wA:()=>z,zt:()=>ie});var v=O(5861),X=O(9058);class z{constructor(Z,q,oe){this.name=Z,this.instanceFactory=q,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const G="[DEFAULT]";class ie{constructor(Z,q){this.name=Z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const q=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(q)){const oe=new X.BH;if(this.instancesDeferred.set(q,oe),this.isInitialized(q)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:q});Fe&&oe.resolve(Fe)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(Z){var q;const oe=this.normalizeInstanceIdentifier(Z?.identifier),Fe=null!==(q=Z?.optional)&&void 0!==q&&q;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(Oe){if(Fe)return null;throw Oe}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function ae(me){return"EAGER"===me.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:G})}catch{}for(const[q,oe]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(q);try{const Oe=this.getOrInitializeService({instanceIdentifier:Fe});oe.resolve(Oe)}catch{}}}}clearInstance(Z=G){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,v.Z)(function*(){const q=Array.from(Z.instances.values());yield Promise.all([...q.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...q.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=G){return this.instances.has(Z)}getOptions(Z=G){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:q={}}=Z,oe=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:oe,options:q});for(const[Oe,Ze]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(Oe)&&Ze.resolve(Fe);return Fe}onInit(Z,q){var oe;const Fe=this.normalizeInstanceIdentifier(q),Oe=null!==(oe=this.onInitCallbacks.get(Fe))&&void 0!==oe?oe:new Set;Oe.add(Z),this.onInitCallbacks.set(Fe,Oe);const Ze=this.instances.get(Fe);return Ze&&Z(Ze,Fe),()=>{Oe.delete(Z)}}invokeOnInitCallbacks(Z,q){const oe=this.onInitCallbacks.get(q);if(oe)for(const Fe of oe)try{Fe(Z,q)}catch{}}getOrInitializeService({instanceIdentifier:Z,options:q={}}){let oe=this.instances.get(Z);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(me=Z,me===G?void 0:me),options:q}),this.instances.set(Z,oe),this.instancesOptions.set(Z,q),this.invokeOnInitCallbacks(oe,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,oe)}catch{}var me;return oe||null}normalizeInstanceIdentifier(Z=G){return this.component?this.component.multipleInstances?Z:G:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ie{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const q=this.getProvider(Z.name);if(q.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);q.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const q=new ie(Z,this);return this.providers.set(Z,q),q}getProviders(){return Array.from(this.providers.values())}}},7879:(st,Ce,O)=>{O.d(Ce,{Am:()=>me,Ub:()=>Ie,Yd:()=>ae,in:()=>X});const v=[];var X=function(Z){return Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",Z}(X||{});const z={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},G=X.INFO,ie={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},te=(Z,q,...oe)=>{if(q<Z.logLevel)return;const Fe=(new Date).toISOString(),Oe=ie[q];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Oe](`[${Fe}]  ${Z.name}:`,...oe)};class ae{constructor(q){this.name=q,this._logLevel=G,this._logHandler=te,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in X))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?z[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...q),this._logHandler(this,X.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...q),this._logHandler(this,X.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,X.INFO,...q),this._logHandler(this,X.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,X.WARN,...q),this._logHandler(this,X.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...q),this._logHandler(this,X.ERROR,...q)}}function Ie(Z){v.forEach(q=>{q.setLogLevel(Z)})}function me(Z,q){for(const oe of v){let Fe=null;q&&q.level&&(Fe=z[q.level]),oe.userLogHandler=null===Z?null:(Oe,Ze,...Le)=>{const Ke=Le.map(Ue=>{if(null==Ue)return null;if("string"==typeof Ue)return Ue;if("number"==typeof Ue||"boolean"==typeof Ue)return Ue.toString();if(Ue instanceof Error)return Ue.message;try{return JSON.stringify(Ue)}catch{return null}}).filter(Ue=>Ue).join(" ");Ze>=(Fe??Oe.logLevel)&&Z({level:X[Ze].toLowerCase(),message:Ke,args:Le,type:Oe.name})}}}},7142:(st,Ce,O)=>{O.d(Ce,{Z:()=>v.Z});var v=O(3106);v.Z.registerVersion("firebase","10.11.1","app-compat")},340:(st,Ce,O)=>{O.r(Ce);var v=O(5861),X=O(3106),z=O(534),G=O(9058),ie=O(7879),te=O(7582),ae=O(4537);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ze=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Le=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ke=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gt=new ie.Yd("@firebase/auth");function de(f,...u){gt.logLevel<=ie.in.ERROR&&gt.error(`Auth (${z.SDK_VERSION}): ${f}`,...u)}function N(f,...u){throw at(f,...u)}function ue(f,...u){return at(f,...u)}function Ne(f,u,c){const g=Object.assign(Object.assign({},Le()),{[u]:c});return new G.LL("auth","Firebase",g).create(u,{appName:f.name})}function Re(f){return Ne(f,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function He(f,u,c){if(!(u instanceof c))throw c.name!==u.constructor.name&&N(f,"argument-error"),Ne(f,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function at(f,...u){if("string"!=typeof f){const c=u[0],g=[...u.slice(1)];return g[0]&&(g[0].appName=f.name),f._errorFactory.create(c,...g)}return Ke.create(f,...u)}function we(f,u,...c){if(!f)throw at(u,...c)}function rt(f){const u="INTERNAL ASSERTION FAILED: "+f;throw de(u),new Error(u)}function yt(f,u){f||rt(u)}function Pt(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function on(){return"http:"===cn()||"https:"===cn()}function cn(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class J{constructor(u,c){this.shortDelay=u,this.longDelay=c,yt(c>u,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function tt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(on()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ne(f,u){yt(f.emulator,"Emulator should always be set here");const{url:c}=f.emulator;return u?`${c}${u.startsWith("/")?u.slice(1):u}`:c}class _e{static initialize(u,c,g){this.fetchImpl=u,c&&(this.headersImpl=c),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Te=new J(3e4,6e4);function Se(f,u){return f.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:f.tenantId}):u}function Ve(f,u,c,g){return ze.apply(this,arguments)}function ze(){return(ze=(0,v.Z)(function*(f,u,c,g,A={}){return In(f,A,(0,v.Z)(function*(){let k={},Q={};g&&("GET"===u?Q=g:k={body:JSON.stringify(g)});const ce=(0,G.xO)(Object.assign({key:f.config.apiKey},Q)).slice(1),Ae=yield f._getAdditionalHeaders();return Ae["Content-Type"]="application/json",f.languageCode&&(Ae["X-Firebase-Locale"]=f.languageCode),_e.fetch()(an(f,f.config.apiHost,c,ce),Object.assign({method:u,headers:Ae,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function In(f,u,c){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,v.Z)(function*(f,u,c){f._canInitEmulator=!1;const g=Object.assign(Object.assign({},fe),u);try{const A=new Qt(f),k=yield Promise.race([c(),A.promise]);A.clearNetworkTimeout();const Q=yield k.json();if("needConfirmation"in Q)throw $t(f,"account-exists-with-different-credential",Q);if(k.ok&&!("errorMessage"in Q))return Q;{const ce=k.ok?Q.errorMessage:Q.error.message,[Ae,Xe]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw $t(f,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Ae)throw $t(f,"email-already-in-use",Q);if("USER_DISABLED"===Ae)throw $t(f,"user-disabled",Q);const ft=g[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw Ne(f,ft,Xe);N(f,ft)}}catch(A){if(A instanceof G.ZR)throw A;N(f,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function Lt(f,u,c,g){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,v.Z)(function*(f,u,c,g,A={}){const k=yield Ve(f,u,c,g,A);return"mfaPendingCredential"in k&&N(f,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function an(f,u,c,g){const A=`${u}${c}?${g}`;return f.config.emulator?ne(f.config,A):`${f.config.apiScheme}://${A}`}function dn(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qt{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((c,g)=>{this.timer=setTimeout(()=>g(ue(this.auth,"network-request-failed")),Te.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $t(f,u,c){const g={appName:f.name};c.email&&(g.email=c.email),c.phoneNumber&&(g.phoneNumber=c.phoneNumber);const A=ue(f,u,g);return A.customData._tokenResponse=c,A}function Qe(f){return void 0!==f&&void 0!==f.getResponse}function zt(f){return void 0!==f&&void 0!==f.enterprise}class Hn{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const c of this.recaptchaEnforcementState)if(c.provider&&c.provider===u)return dn(c.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function Dr(){return(Dr=(0,v.Z)(function*(f){return(yield Ve(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Cr(f,u){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,v.Z)(function*(f,u){return Ve(f,"GET","/v2/recaptchaConfig",Se(f,u))})).apply(this,arguments)}function Ot(){return(Ot=(0,v.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function un(){return(un=(0,v.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Cn(f,u){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,v.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Gt(f){if(f)try{const u=new Date(Number(f));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function dt(){return(dt=(0,v.Z)(function*(f,u=!1){const c=(0,G.m9)(f),g=yield c.getIdToken(u),A=jt(g);we(A&&A.exp&&A.auth_time&&A.iat,c.auth,"internal-error");const k="object"==typeof A.firebase?A.firebase:void 0,Q=k?.sign_in_provider;return{claims:A,token:g,authTime:Gt(Hr(A.auth_time)),issuedAtTime:Gt(Hr(A.iat)),expirationTime:Gt(Hr(A.exp)),signInProvider:Q||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function Hr(f){return 1e3*Number(f)}function jt(f){const[u,c,g]=f.split(".");if(void 0===u||void 0===c||void 0===g)return de("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,G.tV)(c);return A?JSON.parse(A):(de("Failed to decode base64 JWT payload"),null)}catch(A){return de("Caught error parsing JWT payload as JSON",A?.toString()),null}}function wr(f){const u=jt(f);return we(u,"internal-error"),we(typeof u.exp<"u","internal-error"),we(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}function At(f,u){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,v.Z)(function*(f,u,c=!1){if(c)return u;try{return yield u}catch(g){throw g instanceof G.ZR&&function $r({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(g)&&f.auth.currentUser===f&&(yield f.auth.signOut()),g}})).apply(this,arguments)}class xr{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var c;if(u){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const A=(null!==(c=this.user.stsTokenManager.expirationTime)&&void 0!==c?c:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(u=!1){var c=this;if(!this.isRunning)return;const g=this.getInterval(u);this.timerId=setTimeout((0,v.Z)(function*(){yield c.iteration()}),g)}iteration(){var u=this;return(0,v.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(c){return void("auth/network-request-failed"===c?.code&&u.schedule(!0))}u.schedule()})()}}class ri{constructor(u,c){this.createdAt=u,this.lastLoginAt=c,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gt(this.lastLoginAt),this.creationTime=Gt(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sr(f){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,v.Z)(function*(f){var u;const c=f.auth,g=yield f.getIdToken(),A=yield At(f,Cn(c,{idToken:g}));we(A?.users.length,c,"internal-error");const k=A.users[0];f._notifyReloadListener(k);const Q=null!==(u=k.providerUserInfo)&&void 0!==u&&u.length?br(k.providerUserInfo):[],ce=function hr(f,u){return[...f.filter(g=>!u.some(A=>A.providerId===g.providerId)),...u]}(f.providerData,Q),ft=!!f.isAnonymous&&!(f.email&&k.passwordHash||ce?.length),lt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:ce,metadata:new ri(k.createdAt,k.lastLoginAt),isAnonymous:ft};Object.assign(f,lt)})).apply(this,arguments)}function or(){return(or=(0,v.Z)(function*(f){const u=(0,G.m9)(f);yield sr(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function br(f){return f.map(u=>{var{providerId:c}=u,g=(0,te._T)(u,["providerId"]);return{providerId:c,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}function j(){return(j=(0,v.Z)(function*(f,u){const c=yield In(f,{},(0,v.Z)(function*(){const g=(0,G.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:A,apiKey:k}=f.config,Q=an(f,A,"/v1/token",`key=${k}`),ce=yield f._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",_e.fetch()(Q,{method:"POST",headers:ce,body:g})}));return{accessToken:c.access_token,expiresIn:c.expires_in,refreshToken:c.refresh_token}})).apply(this,arguments)}function B(){return(B=(0,v.Z)(function*(f,u){return Ve(f,"POST","/v2/accounts:revokeToken",Se(f,u))})).apply(this,arguments)}class H{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){we(u.idToken,"internal-error"),we(typeof u.idToken<"u","internal-error"),we(typeof u.refreshToken<"u","internal-error");const c="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):wr(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,c)}updateFromIdToken(u){we(0!==u.length,"internal-error");const c=wr(u);this.updateTokensAndExpiration(u,null,c)}getToken(u,c=!1){var g=this;return(0,v.Z)(function*(){return c||!g.accessToken||g.isExpired?(we(g.refreshToken,u,"user-token-expired"),g.refreshToken?(yield g.refresh(u,g.refreshToken),g.accessToken):null):g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,c){var g=this;return(0,v.Z)(function*(){const{accessToken:A,refreshToken:k,expiresIn:Q}=yield function ee(f,u){return j.apply(this,arguments)}(u,c);g.updateTokensAndExpiration(A,k,Number(Q))})()}updateTokensAndExpiration(u,c,g){this.refreshToken=c||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(u,c){const{refreshToken:g,accessToken:A,expirationTime:k}=c,Q=new H;return g&&(we("string"==typeof g,"internal-error",{appName:u}),Q.refreshToken=g),A&&(we("string"==typeof A,"internal-error",{appName:u}),Q.accessToken=A),k&&(we("number"==typeof k,"internal-error",{appName:u}),Q.expirationTime=k),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new H,this.toJSON())}_performRefresh(){return rt("not implemented")}}function se(f,u){we("string"==typeof f||typeof f>"u","internal-error",{appName:u})}class Me{constructor(u){var{uid:c,auth:g,stsTokenManager:A}=u,k=(0,te._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=c,this.auth=g,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new ri(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(u){var c=this;return(0,v.Z)(function*(){const g=yield At(c,c.stsTokenManager.getToken(c.auth,u));return we(g,c.auth,"internal-error"),c.accessToken!==g&&(c.accessToken=g,yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)),g})()}getIdTokenResult(u){return function is(f){return dt.apply(this,arguments)}(this,u)}reload(){return function bi(f){return or.apply(this,arguments)}(this)}_assign(u){this!==u&&(we(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(c=>Object.assign({},c)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const c=new Me(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return c.metadata._copy(this.metadata),c}_onReload(u){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,c=!1){var g=this;return(0,v.Z)(function*(){let A=!1;u.idToken&&u.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(u),A=!0),c&&(yield sr(g)),yield g.auth._persistUserIfCurrent(g),A&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var u=this;return(0,v.Z)(function*(){if((0,z._isFirebaseServerApp)(u.auth.app))return Promise.reject(Re(u.auth));const c=yield u.getIdToken();return yield At(u,function vt(f,u){return Ot.apply(this,arguments)}(u.auth,{idToken:c})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,c){var g,A,k,Q,ce,Ae,Xe,ft;const lt=null!==(g=c.displayName)&&void 0!==g?g:void 0,zn=null!==(A=c.email)&&void 0!==A?A:void 0,ir=null!==(k=c.phoneNumber)&&void 0!==k?k:void 0,ol=null!==(Q=c.photoURL)&&void 0!==Q?Q:void 0,Nc=null!==(ce=c.tenantId)&&void 0!==ce?ce:void 0,Oc=null!==(Ae=c._redirectEventId)&&void 0!==Ae?Ae:void 0,xc=null!==(Xe=c.createdAt)&&void 0!==Xe?Xe:void 0,pa=null!==(ft=c.lastLoginAt)&&void 0!==ft?ft:void 0,{uid:kc,emailVerified:Ll,isAnonymous:Lc,providerData:Fl,stsTokenManager:al}=c;we(kc&&al,u,"internal-error");const Ul=H.fromJSON(this.name,al);we("string"==typeof kc,u,"internal-error"),se(lt,u.name),se(zn,u.name),we("boolean"==typeof Ll,u,"internal-error"),we("boolean"==typeof Lc,u,"internal-error"),se(ir,u.name),se(ol,u.name),se(Nc,u.name),se(Oc,u.name),se(xc,u.name),se(pa,u.name);const Po=new Me({uid:kc,auth:u,email:zn,emailVerified:Ll,displayName:lt,isAnonymous:Lc,photoURL:ol,phoneNumber:ir,tenantId:Nc,stsTokenManager:Ul,createdAt:xc,lastLoginAt:pa});return Fl&&Array.isArray(Fl)&&(Po.providerData=Fl.map(ga=>Object.assign({},ga))),Oc&&(Po._redirectEventId=Oc),Po}static _fromIdTokenResponse(u,c,g=!1){return(0,v.Z)(function*(){const A=new H;A.updateFromServerResponse(c);const k=new Me({uid:c.localId,auth:u,stsTokenManager:A,isAnonymous:g});return yield sr(k),k})()}static _fromGetAccountInfoResponse(u,c,g){return(0,v.Z)(function*(){const A=c.users[0];we(void 0!==A.localId,"internal-error");const k=void 0!==A.providerUserInfo?br(A.providerUserInfo):[],Q=!(A.email&&A.passwordHash||k?.length),ce=new H;ce.updateFromIdToken(g);const Ae=new Me({uid:A.localId,auth:u,stsTokenManager:ce,isAnonymous:Q}),Xe={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:k,metadata:new ri(A.createdAt,A.lastLoginAt),isAnonymous:!(A.email&&A.passwordHash||k?.length)};return Object.assign(Ae,Xe),Ae})()}}const Je=new Map;function ut(f){yt(f instanceof Function,"Expected a class definition");let u=Je.get(f);return u?(yt(u instanceof f,"Instance stored in cache mismatched with class"),u):(u=new f,Je.set(f,u),u)}const mt=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,v.Z)(function*(){return!0})()}_set(c,g){var A=this;return(0,v.Z)(function*(){A.storage[c]=g})()}_get(c){var g=this;return(0,v.Z)(function*(){const A=g.storage[c];return void 0===A?null:A})()}_remove(c){var g=this;return(0,v.Z)(function*(){delete g.storage[c]})()}_addListener(c,g){}_removeListener(c,g){}}return f.type="NONE",f})();function ht(f,u,c){return`firebase:${f}:${u}:${c}`}class tn{constructor(u,c,g){this.persistence=u,this.auth=c,this.userKey=g;const{config:A,name:k}=this.auth;this.fullUserKey=ht(this.userKey,A.apiKey,k),this.fullPersistenceKey=ht("persistence",A.apiKey,k),this.boundEventHandler=c._onStorageEvent.bind(c),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,v.Z)(function*(){const c=yield u.persistence._get(u.fullUserKey);return c?Me._fromJSON(u.auth,c):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var c=this;return(0,v.Z)(function*(){if(c.persistence===u)return;const g=yield c.getCurrentUser();return yield c.removeCurrentUser(),c.persistence=u,g?c.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,c,g="authUser"){return(0,v.Z)(function*(){if(!c.length)return new tn(ut(mt),u,g);const A=(yield Promise.all(c.map(function(){var Xe=(0,v.Z)(function*(ft){if(yield ft._isAvailable())return ft});return function(ft){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let k=A[0]||ut(mt);const Q=ht(g,u.config.apiKey,u.name);let ce=null;for(const Xe of c)try{const ft=yield Xe._get(Q);if(ft){const lt=Me._fromJSON(u,ft);Xe!==k&&(ce=lt),k=Xe;break}}catch{}const Ae=A.filter(Xe=>Xe._shouldAllowMigration);return k._shouldAllowMigration&&Ae.length?(k=Ae[0],ce&&(yield k._set(Q,ce.toJSON())),yield Promise.all(c.map(function(){var Xe=(0,v.Z)(function*(ft){if(ft!==k)try{yield ft._remove(Q)}catch{}});return function(ft){return Xe.apply(this,arguments)}}())),new tn(k,u,g)):new tn(k,u,g)})()}}function fr(f){const u=f.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(ar(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(ii(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(_r(u))return"Blackberry";if($n(u))return"Webos";if(Ss(u))return"Safari";if((u.includes("chrome/")||As(u))&&!u.includes("edge/"))return"Chrome";if(Wr(u))return"Android";{const g=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function ii(f=(0,G.z$)()){return/firefox\//i.test(f)}function Ss(f=(0,G.z$)()){const u=f.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function As(f=(0,G.z$)()){return/crios\//i.test(f)}function ar(f=(0,G.z$)()){return/iemobile/i.test(f)}function Wr(f=(0,G.z$)()){return/android/i.test(f)}function _r(f=(0,G.z$)()){return/blackberry/i.test(f)}function $n(f=(0,G.z$)()){return/webos/i.test(f)}function le(f=(0,G.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function _t(f=(0,G.z$)()){return le(f)||Wr(f)||$n(f)||_r(f)||/windows phone/i.test(f)||ar(f)}function Rt(f,u=[]){let c;switch(f){case"Browser":c=fr((0,G.z$)());break;case"Worker":c=`${fr((0,G.z$)())}-${f}`;break;default:c=f}const g=u.length?u.join(","):"FirebaseCore-web";return`${c}/JsCore/${z.SDK_VERSION}/${g}`}class gn{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,c){const g=k=>new Promise((Q,ce)=>{try{Q(u(k))}catch(Ae){ce(Ae)}});g.onAbort=c,this.queue.push(g);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(u){var c=this;return(0,v.Z)(function*(){if(c.auth.currentUser===u)return;const g=[];try{for(const A of c.queue)yield A(u),A.onAbort&&g.push(A.onAbort)}catch(A){g.reverse();for(const k of g)try{k()}catch{}throw c.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}function Sn(){return(Sn=(0,v.Z)(function*(f,u={}){return Ve(f,"GET","/v2/passwordPolicy",Se(f,u))})).apply(this,arguments)}class ao{constructor(u){var c,g,A,k;const Q=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(c=Q.minPasswordLength)&&void 0!==c?c:6,Q.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Q.maxPasswordLength),void 0!==Q.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Q.containsLowercaseCharacter),void 0!==Q.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Q.containsUppercaseCharacter),void 0!==Q.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Q.containsNumericCharacter),void 0!==Q.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Q.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(A=null===(g=u.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==A?A:"",this.forceUpgradeOnSignin=null!==(k=u.forceUpgradeOnSignin)&&void 0!==k&&k,this.schemaVersion=u.schemaVersion}validatePassword(u){var c,g,A,k,Q,ce;const Ae={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,Ae),this.validatePasswordCharacterOptions(u,Ae),Ae.isValid&&(Ae.isValid=null===(c=Ae.meetsMinPasswordLength)||void 0===c||c),Ae.isValid&&(Ae.isValid=null===(g=Ae.meetsMaxPasswordLength)||void 0===g||g),Ae.isValid&&(Ae.isValid=null===(A=Ae.containsLowercaseLetter)||void 0===A||A),Ae.isValid&&(Ae.isValid=null===(k=Ae.containsUppercaseLetter)||void 0===k||k),Ae.isValid&&(Ae.isValid=null===(Q=Ae.containsNumericCharacter)||void 0===Q||Q),Ae.isValid&&(Ae.isValid=null===(ce=Ae.containsNonAlphanumericCharacter)||void 0===ce||ce),Ae}validatePasswordLengthOptions(u,c){const g=this.customStrengthOptions.minPasswordLength,A=this.customStrengthOptions.maxPasswordLength;g&&(c.meetsMinPasswordLength=u.length>=g),A&&(c.meetsMaxPasswordLength=u.length<=A)}validatePasswordCharacterOptions(u,c){let g;this.updatePasswordCharacterOptionsStatuses(c,!1,!1,!1,!1);for(let A=0;A<u.length;A++)g=u.charAt(A),this.updatePasswordCharacterOptionsStatuses(c,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(u,c,g,A,k){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=c)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=A)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=k))}}class ss{constructor(u,c,g,A){this.app=u,this.heartbeatServiceProvider=c,this.appCheckServiceProvider=g,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new os(this),this.idTokenSubscription=new os(this),this.beforeStateQueue=new gn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ke,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(u,c){var g=this;return c&&(this._popupRedirectResolver=ut(c)),this._initializationPromise=this.queue((0,v.Z)(function*(){var A,k;if(!g._deleted&&(g.persistenceManager=yield tn.create(g,u),!g._deleted)){if(null!==(A=g._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(c),g.lastNotifiedUid=(null===(k=g.currentUser)||void 0===k?void 0:k.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,v.Z)(function*(){if(u._deleted)return;const c=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||c){if(u.currentUser&&c&&u.currentUser.uid===c.uid)return u._currentUser._assign(c),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(c,!0)}})()}initializeCurrentUserFromIdToken(u){var c=this;return(0,v.Z)(function*(){try{const g=yield Cn(c,{idToken:u}),A=yield Me._fromGetAccountInfoResponse(c,g,u);yield c.directlySetCurrentUser(A)}catch(g){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",g),yield c.directlySetCurrentUser(null)}})()}initializeCurrentUser(u){var c=this;return(0,v.Z)(function*(){var g;if((0,z._isFirebaseServerApp)(c.app)){const ce=c.app.settings.authIdToken;return ce?new Promise(Ae=>{setTimeout(()=>c.initializeCurrentUserFromIdToken(ce).then(Ae,Ae))}):c.directlySetCurrentUser(null)}const A=yield c.assertedPersistence.getCurrentUser();let k=A,Q=!1;if(u&&c.config.authDomain){yield c.getOrInitRedirectPersistenceManager();const ce=null===(g=c.redirectUser)||void 0===g?void 0:g._redirectEventId,Ae=k?._redirectEventId,Xe=yield c.tryRedirectSignIn(u);(!ce||ce===Ae)&&Xe?.user&&(k=Xe.user,Q=!0)}if(!k)return c.directlySetCurrentUser(null);if(!k._redirectEventId){if(Q)try{yield c.beforeStateQueue.runMiddleware(k)}catch(ce){k=A,c._popupRedirectResolver._overrideRedirectResult(c,()=>Promise.reject(ce))}return k?c.reloadAndSetCurrentUserOrClear(k):c.directlySetCurrentUser(null)}return we(c._popupRedirectResolver,c,"argument-error"),yield c.getOrInitRedirectPersistenceManager(),c.redirectUser&&c.redirectUser._redirectEventId===k._redirectEventId?c.directlySetCurrentUser(k):c.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(u){var c=this;return(0,v.Z)(function*(){let g=null;try{g=yield c._popupRedirectResolver._completeRedirectFn(c,u,!0)}catch{yield c._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(u){var c=this;return(0,v.Z)(function*(){try{yield sr(u)}catch(g){if("auth/network-request-failed"!==g?.code)return c.directlySetCurrentUser(null)}return c.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function it(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var u=this;return(0,v.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var c=this;return(0,v.Z)(function*(){if((0,z._isFirebaseServerApp)(c.app))return Promise.reject(Re(c));const g=u?(0,G.m9)(u):null;return g&&we(g.auth.config.apiKey===c.config.apiKey,c,"invalid-user-token"),c._updateCurrentUser(g&&g._clone(c))})()}_updateCurrentUser(u,c=!1){var g=this;return(0,v.Z)(function*(){if(!g._deleted)return u&&we(g.tenantId===u.tenantId,g,"tenant-id-mismatch"),c||(yield g.beforeStateQueue.runMiddleware(u)),g.queue((0,v.Z)(function*(){yield g.directlySetCurrentUser(u),g.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,v.Z)(function*(){return(0,z._isFirebaseServerApp)(u.app)?Promise.reject(Re(u)):(yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0))})()}setPersistence(u){var c=this;return(0,z._isFirebaseServerApp)(this.app)?Promise.reject(Re(this)):this.queue((0,v.Z)(function*(){yield c.assertedPersistence.setPersistence(ut(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var c=this;return(0,v.Z)(function*(){c._getPasswordPolicyInternal()||(yield c._updatePasswordPolicy());const g=c._getPasswordPolicyInternal();return g.schemaVersion!==c.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(c._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,v.Z)(function*(){const c=yield function ln(f){return Sn.apply(this,arguments)}(u),g=new ao(c);null===u.tenantId?u._projectPasswordPolicy=g:u._tenantPasswordPolicies[u.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new G.LL("auth","Firebase",u())}onAuthStateChanged(u,c,g){return this.registerStateListener(this.authStateSubscription,u,c,g)}beforeAuthStateChanged(u,c){return this.beforeStateQueue.pushCallback(u,c)}onIdTokenChanged(u,c,g){return this.registerStateListener(this.idTokenSubscription,u,c,g)}authStateReady(){return new Promise((u,c)=>{if(this.currentUser)u();else{const g=this.onAuthStateChanged(()=>{g(),u()},c)}})}revokeAccessToken(u){var c=this;return(0,v.Z)(function*(){if(c.currentUser){const g=yield c.currentUser.getIdToken(),A={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:g};null!=c.tenantId&&(A.tenantId=c.tenantId),yield function V(f,u){return B.apply(this,arguments)}(c,A)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,c){var g=this;return(0,v.Z)(function*(){const A=yield g.getOrInitRedirectPersistenceManager(c);return null===u?A.removeCurrentUser():A.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var c=this;return(0,v.Z)(function*(){if(!c.redirectPersistenceManager){const g=u&&ut(u)||c._popupRedirectResolver;we(g,c,"argument-error"),c.redirectPersistenceManager=yield tn.create(c,[ut(g._redirectPersistence)],"redirectUser"),c.redirectUser=yield c.redirectPersistenceManager.getCurrentUser()}return c.redirectPersistenceManager})()}_redirectUserForId(u){var c=this;return(0,v.Z)(function*(){var g,A;return c._isInitialized&&(yield c.queue((0,v.Z)(function*(){}))),(null===(g=c._currentUser)||void 0===g?void 0:g._redirectEventId)===u?c._currentUser:(null===(A=c.redirectUser)||void 0===A?void 0:A._redirectEventId)===u?c.redirectUser:null})()}_persistUserIfCurrent(u){var c=this;return(0,v.Z)(function*(){if(u===c.currentUser)return c.queue((0,v.Z)(function*(){return c.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,c;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(c=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==c?c:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,c,g,A){if(this._deleted)return()=>{};const k="function"==typeof c?c:c.next.bind(c);let Q=!1;const ce=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(ce,this,"internal-error"),ce.then(()=>{Q||k(this.currentUser)}),"function"==typeof c){const Ae=u.addObserver(c,g,A);return()=>{Q=!0,Ae()}}{const Ae=u.addObserver(c);return()=>{Q=!0,Ae()}}}directlySetCurrentUser(u){var c=this;return(0,v.Z)(function*(){c.currentUser&&c.currentUser!==u&&c._currentUser._stopProactiveRefresh(),u&&c.isProactiveRefreshEnabled&&u._startProactiveRefresh(),c.currentUser=u,u?yield c.assertedPersistence.setCurrentUser(u):yield c.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Rt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,v.Z)(function*(){var c;const g={"X-Client-Version":u.clientVersion};u.app.options.appId&&(g["X-Firebase-gmpid"]=u.app.options.appId);const A=yield null===(c=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===c?void 0:c.getHeartbeatsHeader();A&&(g["X-Firebase-Client"]=A);const k=yield u._getAppCheckToken();return k&&(g["X-Firebase-AppCheck"]=k),g})()}_getAppCheckToken(){var u=this;return(0,v.Z)(function*(){var c;const g=yield null===(c=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===c?void 0:c.getToken();return g?.error&&function ct(f,...u){gt.logLevel<=ie.in.WARN&&gt.warn(`Auth (${z.SDK_VERSION}): ${f}`,...u)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function hn(f){return(0,G.m9)(f)}class os{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,G.ne)(c=>this.observer=c)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let as={loadJS:()=>(0,v.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rs(f){return as.loadJS(f)}function kr(f){return`__${f}${Math.floor(1e6*Math.random())}`}class Ps{constructor(u){this.type="recaptcha-enterprise",this.auth=hn(u)}verify(u="verify",c=!1){var g=this;return(0,v.Z)(function*(){function k(){return k=(0,v.Z)(function*(ce){if(!c){if(null==ce.tenantId&&null!=ce._agentRecaptchaConfig)return ce._agentRecaptchaConfig.siteKey;if(null!=ce.tenantId&&void 0!==ce._tenantRecaptchaConfigs[ce.tenantId])return ce._tenantRecaptchaConfigs[ce.tenantId].siteKey}return new Promise(function(){var Ae=(0,v.Z)(function*(Xe,ft){Cr(ce,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(lt=>{if(void 0!==lt.recaptchaKey){const zn=new Hn(lt);return null==ce.tenantId?ce._agentRecaptchaConfig=zn:ce._tenantRecaptchaConfigs[ce.tenantId]=zn,Xe(zn.siteKey)}ft(new Error("recaptcha Enterprise site key undefined"))}).catch(lt=>{ft(lt)})});return function(Xe,ft){return Ae.apply(this,arguments)}}())}),k.apply(this,arguments)}function Q(ce,Ae,Xe){const ft=window.grecaptcha;zt(ft)?ft.enterprise.ready(()=>{ft.enterprise.execute(ce,{action:u}).then(lt=>{Ae(lt)}).catch(()=>{Ae("NO_RECAPTCHA")})}):Xe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ce,Ae)=>{(function A(ce){return k.apply(this,arguments)})(g.auth).then(Xe=>{if(!c&&zt(window.grecaptcha))Q(Xe,ce,Ae);else{if(typeof window>"u")return void Ae(new Error("RecaptchaVerifier is only supported in browser"));let ft=function Jn(){return as.recaptchaEnterpriseScript}();0!==ft.length&&(ft+=Xe),Rs(ft).then(()=>{Q(Xe,ce,Ae)}).catch(lt=>{Ae(lt)})}}).catch(Xe=>{Ae(Xe)})})})()}}function us(f,u,c){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,v.Z)(function*(f,u,c,g=!1){const A=new Ps(f);let k;try{k=yield A.verify(c)}catch{k=yield A.verify(c,!0)}const Q=Object.assign({},u);return Object.assign(Q,g?{captchaResp:k}:{captchaResponse:k}),Object.assign(Q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Q})).apply(this,arguments)}function Vi(f,u,c,g){return Tr.apply(this,arguments)}function Tr(){return Tr=(0,v.Z)(function*(f,u,c,g){var A;if(null!==(A=f._getRecaptchaConfig())&&void 0!==A&&A.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const k=yield us(f,u,c,"getOobCode"===c);return g(f,k)}return g(f,u).catch(function(){var k=(0,v.Z)(function*(Q){if("auth/missing-recaptcha-token"===Q.code){console.log(`${c} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ce=yield us(f,u,c,"getOobCode"===c);return g(f,ce)}return Promise.reject(Q)});return function(Q){return k.apply(this,arguments)}}())}),Tr.apply(this,arguments)}function lo(f){const u=f.indexOf(":");return u<0?"":f.substr(0,u+1)}function ko(f){if(!f)return null;const u=Number(f);return isNaN(u)?null:u}class _i{constructor(u,c){this.providerId=u,this.signInMethod=c}toJSON(){return rt("not implemented")}_getIdTokenResponse(u){return rt("not implemented")}_linkToIdToken(u,c){return rt("not implemented")}_getReauthenticationResolver(u){return rt("not implemented")}}function xt(f,u){return Un.apply(this,arguments)}function Un(){return(Un=(0,v.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:resetPassword",Se(f,u))})).apply(this,arguments)}function vi(){return(vi=(0,v.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function er(f,u){return Os.apply(this,arguments)}function Os(){return(Os=(0,v.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function yi(){return(yi=(0,v.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:update",Se(f,u))})).apply(this,arguments)}function zr(f,u){return ai.apply(this,arguments)}function ai(){return(ai=(0,v.Z)(function*(f,u){return Lt(f,"POST","/v1/accounts:signInWithPassword",Se(f,u))})).apply(this,arguments)}function yn(f,u){return et.apply(this,arguments)}function et(){return(et=(0,v.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:sendOobCode",Se(f,u))})).apply(this,arguments)}function en(){return(en=(0,v.Z)(function*(f,u){return yn(f,u)})).apply(this,arguments)}function pr(f,u){return cs.apply(this,arguments)}function cs(){return(cs=(0,v.Z)(function*(f,u){return yn(f,u)})).apply(this,arguments)}function qn(f,u){return ui.apply(this,arguments)}function ui(){return(ui=(0,v.Z)(function*(f,u){return yn(f,u)})).apply(this,arguments)}function Fr(){return(Fr=(0,v.Z)(function*(f,u){return yn(f,u)})).apply(this,arguments)}function bt(){return(bt=(0,v.Z)(function*(f,u){return Lt(f,"POST","/v1/accounts:signInWithEmailLink",Se(f,u))})).apply(this,arguments)}function xs(){return(xs=(0,v.Z)(function*(f,u){return Lt(f,"POST","/v1/accounts:signInWithEmailLink",Se(f,u))})).apply(this,arguments)}class Sr extends _i{constructor(u,c,g,A=null){super("password",g),this._email=u,this._password=c,this._tenantId=A}static _fromEmailAndPassword(u,c){return new Sr(u,c,"password")}static _fromEmailAndCode(u,c,g=null){return new Sr(u,c,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u;if(c?.email&&c?.password){if("password"===c.signInMethod)return this._fromEmailAndPassword(c.email,c.password);if("emailLink"===c.signInMethod)return this._fromEmailAndCode(c.email,c.password,c.tenantId)}return null}_getIdTokenResponse(u){var c=this;return(0,v.Z)(function*(){switch(c.signInMethod){case"password":return Vi(u,{returnSecureToken:!0,email:c._email,password:c._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",zr);case"emailLink":return function Ti(f,u){return bt.apply(this,arguments)}(u,{email:c._email,oobCode:c._password});default:N(u,"internal-error")}})()}_linkToIdToken(u,c){var g=this;return(0,v.Z)(function*(){switch(g.signInMethod){case"password":return Vi(u,{idToken:c,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",er);case"emailLink":return function Hi(f,u){return xs.apply(this,arguments)}(u,{idToken:c,email:g._email,oobCode:g._password});default:N(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function fn(f,u){return ks.apply(this,arguments)}function ks(){return(ks=(0,v.Z)(function*(f,u){return Lt(f,"POST","/v1/accounts:signInWithIdp",Se(f,u))})).apply(this,arguments)}class Gn extends _i{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const c=new Gn(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(c.idToken=u.idToken),u.accessToken&&(c.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(c.nonce=u.nonce),u.pendingToken&&(c.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(c.accessToken=u.oauthToken,c.secret=u.oauthTokenSecret):N("argument-error"),c}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:A}=c,k=(0,te._T)(c,["providerId","signInMethod"]);if(!g||!A)return null;const Q=new Gn(g,A);return Q.idToken=k.idToken||void 0,Q.accessToken=k.accessToken||void 0,Q.secret=k.secret,Q.nonce=k.nonce,Q.pendingToken=k.pendingToken||null,Q}_getIdTokenResponse(u){return fn(u,this.buildRequest())}_linkToIdToken(u,c){const g=this.buildRequest();return g.idToken=c,fn(u,g)}_getReauthenticationResolver(u){const c=this.buildRequest();return c.autoCreate=!1,fn(u,c)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const c={};this.idToken&&(c.id_token=this.idToken),this.accessToken&&(c.access_token=this.accessToken),this.secret&&(c.oauth_token_secret=this.secret),c.providerId=this.providerId,this.nonce&&!this.pendingToken&&(c.nonce=this.nonce),u.postBody=(0,G.xO)(c)}return u}}function Fs(){return(Fs=(0,v.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:sendVerificationCode",Se(f,u))})).apply(this,arguments)}function Gr(){return(Gr=(0,v.Z)(function*(f,u){return Lt(f,"POST","/v1/accounts:signInWithPhoneNumber",Se(f,u))})).apply(this,arguments)}function Wi(){return(Wi=(0,v.Z)(function*(f,u){const c=yield Lt(f,"POST","/v1/accounts:signInWithPhoneNumber",Se(f,u));if(c.temporaryProof)throw $t(f,"account-exists-with-different-credential",c);return c})).apply(this,arguments)}const Vt={USER_NOT_FOUND:"user-not-found"};function Lo(){return(Lo=(0,v.Z)(function*(f,u){return Lt(f,"POST","/v1/accounts:signInWithPhoneNumber",Se(f,Object.assign(Object.assign({},u),{operation:"REAUTH"})),Vt)})).apply(this,arguments)}class Zr extends _i{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,c){return new Zr({verificationId:u,verificationCode:c})}static _fromTokenResponse(u,c){return new Zr({phoneNumber:u,temporaryProof:c})}_getIdTokenResponse(u){return function Ii(f,u){return Gr.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,c){return function $i(f,u){return Wi.apply(this,arguments)}(u,Object.assign({idToken:c},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function vl(f,u){return Lo.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:c,verificationId:g,verificationCode:A}=this.params;return u&&c?{temporaryProof:u,phoneNumber:c}:{sessionInfo:g,code:A}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:c,verificationCode:g,phoneNumber:A,temporaryProof:k}=u;return g||c||A||k?new Zr({verificationId:c,verificationCode:g,phoneNumber:A,temporaryProof:k}):null}}class li{constructor(u){var c,g,A,k,Q,ce;const Ae=(0,G.zd)((0,G.pd)(u)),Xe=null!==(c=Ae.apiKey)&&void 0!==c?c:null,ft=null!==(g=Ae.oobCode)&&void 0!==g?g:null,lt=function Si(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ae.mode)&&void 0!==A?A:null);we(Xe&&ft&&lt,"argument-error"),this.apiKey=Xe,this.operation=lt,this.code=ft,this.continueUrl=null!==(k=Ae.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(Q=Ae.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(ce=Ae.tenantId)&&void 0!==ce?ce:null}static parseLink(u){const c=function Au(f){const u=(0,G.zd)((0,G.pd)(f)).link,c=u?(0,G.zd)((0,G.pd)(u)).deep_link_id:null,g=(0,G.zd)((0,G.pd)(f)).deep_link_id;return(g?(0,G.zd)((0,G.pd)(g)).link:null)||g||c||u||f}(u);try{return new li(c)}catch{return null}}}let Bn=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(c,g){return Sr._fromEmailAndPassword(c,g)}static credentialWithLink(c,g){const A=li.parseLink(g);return we(A,"argument-error"),Sr._fromEmailAndCode(c,A.code,A.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Ai{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class xn extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Wt extends xn{static credentialFromJSON(u){const c="string"==typeof u?JSON.parse(u):u;return we("providerId"in c&&"signInMethod"in c,"argument-error"),Gn._fromParams(c)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return we(u.idToken||u.accessToken,"argument-error"),Gn._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Wt.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Wt.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:c,oauthAccessToken:g,oauthTokenSecret:A,pendingToken:k,nonce:Q,providerId:ce}=u;if(!g&&!A&&!c&&!k||!ce)return null;try{return new Wt(ce)._credential({idToken:c,accessToken:g,nonce:Q,pendingToken:k})}catch{return null}}}let Us=(()=>{class f extends xn{constructor(){super("facebook.com")}static credential(c){return Gn._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return f.credentialFromTaggedObject(c)}static credentialFromError(c){return f.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return f.credential(c.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),Ur=(()=>{class f extends xn{constructor(){super("google.com"),this.addScope("profile")}static credential(c,g){return Gn._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:c,accessToken:g})}static credentialFromResult(c){return f.credentialFromTaggedObject(c)}static credentialFromError(c){return f.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:g,oauthAccessToken:A}=c;if(!g&&!A)return null;try{return f.credential(g,A)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),Uo=(()=>{class f extends xn{constructor(){super("github.com")}static credential(c){return Gn._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return f.credentialFromTaggedObject(c)}static credentialFromError(c){return f.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return f.credential(c.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class Ri extends _i{constructor(u,c){super(u,u),this.pendingToken=c}_getIdTokenResponse(u){return fn(u,this.buildRequest())}_linkToIdToken(u,c){const g=this.buildRequest();return g.idToken=c,fn(u,g)}_getReauthenticationResolver(u){const c=this.buildRequest();return c.autoCreate=!1,fn(u,c)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:A,pendingToken:k}=c;return g&&A&&k&&g===A?new Ri(g,k):null}static _create(u,c){return new Ri(u,c)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ds extends Ai{constructor(u){we(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return ds.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return ds.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const c=Ri.fromJSON(u);return we(c,"argument-error"),c}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:c,providerId:g}=u;if(!c||!g)return null;try{return Ri._create(g,c)}catch{return null}}}let Ru=(()=>{class f extends xn{constructor(){super("twitter.com")}static credential(c,g){return Gn._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:c,oauthTokenSecret:g})}static credentialFromResult(c){return f.credentialFromTaggedObject(c)}static credentialFromError(c){return f.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthAccessToken:g,oauthTokenSecret:A}=c;if(!g||!A)return null;try{return f.credential(g,A)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Ta(f,u){return Di.apply(this,arguments)}function Di(){return(Di=(0,v.Z)(function*(f,u){return Lt(f,"POST","/v1/accounts:signUp",Se(f,u))})).apply(this,arguments)}class Qn{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,c,g,A=!1){return(0,v.Z)(function*(){const k=yield Me._fromIdTokenResponse(u,g,A),Q=yl(g);return new Qn({user:k,providerId:Q,_tokenResponse:g,operationType:c})})()}static _forOperation(u,c,g){return(0,v.Z)(function*(){yield u._updateTokensIfNecessary(g,!0);const A=yl(g);return new Qn({user:u,providerId:A,_tokenResponse:g,operationType:c})})()}}function yl(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function mn(){return(mn=(0,v.Z)(function*(f){var u;if((0,z._isFirebaseServerApp)(f.app))return Promise.reject(Re(f));const c=hn(f);if(yield c._initializationPromise,null!==(u=c.currentUser)&&void 0!==u&&u.isAnonymous)return new Qn({user:c.currentUser,providerId:null,operationType:"signIn"});const g=yield Ta(c,{returnSecureToken:!0}),A=yield Qn._fromIdTokenResponse(c,"signIn",g,!0);return yield c._updateCurrentUser(A.user),A})).apply(this,arguments)}class hs extends G.ZR{constructor(u,c,g,A){var k;super(c.code,c.message),this.operationType=g,this.user=A,Object.setPrototypeOf(this,hs.prototype),this.customData={appName:u.name,tenantId:null!==(k=u.tenantId)&&void 0!==k?k:void 0,_serverResponse:c.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(u,c,g,A){return new hs(u,c,g,A)}}function El(f,u,c,g){return("reauthenticate"===u?c._getReauthenticationResolver(f):c._getIdTokenResponse(f)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?hs._fromErrorAndOperation(f,k,u,g):k})}function Xl(f){return new Set(f.map(({providerId:u})=>u).filter(u=>!!u))}function Mu(){return Mu=(0,v.Z)(function*(f,u){const c=(0,G.m9)(f);yield Aa(!0,c,u);const{providerUserInfo:g}=yield function It(f,u){return un.apply(this,arguments)}(c.auth,{idToken:yield c.getIdToken(),deleteProvider:[u]}),A=Xl(g||[]);return c.providerData=c.providerData.filter(k=>A.has(k.providerId)),A.has("phone")||(c.phoneNumber=null),yield c.auth._persistUserIfCurrent(c),c}),Mu.apply(this,arguments)}function Pu(f,u){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,v.Z)(function*(f,u,c=!1){const g=yield At(f,u._linkToIdToken(f.auth,yield f.getIdToken()),c);return Qn._forOperation(f,"link",g)})).apply(this,arguments)}function Aa(f,u,c){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,v.Z)(function*(f,u,c){yield sr(u);const A=!1===f?"provider-already-linked":"no-such-provider";we(Xl(u.providerData).has(c)===f,u.auth,A)})).apply(this,arguments)}function jo(f,u){return ho.apply(this,arguments)}function ho(){return(ho=(0,v.Z)(function*(f,u,c=!1){const{auth:g}=f;if((0,z._isFirebaseServerApp)(g.app))return Promise.reject(Re(g));const A="reauthenticate";try{const k=yield At(f,El(g,A,u,f),c);we(k.idToken,g,"internal-error");const Q=jt(k.idToken);we(Q,g,"internal-error");const{sub:ce}=Q;return we(f.uid===ce,g,"user-mismatch"),Qn._forOperation(f,A,k)}catch(k){throw"auth/user-not-found"===k?.code&&N(g,"user-mismatch"),k}})).apply(this,arguments)}function zi(f,u){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,v.Z)(function*(f,u,c=!1){if((0,z._isFirebaseServerApp)(f.app))return Promise.reject(Re(f));const g="signIn",A=yield El(f,g,u),k=yield Qn._fromIdTokenResponse(f,g,A);return c||(yield f._updateCurrentUser(k.user)),k})).apply(this,arguments)}function ci(f,u){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,v.Z)(function*(f,u){return zi(hn(f),u)})).apply(this,arguments)}function fo(f,u){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,v.Z)(function*(f,u){const c=(0,G.m9)(f);return yield Aa(!1,c,u.providerId),Pu(c,u)})).apply(this,arguments)}function Xn(f,u){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,v.Z)(function*(f,u){return jo((0,G.m9)(f),u)})).apply(this,arguments)}function Bs(){return(Bs=(0,v.Z)(function*(f,u){return Lt(f,"POST","/v1/accounts:signInWithCustomToken",Se(f,u))})).apply(this,arguments)}function po(){return po=(0,v.Z)(function*(f,u){if((0,z._isFirebaseServerApp)(f.app))return Promise.reject(Re(f));const c=hn(f),g=yield function gr(f,u){return Bs.apply(this,arguments)}(c,{token:u,returnSecureToken:!0}),A=yield Qn._fromIdTokenResponse(c,"signIn",g);return yield c._updateCurrentUser(A.user),A}),po.apply(this,arguments)}class Yr{constructor(u,c){this.factorId=u,this.uid=c.mfaEnrollmentId,this.enrollmentTime=new Date(c.enrolledAt).toUTCString(),this.displayName=c.displayName}static _fromServerResponse(u,c){return"phoneInfo"in c?qr._fromServerResponse(u,c):"totpInfo"in c?di._fromServerResponse(u,c):N(u,"internal-error")}}class qr extends Yr{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,c){return new qr(c)}}class di extends Yr{constructor(u){super("totp",u)}static _fromServerResponse(u,c){return new di(c)}}function Qr(f,u,c){var g;we((null===(g=c.url)||void 0===g?void 0:g.length)>0,f,"invalid-continue-uri"),we(typeof c.dynamicLinkDomain>"u"||c.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),u.continueUrl=c.url,u.dynamicLinkDomain=c.dynamicLinkDomain,u.canHandleCodeInApp=c.handleCodeInApp,c.iOS&&(we(c.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),u.iOSBundleId=c.iOS.bundleId),c.android&&(we(c.android.packageName.length>0,f,"missing-android-pkg-name"),u.androidInstallApp=c.android.installApp,u.androidMinimumVersionCode=c.android.minimumVersion,u.androidPackageName=c.android.packageName)}function js(f){return go.apply(this,arguments)}function go(){return(go=(0,v.Z)(function*(f){const u=hn(f);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function Xr(){return(Xr=(0,v.Z)(function*(f,u,c){const g=hn(f),A={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};c&&Qr(g,A,c),yield Vi(g,A,"getOobCode",pr)})).apply(this,arguments)}function hi(){return hi=(0,v.Z)(function*(f,u,c){yield xt((0,G.m9)(f),{oobCode:u,newPassword:c}).catch(function(){var g=(0,v.Z)(function*(A){throw"auth/password-does-not-meet-requirements"===A.code&&js(f),A});return function(A){return g.apply(this,arguments)}}())}),hi.apply(this,arguments)}function Pi(){return Pi=(0,v.Z)(function*(f,u){yield function co(f,u){return yi.apply(this,arguments)}((0,G.m9)(f),{oobCode:u})}),Pi.apply(this,arguments)}function Ho(f,u){return fi.apply(this,arguments)}function fi(){return(fi=(0,v.Z)(function*(f,u){const c=(0,G.m9)(f),g=yield xt(c,{oobCode:u}),A=g.requestType;switch(we(A,c,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(g.newEmail,c,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(g.mfaInfo,c,"internal-error");default:we(g.email,c,"internal-error")}let k=null;return g.mfaInfo&&(k=Yr._fromServerResponse(hn(c),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:k},operation:A}})).apply(this,arguments)}function Hs(){return(Hs=(0,v.Z)(function*(f,u){const{data:c}=yield Ho((0,G.m9)(f),u);return c.email})).apply(this,arguments)}function Nu(){return(Nu=(0,v.Z)(function*(f,u,c){if((0,z._isFirebaseServerApp)(f.app))return Promise.reject(Re(f));const g=hn(f),Q=yield Vi(g,{returnSecureToken:!0,email:u,password:c,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ta).catch(Ae=>{throw"auth/password-does-not-meet-requirements"===Ae.code&&js(f),Ae}),ce=yield Qn._fromIdTokenResponse(g,"signIn",Q);return yield g._updateCurrentUser(ce.user),ce})).apply(this,arguments)}function Oi(){return(Oi=(0,v.Z)(function*(f,u,c){const g=hn(f),A={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function k(Q,ce){we(ce.handleCodeInApp,g,"argument-error"),ce&&Qr(g,Q,ce)})(A,c),yield Vi(g,A,"getOobCode",qn)})).apply(this,arguments)}function fs(){return(fs=(0,v.Z)(function*(f,u,c){if((0,z._isFirebaseServerApp)(f.app))return Promise.reject(Re(f));const g=(0,G.m9)(f),A=Bn.credentialWithLink(u,c||Pt());return we(A._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),ci(g,A)})).apply(this,arguments)}function I(){return(I=(0,v.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:createAuthUri",Se(f,u))})).apply(this,arguments)}function T(){return T=(0,v.Z)(function*(f,u){const g={identifier:u,continueUri:on()?Pt():"http://localhost"},{signinMethods:A}=yield function Na(f,u){return I.apply(this,arguments)}((0,G.m9)(f),g);return A||[]}),T.apply(this,arguments)}function Y(){return Y=(0,v.Z)(function*(f,u){const c=(0,G.m9)(f),A={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};u&&Qr(c.auth,A,u);const{email:k}=yield function kt(f,u){return en.apply(this,arguments)}(c.auth,A);k!==f.email&&(yield f.reload())}),Y.apply(this,arguments)}function ke(){return ke=(0,v.Z)(function*(f,u,c){const g=(0,G.m9)(f),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:u};c&&Qr(g.auth,k,c);const{email:Q}=yield function An(f,u){return Fr.apply(this,arguments)}(g.auth,k);Q!==f.email&&(yield f.reload())}),ke.apply(this,arguments)}function nn(){return(nn=(0,v.Z)(function*(f,u){return Ve(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Xt(){return Xt=(0,v.Z)(function*(f,{displayName:u,photoURL:c}){if(void 0===u&&void 0===c)return;const g=(0,G.m9)(f),k={idToken:yield g.getIdToken(),displayName:u,photoUrl:c,returnSecureToken:!0},Q=yield At(g,function pt(f,u){return nn.apply(this,arguments)}(g.auth,k));g.displayName=Q.displayName||null,g.photoURL=Q.photoUrl||null;const ce=g.providerData.find(({providerId:Ae})=>"password"===Ae);ce&&(ce.displayName=g.displayName,ce.photoURL=g.photoURL),yield g._updateTokensIfNecessary(Q)}),Xt.apply(this,arguments)}function pn(f,u,c){return _n.apply(this,arguments)}function _n(){return _n=(0,v.Z)(function*(f,u,c){const{auth:g}=f,k={idToken:yield f.getIdToken(),returnSecureToken:!0};u&&(k.email=u),c&&(k.password=c);const Q=yield At(f,function vr(f,u){return vi.apply(this,arguments)}(g,k));yield f._updateTokensIfNecessary(Q,!0)}),_n.apply(this,arguments)}class tr{constructor(u,c,g={}){this.isNewUser=u,this.providerId=c,this.profile=g}}class xi extends tr{constructor(u,c,g,A){super(u,c,g),this.username=A}}class Er extends tr{constructor(u,c){super(u,"facebook.com",c)}}class ki extends xi{constructor(u,c){super(u,"github.com",c,"string"==typeof c?.login?c?.login:null)}}class nr extends tr{constructor(u,c){super(u,"google.com",c)}}class Jr extends xi{constructor(u,c,g){super(u,"twitter.com",c,g)}}function Ou(f){const{user:u,_tokenResponse:c}=f;return u.isAnonymous&&!c?{providerId:null,isNewUser:!1,profile:null}:function Rr(f){var u,c;if(!f)return null;const{providerId:g}=f,A=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},k=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!g&&f?.idToken){const Q=null===(c=null===(u=jt(f.idToken))||void 0===u?void 0:u.firebase)||void 0===c?void 0:c.sign_in_provider;if(Q)return new tr(k,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!g)return null;switch(g){case"facebook.com":return new Er(k,A);case"github.com":return new ki(k,A);case"google.com":return new nr(k,A);case"twitter.com":return new Jr(k,A,f.screenName||null);case"custom":case"anonymous":return new tr(k,null);default:return new tr(k,g,A)}}(c)}class ps{constructor(u,c,g){this.type=u,this.credential=c,this.user=g}static _fromIdtoken(u,c){return new ps("enroll",u,c)}static _fromMfaPendingCredential(u){return new ps("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var c,g;if(u?.multiFactorSession){if(null!==(c=u.multiFactorSession)&&void 0!==c&&c.pendingCredential)return ps._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(g=u.multiFactorSession)&&void 0!==g&&g.idToken)return ps._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Fu{constructor(u,c,g){this.session=u,this.hints=c,this.signInResolver=g}static _fromError(u,c){const g=hn(u),A=c.customData._serverResponse,k=(A.mfaInfo||[]).map(ce=>Yr._fromServerResponse(g,ce));we(A.mfaPendingCredential,g,"internal-error");const Q=ps._fromMfaPendingCredential(A.mfaPendingCredential);return new Fu(Q,k,function(){var ce=(0,v.Z)(function*(Ae){const Xe=yield Ae._process(g,Q);delete A.mfaInfo,delete A.mfaPendingCredential;const ft=Object.assign(Object.assign({},A),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(c.operationType){case"signIn":const lt=yield Qn._fromIdTokenResponse(g,c.operationType,ft);return yield g._updateCurrentUser(lt.user),lt;case"reauthenticate":return we(c.user,g,"internal-error"),Qn._forOperation(c.user,c.operationType,ft);default:N(g,"internal-error")}});return function(Ae){return ce.apply(this,arguments)}}())}resolveSignIn(u){var c=this;return(0,v.Z)(function*(){return c.signInResolver(u)})()}}class Ci{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(c=>{c.mfaInfo&&(this.enrolledFactors=c.mfaInfo.map(g=>Yr._fromServerResponse(u.auth,g)))})}static _fromUser(u){return new Ci(u)}getSession(){var u=this;return(0,v.Z)(function*(){return ps._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,c){var g=this;return(0,v.Z)(function*(){const A=u,k=yield g.getSession(),Q=yield At(g.user,A._process(g.user.auth,k,c));return yield g.user._updateTokensIfNecessary(Q),g.user.reload()})()}unenroll(u){var c=this;return(0,v.Z)(function*(){const g="string"==typeof u?u:u.uid,A=yield c.user.getIdToken();try{const k=yield At(c.user,function rc(f,u){return Ve(f,"POST","/v2/accounts/mfaEnrollment:withdraw",Se(f,u))}(c.user.auth,{idToken:A,mfaEnrollmentId:g}));c.enrolledFactors=c.enrolledFactors.filter(({uid:Q})=>Q!==g),yield c.user._updateTokensIfNecessary(k),yield c.user.reload()}catch(k){throw k}})()}}const Bu=new WeakMap,Zo="__sak";class zs{constructor(u,c){this.storageRetriever=u,this.type=c}_isAvailable(){try{return this.storage?(this.storage.setItem(Zo,"1"),this.storage.removeItem(Zo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,c){return this.storage.setItem(u,JSON.stringify(c)),Promise.resolve()}_get(u){const c=this.storage.getItem(u);return Promise.resolve(c?JSON.parse(c):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const vo=(()=>{class f extends zs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(c,g)=>this.onStorageEvent(c,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dl(){const f=(0,G.z$)();return Ss(f)||le(f)}()&&function Et(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_t(),this._shouldAllowMigration=!0}forAllChangedKeys(c){for(const g of Object.keys(this.listeners)){const A=this.storage.getItem(g),k=this.localCache[g];A!==k&&c(g,k,A)}}onStorageEvent(c,g=!1){if(!c.key)return void this.forAllChangedKeys((ce,Ae,Xe)=>{this.notifyListeners(ce,Xe)});const A=c.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(A);if(c.newValue!==ce)null!==c.newValue?this.storage.setItem(A,c.newValue):this.storage.removeItem(A);else if(this.localCache[A]===c.newValue&&!g)return}const k=()=>{const ce=this.storage.getItem(A);!g&&this.localCache[A]===ce||this.notifyListeners(A,ce)},Q=this.storage.getItem(A);!function Ye(){return(0,G.w1)()&&10===document.documentMode}()||Q===c.newValue||c.newValue===c.oldValue?k():setTimeout(k,10)}notifyListeners(c,g){this.localCache[c]=g;const A=this.listeners[c];if(A)for(const k of Array.from(A))k(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((c,g,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:c,oldValue:g,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(c,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[c]||(this.listeners[c]=new Set,this.localCache[c]=this.storage.getItem(c)),this.listeners[c].add(g)}_removeListener(c,g){this.listeners[c]&&(this.listeners[c].delete(g),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(c,g){var A=()=>super._set,k=this;return(0,v.Z)(function*(){yield A().call(k,c,g),k.localCache[c]=JSON.stringify(g)})()}_get(c){var g=()=>super._get,A=this;return(0,v.Z)(function*(){const k=yield g().call(A,c);return A.localCache[c]=JSON.stringify(k),k})()}_remove(c){var g=()=>super._remove,A=this;return(0,v.Z)(function*(){yield g().call(A,c),delete A.localCache[c]})()}}return f.type="LOCAL",f})(),Ut=(()=>{class f extends zs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(c,g){}_removeListener(c,g){}}return f.type="SESSION",f})();let Ko=(()=>{class f{constructor(c){this.eventTarget=c,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(c){const g=this.receivers.find(k=>k.isListeningto(c));if(g)return g;const A=new f(c);return this.receivers.push(A),A}isListeningto(c){return this.eventTarget===c}handleEvent(c){var g=this;return(0,v.Z)(function*(){const A=c,{eventId:k,eventType:Q,data:ce}=A.data,Ae=g.handlersMap[Q];if(!Ae?.size)return;A.ports[0].postMessage({status:"ack",eventId:k,eventType:Q});const Xe=Array.from(Ae).map(function(){var lt=(0,v.Z)(function*(zn){return zn(A.origin,ce)});return function(zn){return lt.apply(this,arguments)}}()),ft=yield function xa(f){return Promise.all(f.map(function(){var u=(0,v.Z)(function*(c){try{return{fulfilled:!0,value:yield c}}catch(g){return{fulfilled:!1,reason:g}}});return function(c){return u.apply(this,arguments)}}()))}(Xe);A.ports[0].postMessage({status:"done",eventId:k,eventType:Q,response:ft})})()}_subscribe(c,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[c]||(this.handlersMap[c]=new Set),this.handlersMap[c].add(g)}_unsubscribe(c,g){this.handlersMap[c]&&g&&this.handlersMap[c].delete(g),(!g||0===this.handlersMap[c].size)&&delete this.handlersMap[c],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function Zn(f="",u=10){let c="";for(let g=0;g<u;g++)c+=Math.floor(10*Math.random());return f+c}class ic{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,c,g=50){var A=this;return(0,v.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let Q,ce;return new Promise((Ae,Xe)=>{const ft=Zn("",20);k.port1.start();const lt=setTimeout(()=>{Xe(new Error("unsupported_event"))},g);ce={messageChannel:k,onMessage(zn){const ir=zn;if(ir.data.eventId===ft)switch(ir.data.status){case"ack":clearTimeout(lt),Q=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Ae(ir.data.response);break;default:clearTimeout(lt),clearTimeout(Q),Xe(new Error("invalid_response"))}}},A.handlers.add(ce),k.port1.addEventListener("message",ce.onMessage),A.target.postMessage({eventType:u,eventId:ft,data:c},[k.port2])}).finally(()=>{ce&&A.removeMessageHandler(ce)})})()}}function Ln(){return window}function yo(){return typeof Ln().WorkerGlobalScope<"u"&&"function"==typeof Ln().importScripts}function ka(){return(ka=(0,v.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ir="firebaseLocalStorageDb",Eo="firebaseLocalStorage",gs="fbase_key";class Mr{constructor(u){this.request=u}toPromise(){return new Promise((u,c)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{c(this.request.error)})})}}function La(f,u){return f.transaction([Eo],u?"readwrite":"readonly").objectStore(Eo)}function Hu(){const f=indexedDB.open(Ir,1);return new Promise((u,c)=>{f.addEventListener("error",()=>{c(f.error)}),f.addEventListener("upgradeneeded",()=>{const g=f.result;try{g.createObjectStore(Eo,{keyPath:gs})}catch(A){c(A)}}),f.addEventListener("success",(0,v.Z)(function*(){const g=f.result;g.objectStoreNames.contains(Eo)?u(g):(g.close(),yield function wl(){const f=indexedDB.deleteDatabase(Ir);return new Mr(f).toPromise()}(),u(yield Hu()))}))})}function bl(f,u,c){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,v.Z)(function*(f,u,c){const g=La(f,!0).put({[gs]:u,value:c});return new Mr(g).toPromise()})).apply(this,arguments)}function Fa(){return(Fa=(0,v.Z)(function*(f,u){const c=La(f,!1).get(u),g=yield new Mr(c).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function _(f,u){const c=La(f,!0).delete(u);return new Mr(c).toPromise()}const S=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var c=this;return(0,v.Z)(function*(){return c.db||(c.db=yield Hu()),c.db})()}_withRetries(c){var g=this;return(0,v.Z)(function*(){let A=0;for(;;)try{const k=yield g._openDb();return yield c(k)}catch(k){if(A++>3)throw k;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var c=this;return(0,v.Z)(function*(){return yo()?c.initializeReceiver():c.initializeSender()})()}initializeReceiver(){var c=this;return(0,v.Z)(function*(){c.receiver=Ko._getInstance(function Vu(){return yo()?self:null}()),c.receiver._subscribe("keyChanged",function(){var g=(0,v.Z)(function*(A,k){return{keyProcessed:(yield c._poll()).includes(k.key)}});return function(A,k){return g.apply(this,arguments)}}()),c.receiver._subscribe("ping",function(){var g=(0,v.Z)(function*(A,k){return["keyChanged"]});return function(A,k){return g.apply(this,arguments)}}())})()}initializeSender(){var c=this;return(0,v.Z)(function*(){var g,A;if(c.activeServiceWorker=yield function Yo(){return ka.apply(this,arguments)}(),!c.activeServiceWorker)return;c.sender=new ic(c.activeServiceWorker);const k=yield c.sender._send("ping",{},800);k&&null!==(g=k[0])&&void 0!==g&&g.fulfilled&&null!==(A=k[0])&&void 0!==A&&A.value.includes("keyChanged")&&(c.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(c){var g=this;return(0,v.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function nd(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:c},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,v.Z)(function*(){try{if(!indexedDB)return!1;const c=yield Hu();return yield bl(c,Zo,"1"),yield _(c,Zo),!0}catch{}return!1})()}_withPendingWrite(c){var g=this;return(0,v.Z)(function*(){g.pendingWrites++;try{yield c()}finally{g.pendingWrites--}})()}_set(c,g){var A=this;return(0,v.Z)(function*(){return A._withPendingWrite((0,v.Z)(function*(){return yield A._withRetries(k=>bl(k,c,g)),A.localCache[c]=g,A.notifyServiceWorker(c)}))})()}_get(c){var g=this;return(0,v.Z)(function*(){const A=yield g._withRetries(k=>function $u(f,u){return Fa.apply(this,arguments)}(k,c));return g.localCache[c]=A,A})()}_remove(c){var g=this;return(0,v.Z)(function*(){return g._withPendingWrite((0,v.Z)(function*(){return yield g._withRetries(A=>_(A,c)),delete g.localCache[c],g.notifyServiceWorker(c)}))})()}_poll(){var c=this;return(0,v.Z)(function*(){const g=yield c._withRetries(Q=>{const ce=La(Q,!1).getAll();return new Mr(ce).toPromise()});if(!g)return[];if(0!==c.pendingWrites)return[];const A=[],k=new Set;if(0!==g.length)for(const{fbase_key:Q,value:ce}of g)k.add(Q),JSON.stringify(c.localCache[Q])!==JSON.stringify(ce)&&(c.notifyListeners(Q,ce),A.push(Q));for(const Q of Object.keys(c.localCache))c.localCache[Q]&&!k.has(Q)&&(c.notifyListeners(Q,null),A.push(Q));return A})()}notifyListeners(c,g){this.localCache[c]=g;const A=this.listeners[c];if(A)for(const k of Array.from(A))k(g)}startPolling(){var c=this;this.stopPolling(),this.pollTimer=setInterval((0,v.Z)(function*(){return c._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(c,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[c]||(this.listeners[c]=new Set,this._get(c)),this.listeners[c].add(g)}_removeListener(c,g){this.listeners[c]&&(this.listeners[c].delete(g),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),qe=1e12;class wt{constructor(u){this.auth=u,this.counter=qe,this._widgets=new Map}render(u,c){const g=this.counter;return this._widgets.set(g,new Zt(u,this.auth.name,c||{})),this.counter++,g}reset(u){var c;const g=u||qe;null===(c=this._widgets.get(g))||void 0===c||c.delete(),this._widgets.delete(g)}getResponse(u){var c;return(null===(c=this._widgets.get(u||qe))||void 0===c?void 0:c.getResponse())||""}execute(u){var c=this;return(0,v.Z)(function*(){var g;return null===(g=c._widgets.get(u||qe))||void 0===g||g.execute(),""})()}}class Zt{constructor(u,c,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof u?document.getElementById(u):u;we(A,"argument-error",{appName:c}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sn(f){const u=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<f;g++)u.push(c.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":c}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,c)try{c()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const lr=kr("rcb"),qo=new J(3e4,6e4);class Wu{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Ln().grecaptcha)||void 0===u||!u.render)}load(u,c=""){return we(function Io(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(c),u,"argument-error"),this.shouldResolveImmediately(c)&&Qe(Ln().grecaptcha)?Promise.resolve(Ln().grecaptcha):new Promise((g,A)=>{const k=Ln().setTimeout(()=>{A(ue(u,"network-request-failed"))},qo.get());Ln()[lr]=()=>{Ln().clearTimeout(k),delete Ln()[lr];const ce=Ln().grecaptcha;if(!ce||!Qe(ce))return void A(ue(u,"internal-error"));const Ae=ce.render;ce.render=(Xe,ft)=>{const lt=Ae(Xe,ft);return this.counter++,lt},this.hostLanguage=c,g(ce)},Rs(`${function Ms(){return as.recaptchaV2Script}()}?${(0,G.xO)({onload:lr,render:"explicit",hl:c})}`).catch(()=>{clearTimeout(k),A(ue(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var c;return!(null===(c=Ln().grecaptcha)||void 0===c||!c.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class zu{load(u){return(0,v.Z)(function*(){return new wt(u)})()}clearedOneInstance(){}}const Ks="recaptcha",Ua={theme:"light",type:"image"};class Fi{constructor(u,c,g=Object.assign({},Ua)){this.parameters=g,this.type=Ks,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hn(u),this.isInvisible="invisible"===this.parameters.size,we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof c?document.getElementById(c):c;we(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new zu:new Wu,this.validateStartingState()}verify(){var u=this;return(0,v.Z)(function*(){u.assertNotDestroyed();const c=yield u.render(),g=u.getAssertedRecaptcha();return g.getResponse(c)||new Promise(k=>{const Q=ce=>{ce&&(u.tokenChangeListeners.delete(Q),k(ce))};u.tokenChangeListeners.add(Q),u.isInvisible&&g.execute(c)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return c=>{if(this.tokenChangeListeners.forEach(g=>g(c)),"function"==typeof u)u(c);else if("string"==typeof u){const g=Ln()[u];"function"==typeof g&&g(c)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,v.Z)(function*(){if(yield u.init(),!u.widgetId){let c=u.container;if(!u.isInvisible){const g=document.createElement("div");c.appendChild(g),c=g}u.widgetId=u.getAssertedRecaptcha().render(c,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,v.Z)(function*(){we(on()&&!yo(),u.auth,"internal-error"),yield function ch(){let f=null;return new Promise(u=>{"complete"!==document.readyState?(f=()=>u(),window.addEventListener("load",f)):u()}).catch(u=>{throw f&&window.removeEventListener("load",f),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const c=yield function bn(f){return Dr.apply(this,arguments)}(u.auth);we(c,u.auth,"internal-error"),u.parameters.sitekey=c})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qo{constructor(u,c){this.verificationId=u,this.onConfirmation=c}confirm(u){const c=Zr._fromVerification(this.verificationId,u);return this.onConfirmation(c)}}function Ba(){return(Ba=(0,v.Z)(function*(f,u,c){if((0,z._isFirebaseServerApp)(f.app))return Promise.reject(Re(f));const g=hn(f),A=yield Ui(g,u,(0,G.m9)(c));return new Qo(A,k=>ci(g,k))})).apply(this,arguments)}function Gu(){return(Gu=(0,v.Z)(function*(f,u,c){const g=(0,G.m9)(f);yield Aa(!1,g,"phone");const A=yield Ui(g.auth,u,(0,G.m9)(c));return new Qo(A,k=>fo(g,k))})).apply(this,arguments)}function Yt(){return(Yt=(0,v.Z)(function*(f,u,c){const g=(0,G.m9)(f);if((0,z._isFirebaseServerApp)(g.auth.app))return Promise.reject(Re(g.auth));const A=yield Ui(g.auth,u,(0,G.m9)(c));return new Qo(A,k=>Xn(g,k))})).apply(this,arguments)}function Ui(f,u,c){return ms.apply(this,arguments)}function ms(){return ms=(0,v.Z)(function*(f,u,c){var g;const A=yield c.verify();try{let k;if(we("string"==typeof A,f,"argument-error"),we(c.type===Ks,f,"argument-error"),k="string"==typeof u?{phoneNumber:u}:u,"session"in k){const Q=k.session;if("phoneNumber"in k)return we("enroll"===Q.type,f,"internal-error"),(yield function Uu(f,u){return Ve(f,"POST","/v2/accounts/mfaEnrollment:start",Se(f,u))}(f,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{we("signin"===Q.type,f,"internal-error");const ce=(null===(g=k.multiFactorHint)||void 0===g?void 0:g.uid)||k.multiFactorUid;return we(ce,f,"missing-multi-factor-info"),(yield function F(f,u){return Ve(f,"POST","/v2/accounts/mfaSignIn:start",Se(f,u))}(f,{mfaPendingCredential:Q.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield function Ls(f,u){return Fs.apply(this,arguments)}(f,{phoneNumber:k.phoneNumber,recaptchaToken:A});return Q}}finally{c._reset()}}),ms.apply(this,arguments)}function Zi(){return(Zi=(0,v.Z)(function*(f,u){const c=(0,G.m9)(f);if((0,z._isFirebaseServerApp)(c.auth.app))return Promise.reject(Re(c.auth));yield Pu(c,u)})).apply(this,arguments)}let _s=(()=>{class f{constructor(c){this.providerId=f.PROVIDER_ID,this.auth=hn(c)}verifyPhoneNumber(c,g){return Ui(this.auth,c,(0,G.m9)(g))}static credential(c,g){return Zr._fromVerification(c,g)}static credentialFromResult(c){return f.credentialFromTaggedObject(c)}static credentialFromError(c){return f.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{phoneNumber:g,temporaryProof:A}=c;return g&&A?Zr._fromTokenResponse(g,A):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Br(f,u){return u?ut(u):(we(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class oc extends _i{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return fn(u,this._buildIdpRequest())}_linkToIdToken(u,c){return fn(u,this._buildIdpRequest(c))}_getReauthenticationResolver(u){return fn(u,this._buildIdpRequest())}_buildIdpRequest(u){const c={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(c.idToken=u),c}}function gi(f){return zi(f.auth,new oc(f),f.bypassAuthState)}function bf(f){const{auth:u,user:c}=f;return we(c,u,"internal-error"),jo(c,new oc(f),f.bypassAuthState)}function id(f){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,v.Z)(function*(f){const{auth:u,user:c}=f;return we(c,u,"internal-error"),Pu(c,new oc(f),f.bypassAuthState)})).apply(this,arguments)}class ja{constructor(u,c,g,A,k=!1){this.auth=u,this.resolver=g,this.user=A,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(c)?c:[c]}execute(){var u=this;return new Promise(function(){var c=(0,v.Z)(function*(g,A){u.pendingPromise={resolve:g,reject:A};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(k){u.reject(k)}});return function(g,A){return c.apply(this,arguments)}}())}onAuthEvent(u){var c=this;return(0,v.Z)(function*(){const{urlResponse:g,sessionId:A,postBody:k,tenantId:Q,error:ce,type:Ae}=u;if(ce)return void c.reject(ce);const Xe={auth:c.auth,requestUri:g,sessionId:A,tenantId:Q||void 0,postBody:k||void 0,user:c.user,bypassAuthState:c.bypassAuthState};try{c.resolve(yield c.getIdpTask(Ae)(Xe))}catch(ft){c.reject(ft)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return gi;case"linkViaPopup":case"linkViaRedirect":return id;case"reauthViaPopup":case"reauthViaRedirect":return bf;default:N(this.auth,"internal-error")}}resolve(u){yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sd=new J(2e3,1e4);function Ha(){return(Ha=(0,v.Z)(function*(f,u,c){if((0,z._isFirebaseServerApp)(f.app))return Promise.reject(ue(f,"operation-not-supported-in-this-environment"));const g=hn(f);He(f,u,Ai);const A=Br(g,c);return new lc(g,"signInViaPopup",u,A).executeNotNull()})).apply(this,arguments)}function ac(){return(ac=(0,v.Z)(function*(f,u,c){const g=(0,G.m9)(f);if((0,z._isFirebaseServerApp)(g.auth.app))return Promise.reject(ue(g.auth,"operation-not-supported-in-this-environment"));He(g.auth,u,Ai);const A=Br(g.auth,c);return new lc(g.auth,"reauthViaPopup",u,A,g).executeNotNull()})).apply(this,arguments)}function Sl(){return(Sl=(0,v.Z)(function*(f,u,c){const g=(0,G.m9)(f);He(g.auth,u,Ai);const A=Br(g.auth,c);return new lc(g.auth,"linkViaPopup",u,A,g).executeNotNull()})).apply(this,arguments)}let lc=(()=>{class f extends ja{constructor(c,g,A,k,Q){super(c,g,k,Q),this.provider=A,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var c=this;return(0,v.Z)(function*(){const g=yield c.execute();return we(g,c.auth,"internal-error"),g})()}onExecution(){var c=this;return(0,v.Z)(function*(){yt(1===c.filter.length,"Popup operations only handle one event");const g=Zn();c.authWindow=yield c.resolver._openPopup(c.auth,c.provider,c.filter[0],g),c.authWindow.associatedEvent=g,c.resolver._originValidation(c.auth).catch(A=>{c.reject(A)}),c.resolver._isIframeWebStorageSupported(c.auth,A=>{A||c.reject(ue(c.auth,"web-storage-unsupported"))}),c.pollUserCancellation()})()}get eventId(){var c;return(null===(c=this.authWindow)||void 0===c?void 0:c.associatedEvent)||null}cancel(){this.reject(ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const c=()=>{var g,A;this.pollId=null!==(A=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ue(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(c,sd.get())};c()}}return f.currentPopupAction=null,f})();const vs="pendingRedirect",En=new Map;class Al extends ja{constructor(u,c,g=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],c,void 0,g),this.eventId=null}execute(){var u=()=>super.execute,c=this;return(0,v.Z)(function*(){let g=En.get(c.auth._key());if(!g){try{const k=(yield function cc(f,u){return Jo.apply(this,arguments)}(c.resolver,c.auth))?yield u().call(c):null;g=()=>Promise.resolve(k)}catch(A){g=()=>Promise.reject(A)}En.set(c.auth._key(),g)}return c.bypassAuthState||En.set(c.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(u){var c=()=>super.onAuthEvent,g=this;return(0,v.Z)(function*(){if("signInViaRedirect"===u.type)return c().call(g,u);if("unknown"!==u.type){if(u.eventId){const A=yield g.auth._redirectUserForId(u.eventId);if(A)return g.user=A,c().call(g,u);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,v.Z)(function*(){})()}cleanUp(){}}function Jo(){return(Jo=(0,v.Z)(function*(f,u){const c=dc(u),g=Ft(f);if(!(yield g._isAvailable()))return!1;const A="true"===(yield g._get(c));return yield g._remove(c),A})).apply(this,arguments)}function Co(f,u){return ys.apply(this,arguments)}function ys(){return(ys=(0,v.Z)(function*(f,u){return Ft(f)._set(dc(u),"true")})).apply(this,arguments)}function wo(f,u){En.set(f._key(),u)}function Ft(f){return ut(f._redirectPersistence)}function dc(f){return ht(vs,f.config.apiKey,f.name)}function $a(f,u,c){return function dh(f,u,c){return Mn.apply(this,arguments)}(f,u,c)}function Mn(){return(Mn=(0,v.Z)(function*(f,u,c){if((0,z._isFirebaseServerApp)(f.app))return Promise.reject(Re(f));const g=hn(f);He(f,u,Ai),yield g._initializationPromise;const A=Br(g,c);return yield Co(A,g),A._openRedirect(g,u,"signInViaRedirect")})).apply(this,arguments)}function Qs(f,u,c){return function hh(f,u,c){return Wa.apply(this,arguments)}(f,u,c)}function Wa(){return(Wa=(0,v.Z)(function*(f,u,c){const g=(0,G.m9)(f);if(He(g.auth,u,Ai),(0,z._isFirebaseServerApp)(g.auth.app))return Promise.reject(Re(g.auth));yield g.auth._initializationPromise;const A=Br(g.auth,c);yield Co(A,g.auth);const k=yield od(g);return A._openRedirect(g.auth,u,"reauthViaRedirect",k)})).apply(this,arguments)}function hc(f,u,c){return function Es(f,u,c){return ea.apply(this,arguments)}(f,u,c)}function ea(){return(ea=(0,v.Z)(function*(f,u,c){const g=(0,G.m9)(f);He(g.auth,u,Ai),yield g.auth._initializationPromise;const A=Br(g.auth,c);yield Aa(!1,g,u.providerId),yield Co(A,g.auth);const k=yield od(g);return A._openRedirect(g.auth,u,"linkViaRedirect",k)})).apply(this,arguments)}function fc(){return(fc=(0,v.Z)(function*(f,u){return yield hn(f)._initializationPromise,ta(f,u,!1)})).apply(this,arguments)}function ta(f,u){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,v.Z)(function*(f,u,c=!1){if((0,z._isFirebaseServerApp)(f.app))return Promise.reject(Re(f));const g=hn(f),A=Br(g,u),Q=yield new Al(g,A,c).execute();return Q&&!c&&(delete Q.user._redirectEventId,yield g._persistUserIfCurrent(Q.user),yield g._setRedirectUser(null,u)),Q})).apply(this,arguments)}function od(f){return na.apply(this,arguments)}function na(){return(na=(0,v.Z)(function*(f){const u=Zn(`${f.uid}:::`);return f._redirectEventId=u,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),u})).apply(this,arguments)}class ra{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let c=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(u,g)&&(c=!0,this.sendToConsumer(u,g),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function ad(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Js(f);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,c||(this.queuedRedirectEvent=u,c=!0)),c}sendToConsumer(u,c){var g;if(u.error&&!Js(u)){const A=(null===(g=u.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";c.onError(ue(this.auth,A))}else c.onAuthEvent(u)}isEventForConsumer(u,c){const g=null===c.eventId||!!u.eventId&&u.eventId===c.eventId;return c.filter.includes(u.type)&&g}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ia(u))}saveEventToCache(u){this.cachedEventUids.add(ia(u)),this.lastProcessedEventTime=Date.now()}}function ia(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(u=>u).join("-")}function Js({type:f,error:u}){return"unknown"===f&&"auth/no-auth-event"===u?.code}function za(f){return bo.apply(this,arguments)}function bo(){return(bo=(0,v.Z)(function*(f,u={}){return Ve(f,"GET","/v1/projects",u)})).apply(this,arguments)}const gc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ud=/^https?/;function Zu(){return(Zu=(0,v.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:u}=yield za(f);for(const c of u)try{if(Tf(c))return}catch{}N(f,"unauthorized-domain")})).apply(this,arguments)}function Tf(f){const u=Pt(),{protocol:c,hostname:g}=new URL(u);if(f.startsWith("chrome-extension://")){const Q=new URL(f);return""===Q.hostname&&""===g?"chrome-extension:"===c&&f.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===c&&Q.hostname===g}if(!ud.test(c))return!1;if(gc.test(f))return g===f;const A=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(g)}const mc=new J(3e4,6e4);function Ga(){const f=Ln().___jsl;if(f?.H)for(const u of Object.keys(f.H))if(f.H[u].r=f.H[u].r||[],f.H[u].L=f.H[u].L||[],f.H[u].r=[...f.H[u].L],f.CP)for(let c=0;c<f.CP.length;c++)f.CP[c]=null}let Ki=null;const gh=new J(5e3,15e3),cr="__/auth/iframe",mh="emulator/auth/iframe",Ku={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_h=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rr(f){const u=f.config;we(u.authDomain,f,"auth-domain-config-required");const c=u.emulator?ne(u,mh):`https://${f.config.authDomain}/${cr}`,g={apiKey:u.apiKey,appName:f.name,v:z.SDK_VERSION},A=_h.get(f.config.apiHost);A&&(g.eid=A);const k=f._getFrameworks();return k.length&&(g.fw=k.join(",")),`${c}?${(0,G.xO)(g).slice(1)}`}function Za(){return Za=(0,v.Z)(function*(f){const u=yield function ph(f){return Ki=Ki||function ld(f){return new Promise((u,c)=>{var g,A,k;function Q(){Ga(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{Ga(),c(ue(f,"network-request-failed"))},timeout:mc.get()})}if(null!==(A=null===(g=Ln().gapi)||void 0===g?void 0:g.iframes)&&void 0!==A&&A.Iframe)u(gapi.iframes.getContext());else{if(null===(k=Ln().gapi)||void 0===k||!k.load){const ce=kr("iframefcb");return Ln()[ce]=()=>{gapi.load?Q():c(ue(f,"network-request-failed"))},Rs(`${function ji(){return as.gapiScript}()}?onload=${ce}`).catch(Ae=>c(Ae))}Q()}}).catch(u=>{throw Ki=null,u})}(f),Ki}(f),c=Ln().gapi;return we(c,f,"internal-error"),u.open({where:document.body,url:rr(f),messageHandlersFilter:c.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ku,dontclear:!0},g=>new Promise(function(){var A=(0,v.Z)(function*(k,Q){yield g.restyle({setHideOnLeave:!1});const ce=ue(f,"network-request-failed"),Ae=Ln().setTimeout(()=>{Q(ce)},gh.get());function Xe(){Ln().clearTimeout(Ae),k(g)}g.ping(Xe).then(Xe,()=>{Q(ce)})});return function(k,Q){return A.apply(this,arguments)}}()))}),Za.apply(this,arguments)}const Ka={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ao{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Is="__/auth/handler",Sf="emulator/auth/handler",cd=encodeURIComponent("fac");function Qa(f,u,c,g,A,k){return sa.apply(this,arguments)}function sa(){return(sa=(0,v.Z)(function*(f,u,c,g,A,k){we(f.config.authDomain,f,"auth-domain-config-required"),we(f.config.apiKey,f,"invalid-api-key");const Q={apiKey:f.config.apiKey,appName:f.name,authType:c,redirectUrl:g,v:z.SDK_VERSION,eventId:A};if(u instanceof Ai){u.setDefaultLanguage(f.languageCode),Q.providerId=u.providerId||"",(0,G.xb)(u.getCustomParameters())||(Q.customParameters=JSON.stringify(u.getCustomParameters()));for(const[ft,lt]of Object.entries(k||{}))Q[ft]=lt}if(u instanceof xn){const ft=u.getScopes().filter(lt=>""!==lt);ft.length>0&&(Q.scopes=ft.join(","))}f.tenantId&&(Q.tid=f.tenantId);const ce=Q;for(const ft of Object.keys(ce))void 0===ce[ft]&&delete ce[ft];const Ae=yield f._getAppCheckToken(),Xe=Ae?`#${cd}=${encodeURIComponent(Ae)}`:"";return`${function dd({config:f}){return f.emulator?ne(f,Sf):`https://${f.authDomain}/${Is}`}(f)}?${(0,G.xO)(ce).slice(1)}${Xe}`})).apply(this,arguments)}const Xa="webStorageSupport",Rl=class oa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ut,this._completeRedirectFn=ta,this._overrideRedirectResult=wo}_openPopup(u,c,g,A){var k=this;return(0,v.Z)(function*(){var Q;yt(null===(Q=k.eventManagers[u._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const ce=yield Qa(u,c,g,Pt(),A);return function wi(f,u,c,g=500,A=600){const k=Math.max((window.screen.availHeight-A)/2,0).toString(),Q=Math.max((window.screen.availWidth-g)/2,0).toString();let ce="";const Ae=Object.assign(Object.assign({},Ka),{width:g.toString(),height:A.toString(),top:k,left:Q}),Xe=(0,G.z$)().toLowerCase();c&&(ce=As(Xe)?"_blank":c),ii(Xe)&&(u=u||"http://localhost",Ae.scrollbars="yes");const ft=Object.entries(Ae).reduce((zn,[ir,ol])=>`${zn}${ir}=${ol},`,"");if(function Pe(f=(0,G.z$)()){var u;return le(f)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(Xe)&&"_self"!==ce)return function _c(f,u){const c=document.createElement("a");c.href=f,c.target=u;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),c.dispatchEvent(g)}(u||"",ce),new Ao(null);const lt=window.open(u||"",ce,ft);we(lt,f,"popup-blocked");try{lt.focus()}catch{}return new Ao(lt)}(u,ce,Zn())})()}_openRedirect(u,c,g,A){var k=this;return(0,v.Z)(function*(){return yield k._originValidation(u),function Gi(f){Ln().location.href=f}(yield Qa(u,c,g,Pt(),A)),new Promise(()=>{})})()}_initialize(u){const c=u._key();if(this.eventManagers[c]){const{manager:A,promise:k}=this.eventManagers[c];return A?Promise.resolve(A):(yt(k,"If manager is not set, promise should be"),k)}const g=this.initAndGetManager(u);return this.eventManagers[c]={promise:g},g.catch(()=>{delete this.eventManagers[c]}),g}initAndGetManager(u){var c=this;return(0,v.Z)(function*(){const g=yield function To(f){return Za.apply(this,arguments)}(u),A=new ra(u);return g.register("authEvent",k=>(we(k?.authEvent,u,"invalid-auth-event"),{status:A.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),c.eventManagers[u._key()]={manager:A},c.iframes[u._key()]=g,A})()}_isIframeWebStorageSupported(u,c){this.iframes[u._key()].send(Xa,{type:Xa},A=>{var k;const Q=null===(k=A?.[0])||void 0===k?void 0:k[Xa];void 0!==Q&&c(!!Q),N(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const c=u._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function fh(f){return Zu.apply(this,arguments)}(u)),this.originValidationPromises[c]}get _shouldInitProactively(){return _t()||Ss()||le()}};class vc{constructor(u){this.factorId=u}_process(u,c,g){switch(c.type){case"enroll":return this._finalizeEnroll(u,c.credential,g);case"signin":return this._finalizeSignIn(u,c.credential);default:return rt("unexpected MultiFactorSessionType")}}}class vn extends vc{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new vn(u)}_finalizeEnroll(u,c,g){return function Oa(f,u){return Ve(f,"POST","/v2/accounts/mfaEnrollment:finalize",Se(f,u))}(u,{idToken:c,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,c){return function K(f,u){return Ve(f,"POST","/v2/accounts/mfaSignIn:finalize",Se(f,u))}(u,{mfaPendingCredential:c,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yi=(()=>{class f{constructor(){}static assertion(c){return vn._fromCredential(c)}}return f.FACTOR_ID="phone",f})();var eo="@firebase/auth";class qi{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var c=this;return(0,v.Z)(function*(){return c.assertAuthConfigured(),yield c.auth._initializationPromise,c.auth.currentUser?{accessToken:yield c.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const c=this.auth.onIdTokenChanged(g=>{u(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,c),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const c=this.internalListeners.get(u);c&&(this.internalListeners.delete(u),c(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ua(){return window}(0,G.Pz)("authIdTokenMaxAge"),function uo(f){as=f}({loadJS:f=>new Promise((u,c)=>{const g=document.createElement("script");g.setAttribute("src",f),g.onload=u,g.onerror=A=>{const k=ue("internal-error");k.customData=A,c(k)},g.type="text/javascript",g.charset="UTF-8",function fd(){var f,u;return null!==(u=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==u?u:document}().appendChild(g)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function tu(f){(0,z._registerComponent)(new ae.wA("auth",(u,{options:c})=>{const g=u.getProvider("app").getImmediate(),A=u.getProvider("heartbeat"),k=u.getProvider("app-check-internal"),{apiKey:Q,authDomain:ce}=g.options;we(Q&&!Q.includes(":"),"invalid-api-key",{appName:g.name});const Ae={apiKey:Q,authDomain:ce,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rt(f)},Xe=new ss(g,A,k,Ae);return function Tu(f,u){const c=u?.persistence||[],g=(Array.isArray(c)?c:[c]).map(ut);u?.errorMap&&f._updateErrorMap(u.errorMap),f._initializeWithPersistence(g,u?.popupRedirectResolver)}(Xe,c),Xe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,c,g)=>{u.getProvider("auth-internal").initialize()})),(0,z._registerComponent)(new ae.wA("auth-internal",u=>{const c=hn(u.getProvider("auth").getImmediate());return new qi(c)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.registerVersion)(eo,"1.7.2",function Ml(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(f)),(0,z.registerVersion)(eo,"1.7.2","esm2017")}("Browser");function Pl(){return Pl=(0,v.Z)(function*(f,u,c){var g;const{BuildInfo:A}=ua();yt(u.sessionId,"AuthEvent did not contain a session ID");const k=yield function md(f){return Xu.apply(this,arguments)}(u.sessionId),Q={};return le()?Q.ibi=A.packageName:Wr()?Q.apn=A.packageName:N(f,"operation-not-supported-in-this-environment"),A.displayName&&(Q.appDisplayName=A.displayName),Q.sessionId=k,Qa(f,c,u.type,void 0,null!==(g=u.eventId)&&void 0!==g?g:void 0,Q)}),Pl.apply(this,arguments)}function ru(){return(ru=(0,v.Z)(function*(f){const{BuildInfo:u}=ua(),c={};le()?c.iosBundleId=u.packageName:Wr()?c.androidPackageName=u.packageName:N(f,"operation-not-supported-in-this-environment"),yield za(f,c)})).apply(this,arguments)}function Nl(){return(Nl=(0,v.Z)(function*(f,u,c){const{cordova:g}=ua();let A=()=>{};try{yield new Promise((k,Q)=>{let ce=null;function Ae(){var lt;k();const zn=null===(lt=g.plugins.browsertab)||void 0===lt?void 0:lt.close;"function"==typeof zn&&zn(),"function"==typeof c?.close&&c.close()}function Xe(){ce||(ce=window.setTimeout(()=>{Q(ue(f,"redirect-cancelled-by-user"))},2e3))}function ft(){"visible"===document?.visibilityState&&Xe()}u.addPassiveListener(Ae),document.addEventListener("resume",Xe,!1),Wr()&&document.addEventListener("visibilitychange",ft,!1),A=()=>{u.removePassiveListener(Ae),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",ft,!1),ce&&window.clearTimeout(ce)}})}finally{A()}})).apply(this,arguments)}function Xu(){return(Xu=(0,v.Z)(function*(f){const u=function yc(f){if(yt(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const u=new ArrayBuffer(f.length),c=new Uint8Array(u);for(let g=0;g<f.length;g++)c[g]=f.charCodeAt(g);return c}(f),c=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(c)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class iu extends ra{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(c=>c(u)),super.onEvent(u)}initialized(){var u=this;return(0,v.Z)(function*(){yield u.initPromise})()}}function Ju(f){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,v.Z)(function*(f){const u=yield Ic()._get(Ol(f));return u&&(yield Ic()._remove(Ol(f))),u})).apply(this,arguments)}function Nf(){const f=[];for(let c=0;c<20;c++){const g=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(g))}return f.join("")}function Ic(){return ut(vo)}function Ol(f){return ht("authEvent",f.config.apiKey,f.name)}function la(f){if(!f?.includes("?"))return{};const[u,...c]=f.split("?");return(0,G.zd)(c.join("?"))}const el=class Dc{constructor(){this._redirectPersistence=Ut,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ta,this._overrideRedirectResult=wo}_initialize(u){var c=this;return(0,v.Z)(function*(){const g=u._key();let A=c.eventManagers.get(g);return A||(A=new iu(u),c.eventManagers.set(g,A),c.attachCallbackListeners(u,A)),A})()}_openPopup(u){N(u,"operation-not-supported-in-this-environment")}_openRedirect(u,c,g,A){var k=this;return(0,v.Z)(function*(){!function Rf(f){var u,c,g,A,k,Q,ce,Ae,Xe,ft;const lt=ua();we("function"==typeof(null===(u=lt?.universalLinks)||void 0===u?void 0:u.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),we(typeof(null===(c=lt?.BuildInfo)||void 0===c?void 0:c.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),we("function"==typeof(null===(k=null===(A=null===(g=lt?.cordova)||void 0===g?void 0:g.plugins)||void 0===A?void 0:A.browsertab)||void 0===k?void 0:k.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(Ae=null===(ce=null===(Q=lt?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Ae?void 0:Ae.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(ft=null===(Xe=lt?.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===ft?void 0:ft.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const Q=yield k._initialize(u);yield Q.initialized(),Q.resetRedirect(),function qs(){En.clear()}(),yield k._originValidation(u);const ce=function Mf(f,u,c=null){return{type:u,eventId:c,urlResponse:null,sessionId:Nf(),postBody:null,tenantId:f.tenantId,error:ue(f,"no-auth-event")}}(u,g,A);yield function vd(f,u){return Ic()._set(Ol(f),u)}(u,ce);const Ae=yield function yh(f,u,c){return Pl.apply(this,arguments)}(u,ce,c),Xe=yield function gd(f){const{cordova:u}=ua();return new Promise(c=>{u.plugins.browsertab.isAvailable(g=>{let A=null;g?u.plugins.browsertab.openUrl(f):A=u.InAppBrowser.open(f,function he(f=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),c(A)})})}(Ae);return function Eh(f,u,c){return Nl.apply(this,arguments)}(u,Q,Xe)})()}_isIframeWebStorageSupported(u,c){throw new Error("Method not implemented.")}_originValidation(u){const c=u._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function pd(f){return ru.apply(this,arguments)}(u)),this.originValidationPromises[c]}attachCallbackListeners(u,c){const{universalLinks:g,handleOpenURL:A,BuildInfo:k}=ua(),Q=setTimeout((0,v.Z)(function*(){yield Ju(u),c.onEvent(no())}),500),ce=function(){var ft=(0,v.Z)(function*(lt){clearTimeout(Q);const zn=yield Ju(u);let ir=null;zn&&lt?.url&&(ir=function Pf(f,u){var c,g;const A=function xl(f){const u=la(f),c=u.link?decodeURIComponent(u.link):void 0,g=la(c).link,A=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return la(A).link||A||g||c||f}(u);if(A.includes("/__/auth/callback")){const k=la(A),Q=k.firebaseError?function Ih(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(k.firebaseError)):null,ce=null===(g=null===(c=Q?.code)||void 0===c?void 0:c.split("auth/"))||void 0===g?void 0:g[1],Ae=ce?ue(ce):null;return Ae?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:A,postBody:null}}return null}(zn,lt.url)),c.onEvent(ir||no())});return function(zn){return ft.apply(this,arguments)}}();typeof g<"u"&&"function"==typeof g.subscribe&&g.subscribe(null,ce);const Ae=A,Xe=`${k.packageName.toLowerCase()}://`;ua().handleOpenURL=function(){var ft=(0,v.Z)(function*(lt){if(lt.toLowerCase().startsWith(Xe)&&ce({url:lt}),"function"==typeof Ae)try{Ae(lt)}catch(zn){console.error(zn)}});return function(lt){return ft.apply(this,arguments)}}()}};function no(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ue("no-auth-event")}}function Ro(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function Id(f=(0,G.z$)()){return!("file:"!==Ro()&&"ionic:"!==Ro()&&"capacitor:"!==Ro()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function bc(){try{const f=self.localStorage,u=Zn();if(f)return f.setItem(u,"1"),f.removeItem(u),!function wh(f=(0,G.z$)()){return function Dd(){return(0,G.w1)()&&11===document?.documentMode}()||function wc(f=(0,G.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,G.hl)()}catch{return Tc()&&(0,G.hl)()}return!1}function Tc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function nl(){return(function Dh(){return"http:"===Ro()||"https:"===Ro()}()||(0,G.ru)()||Id())&&!function Ch(){return(0,G.b$)()||(0,G.UG)()}()&&bc()&&!Tc()}function Sc(){return Id()&&typeof document<"u"}function Pr(){return(Pr=(0,v.Z)(function*(){return!!Sc()&&new Promise(f=>{const u=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),f(!0)})})})).apply(this,arguments)}const ei={LOCAL:"local",NONE:"none",SESSION:"session"},ca=we,Nr="persistence";function au(f){return il.apply(this,arguments)}function il(){return(il=(0,v.Z)(function*(f){yield f._initializationPromise;const u=Ac(),c=ht(Nr,f.config.apiKey,f.name);u&&u.setItem(c,f._getPersistence())})).apply(this,arguments)}function Ac(){var f;try{return(null===(f=function ou(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const Cd=we;class jr{constructor(){this.browserResolver=ut(Rl),this.cordovaResolver=ut(el),this.underlyingResolver=null,this._redirectPersistence=Ut,this._completeRedirectFn=ta,this._overrideRedirectResult=wo}_initialize(u){var c=this;return(0,v.Z)(function*(){return yield c.selectUnderlyingResolver(),c.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,c,g,A){var k=this;return(0,v.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(u,c,g,A)})()}_openRedirect(u,c,g,A){var k=this;return(0,v.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(u,c,g,A)})()}_isIframeWebStorageSupported(u,c){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,c)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return Sc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Cd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,v.Z)(function*(){if(u.underlyingResolver)return;const c=yield function bh(){return Pr.apply(this,arguments)}();u.underlyingResolver=c?u.cordovaResolver:u.browserResolver})()}}function Rc(f){return f.unwrap()}function Mo(f){return da(f)}function da(f){const{_tokenResponse:u}=f instanceof G.ZR?f.customData:f;if(!u)return null;if(!(f instanceof G.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return _s.credentialFromResult(f);const c=u.providerId;if(!c||c===me.PASSWORD)return null;let g;switch(c){case me.GOOGLE:g=Ur;break;case me.FACEBOOK:g=Us;break;case me.GITHUB:g=Uo;break;case me.TWITTER:g=Ru;break;default:const{oauthIdToken:A,oauthAccessToken:k,oauthTokenSecret:Q,pendingToken:ce,nonce:Ae}=u;return k||Q||A||ce?ce?c.startsWith("saml.")?Ri._create(c,ce):Gn._fromParams({providerId:c,signInMethod:c,pendingToken:ce,idToken:A,accessToken:k}):new Wt(c).credential({idToken:A,accessToken:k,rawNonce:Ae}):null}return f instanceof G.ZR?g.credentialFromError(f):g.credentialFromResult(f)}function Vr(f,u){return u.catch(c=>{throw c instanceof G.ZR&&function kl(f,u){var c;const g=null===(c=u.customData)||void 0===c?void 0:c._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new wd(f,function tc(f,u){var c;const g=(0,G.m9)(f),A=u;return we(u.customData.operationType,g,"argument-error"),we(null===(c=A.customData._serverResponse)||void 0===c?void 0:c.mfaPendingCredential,g,"argument-error"),Fu._fromError(g,A)}(f,u));else if(g){const A=da(u),k=u;A&&(k.credential=A,k.tenantId=g.tenantId||void 0,k.email=g.email||void 0,k.phoneNumber=g.phoneNumber||void 0)}}(f,c),c}).then(c=>{const A=c.user;return{operationType:c.operationType,credential:Mo(c),additionalUserInfo:Ou(c),user:Qi.getOrCreate(A)}})}function Pc(f,u){return ha.apply(this,arguments)}function ha(){return(ha=(0,v.Z)(function*(f,u){const c=yield u;return{verificationId:c.verificationId,confirm:g=>Vr(f,c.confirm(g))}})).apply(this,arguments)}class wd{constructor(u,c){this.resolver=c,this.auth=function Mc(f){return f.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return Vr(Rc(this.auth),this.resolver.resolveSignIn(u))}}class Qi{constructor(u){this._delegate=u,this.multiFactor=function td(f){const u=(0,G.m9)(f);return Bu.has(u)||Bu.set(u,Ci._fromUser(u)),Bu.get(u)}(u)}static getOrCreate(u){return Qi.USER_MAP.has(u)||Qi.USER_MAP.set(u,new Qi(u)),Qi.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var c=this;return(0,v.Z)(function*(){return Vr(c.auth,fo(c._delegate,u))})()}linkWithPhoneNumber(u,c){var g=this;return(0,v.Z)(function*(){return Pc(g.auth,function sc(f,u,c){return Gu.apply(this,arguments)}(g._delegate,u,c))})()}linkWithPopup(u){var c=this;return(0,v.Z)(function*(){return Vr(c.auth,function uc(f,u,c){return Sl.apply(this,arguments)}(c._delegate,u,jr))})()}linkWithRedirect(u){var c=this;return(0,v.Z)(function*(){return yield au(hn(c.auth)),hc(c._delegate,u,jr)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var c=this;return(0,v.Z)(function*(){return Vr(c.auth,Xn(c._delegate,u))})()}reauthenticateWithPhoneNumber(u,c){return Pc(this.auth,function Do(f,u,c){return Yt.apply(this,arguments)}(this._delegate,u,c))}reauthenticateWithPopup(u){return Vr(this.auth,function Ys(f,u,c){return ac.apply(this,arguments)}(this._delegate,u,jr))}reauthenticateWithRedirect(u){var c=this;return(0,v.Z)(function*(){return yield au(hn(c.auth)),Qs(c._delegate,u,jr)})()}sendEmailVerification(u){return function M(f,u){return Y.apply(this,arguments)}(this._delegate,u)}unlink(u){var c=this;return(0,v.Z)(function*(){return yield function Jl(f,u){return Mu.apply(this,arguments)}(c._delegate,u),c})()}updateEmail(u){return function Nt(f,u){const c=(0,G.m9)(f);return(0,z._isFirebaseServerApp)(c.auth.app)?Promise.reject(Re(c.auth)):pn(c,u,null)}(this._delegate,u)}updatePassword(u){return function kn(f,u){return pn((0,G.m9)(f),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function rd(f,u){return Zi.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function Kt(f,u){return Xt.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,c){return function De(f,u,c){return ke.apply(this,arguments)}(this._delegate,u,c)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qi.USER_MAP=new WeakMap;const uu=we;let Ds=(()=>{class f{constructor(c,g){if(this.app=c,g.isInitialized())return this._delegate=g.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=c.options;uu(A,"invalid-api-key",{appName:c.name}),uu(A,"invalid-api-key",{appName:c.name});const k=typeof window<"u"?jr:void 0;this._delegate=g.initialize({options:{persistence:lu(A,c.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(c){this._delegate.languageCode=c}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(c){this._delegate.tenantId=c}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(c,g){!function Lr(f,u,c){const g=hn(f);we(g._canInitEmulator,g,"emulator-config-failed"),we(/^https?:\/\//.test(u),g,"invalid-emulator-scheme");const A=!!c?.disableWarnings,k=lo(u),{host:Q,port:ce}=function Su(f){const u=lo(f),c=/(\/\/)?([^?#/]+)/.exec(f.substr(u.length));if(!c)return{host:"",port:null};const g=c[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(g);if(A){const k=A[1];return{host:k,port:ko(g.substr(k.length+1))}}{const[k,Q]=g.split(":");return{host:k,port:ko(Q)}}}(u);g.config.emulator={url:`${k}//${Q}${null===ce?"":`:${ce}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:Q,port:ce,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function wa(){function f(){const u=document.createElement("p"),c=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",c.position="fixed",c.width="100%",c.backgroundColor="#ffffff",c.border=".1em solid #000000",c.color="#b50000",c.bottom="0px",c.left="0px",c.margin="0px",c.zIndex="10000",c.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,c,g)}applyActionCode(c){return function Nn(f,u){return Pi.apply(this,arguments)}(this._delegate,c)}checkActionCode(c){return Ho(this._delegate,c)}confirmPasswordReset(c,g){return function mo(f,u,c){return hi.apply(this,arguments)}(this._delegate,c,g)}createUserWithEmailAndPassword(c,g){var A=this;return(0,v.Z)(function*(){return Vr(A._delegate,function $o(f,u,c){return Nu.apply(this,arguments)}(A._delegate,c,g))})()}fetchProvidersForEmail(c){return this.fetchSignInMethodsForEmail(c)}fetchSignInMethodsForEmail(c){return function x(f,u){return T.apply(this,arguments)}(this._delegate,c)}isSignInWithEmailLink(c){return function Pa(f,u){const c=li.parseLink(u);return"EMAIL_SIGNIN"===c?.operation}(0,c)}getRedirectResult(){var c=this;return(0,v.Z)(function*(){uu(nl(),c._delegate,"operation-not-supported-in-this-environment");const g=yield function mr(f,u){return fc.apply(this,arguments)}(c._delegate,jr);return g?Vr(c._delegate,Promise.resolve(g)):{credential:null,user:null}})()}addFrameworkForLogging(c){!function Cc(f,u){hn(f)._logFramework(u)}(this._delegate,c)}onAuthStateChanged(c,g,A){const{next:k,error:Q,complete:ce}=fa(c,g,A);return this._delegate.onAuthStateChanged(k,Q,ce)}onIdTokenChanged(c,g,A){const{next:k,error:Q,complete:ce}=fa(c,g,A);return this._delegate.onIdTokenChanged(k,Q,ce)}sendSignInLinkToEmail(c,g){return function pi(f,u,c){return Oi.apply(this,arguments)}(this._delegate,c,g)}sendPasswordResetEmail(c,g){return function Vs(f,u,c){return Xr.apply(this,arguments)}(this._delegate,c,g||void 0)}setPersistence(c){var g=this;return(0,v.Z)(function*(){let A;switch(function rl(f,u){ca(Object.values(ei).includes(u),f,"invalid-persistence-type"),(0,G.b$)()?ca(u!==ei.SESSION,f,"unsupported-persistence-type"):(0,G.UG)()?ca(u===ei.NONE,f,"unsupported-persistence-type"):Tc()?ca(u===ei.NONE||u===ei.LOCAL&&(0,G.hl)(),f,"unsupported-persistence-type"):ca(u===ei.NONE||bc(),f,"unsupported-persistence-type")}(g._delegate,c),c){case ei.SESSION:A=Ut;break;case ei.LOCAL:A=(yield ut(S)._isAvailable())?S:vo;break;case ei.NONE:A=mt;break;default:return N("argument-error",{appName:g._delegate.name})}return g._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(c){return this.signInWithCredential(c)}signInAnonymously(){return Vr(this._delegate,function Ql(f){return mn.apply(this,arguments)}(this._delegate))}signInWithCredential(c){return Vr(this._delegate,ci(this._delegate,c))}signInWithCustomToken(c){return Vr(this._delegate,function Ma(f,u){return po.apply(this,arguments)}(this._delegate,c))}signInWithEmailAndPassword(c,g){return Vr(this._delegate,function Ni(f,u,c){return(0,z._isFirebaseServerApp)(f.app)?Promise.reject(Re(f)):ci((0,G.m9)(f),Bn.credential(u,c)).catch(function(){var g=(0,v.Z)(function*(A){throw"auth/password-does-not-meet-requirements"===A.code&&js(f),A});return function(A){return g.apply(this,arguments)}}())}(this._delegate,c,g))}signInWithEmailLink(c,g){return Vr(this._delegate,function _o(f,u,c){return fs.apply(this,arguments)}(this._delegate,c,g))}signInWithPhoneNumber(c,g){return Pc(this._delegate,function Tl(f,u,c){return Ba.apply(this,arguments)}(this._delegate,c,g))}signInWithPopup(c){var g=this;return(0,v.Z)(function*(){return uu(nl(),g._delegate,"operation-not-supported-in-this-environment"),Vr(g._delegate,function Va(f,u,c){return Ha.apply(this,arguments)}(g._delegate,c,jr))})()}signInWithRedirect(c){var g=this;return(0,v.Z)(function*(){return uu(nl(),g._delegate,"operation-not-supported-in-this-environment"),yield au(g._delegate),$a(g._delegate,c,jr)})()}updateCurrentUser(c){return this._delegate.updateCurrentUser(c)}verifyPasswordResetCode(c){return function yr(f,u){return Hs.apply(this,arguments)}(this._delegate,c)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=ei,f})();function fa(f,u,c){let g=f;"function"!=typeof f&&({next:g,error:u,complete:c}=f);const A=g;return{next:Q=>A(Q&&Qi.getOrCreate(Q)),error:u,complete:c}}function lu(f,u){const c=function Th(f,u){const c=Ac();if(!c)return[];const g=ht(Nr,f,u);switch(c.getItem(g)){case ei.NONE:return[mt];case ei.LOCAL:return[S,Ut];case ei.SESSION:return[Ut];default:return[]}}(f,u);if(typeof self<"u"&&!c.includes(S)&&c.push(S),typeof window<"u")for(const g of[vo,Ut])c.includes(g)||c.push(g);return c.includes(mt)||c.push(mt),c}class cu{constructor(){this.providerId="phone",this._delegate=new _s(Rc(X.Z.auth()))}static credential(u,c){return _s.credential(u,c)}verifyPhoneNumber(u,c){return this._delegate.verifyPhoneNumber(u,c)}unwrap(){return this._delegate}}cu.PHONE_SIGN_IN_METHOD=_s.PHONE_SIGN_IN_METHOD,cu.PROVIDER_ID=_s.PROVIDER_ID;const bd=we;class du{constructor(u,c,g=X.Z.app()){var A;bd(null===(A=g.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:g.name}),this._delegate=new Fi(g.auth(),u,c),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Sh(f){f.INTERNAL.registerComponent(new ae.wA("auth-compat",u=>{const c=u.getProvider("app-compat").getImmediate(),g=u.getProvider("auth");return new Ds(c,g)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Bn,FacebookAuthProvider:Us,GithubAuthProvider:Uo,GoogleAuthProvider:Ur,OAuthProvider:Wt,SAMLAuthProvider:ds,PhoneAuthProvider:cu,PhoneMultiFactorGenerator:Yi,RecaptchaVerifier:du,TwitterAuthProvider:Ru,Auth:Ds,AuthCredential:_i,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.5.7")}(X.Z)},5861:(st,Ce,O)=>{function v(z,G,ie,te,ae,Ie,me){try{var Z=z[Ie](me),q=Z.value}catch(oe){return void ie(oe)}Z.done?G(q):Promise.resolve(q).then(te,ae)}function X(z){return function(){var G=this,ie=arguments;return new Promise(function(te,ae){var Ie=z.apply(G,ie);function me(q){v(Ie,te,ae,me,Z,"next",q)}function Z(q){v(Ie,te,ae,me,Z,"throw",q)}me(void 0)})}}O.d(Ce,{Z:()=>X})},7582:(st,Ce,O)=>{function G(J,ne){var _e={};for(var fe in J)Object.prototype.hasOwnProperty.call(J,fe)&&ne.indexOf(fe)<0&&(_e[fe]=J[fe]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var Te=0;for(fe=Object.getOwnPropertySymbols(J);Te<fe.length;Te++)ne.indexOf(fe[Te])<0&&Object.prototype.propertyIsEnumerable.call(J,fe[Te])&&(_e[fe[Te]]=J[fe[Te]])}return _e}function oe(J,ne,_e,fe){return new(_e||(_e=Promise))(function(Se,Ve){function ze(Lt){try{Dt(fe.next(Lt))}catch(Ct){Ve(Ct)}}function In(Lt){try{Dt(fe.throw(Lt))}catch(Ct){Ve(Ct)}}function Dt(Lt){Lt.done?Se(Lt.value):function Te(Se){return Se instanceof _e?Se:new _e(function(Ve){Ve(Se)})}(Lt.value).then(ze,In)}Dt((fe=fe.apply(J,ne||[])).next())})}function de(J){return this instanceof de?(this.v=J,this):new de(J)}function N(J,ne,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,fe=_e.apply(J,ne||[]),Se=[];return Te={},Ve("next"),Ve("throw"),Ve("return"),Te[Symbol.asyncIterator]=function(){return this},Te;function Ve(an){fe[an]&&(Te[an]=function(dn){return new Promise(function(Qt,$t){Se.push([an,dn,Qt,$t])>1||ze(an,dn)})})}function ze(an,dn){try{!function In(an){an.value instanceof de?Promise.resolve(an.value.v).then(Dt,Lt):Ct(Se[0][2],an)}(fe[an](dn))}catch(Qt){Ct(Se[0][3],Qt)}}function Dt(an){ze("next",an)}function Lt(an){ze("throw",an)}function Ct(an,dn){an(dn),Se.shift(),Se.length&&ze(Se[0][0],Se[0][1])}}function Ne(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ne=J[Symbol.asyncIterator];return ne?ne.call(J):(J=function Le(J){var ne="function"==typeof Symbol&&Symbol.iterator,_e=ne&&J[ne],fe=0;if(_e)return _e.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&fe>=J.length&&(J=void 0),{value:J&&J[fe++],done:!J}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),_e={},fe("next"),fe("throw"),fe("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function fe(Se){_e[Se]=J[Se]&&function(Ve){return new Promise(function(ze,In){!function Te(Se,Ve,ze,In){Promise.resolve(In).then(function(Dt){Se({value:Dt,done:ze})},Ve)}(ze,In,(Ve=J[Se](Ve)).done,Ve.value)})}}}O.d(Ce,{FC:()=>N,KL:()=>Ne,_T:()=>G,mG:()=>oe,qq:()=>de}),"function"==typeof SuppressedError&&SuppressedError}},st=>{st(st.s=2482)}]);